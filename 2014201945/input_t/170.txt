                     Phase Transitions of Bounded Satisfiability Problems* 

                                      Delbert D. Bailey, Phokion G. Kolaitis 
                                           Computer Science Department 
                                        University of California, Santa Cruz 
                                            Santa Cruz, CA 95064, U.S.A 
                                   {dbailey,kolaitis}@cse.ucsc.edu 


                        Abstract                                 The Boolean satisfiability problems 3, con•
                                                               stitute the most thoroughly investigated collection of NP-
     We investigate phase transitions for the family of        complete problems from the perspective of phase transitions. 
     bounded satisfiability problems 3SAT(b), recently         An instance of is a formula; the "control param•
     introduced by Zhang, that ask: given a 3CNF-              eter" of such a formula is the ratio of the number of clauses 
     formula, is there a truth assignment that violates no     over the number of variables occurring in the formula. Each 
     more than of its clauses. Zhang's results were            fixed value r of this ratio gives rise to the family of probabil•
     experimental and for a fixed number of variables          ity spaces 1, where is the collection 
     (n = 25), and suggested that the locations of the         of all kCNF-formulas with clauses generated by selecting 
     phase transitions for 3SAT(b) are separated and           k variables from variables without replacement and then 
     move significantly as b increases. Analysis of these      negating each variable with probability 1/2. Franco and Paul 
     locations was posed as an open question.                  [Franco and Paul, 1983] were the first to focus on this fixed 
     We analytically show that the phase transitions of        clauses-to-variables ratio model and to initiate a study of the 
     all 3SAT(6) problems must occur within a narrow           asymptotic behavior of the probability that a random 
     region, regardless of how large the value of b is.        formula in is satisfiable. During the past decade, 
     Moreover, our experiments reveal that the phase           much of the work in this area has been motivated from the 
     transitions for these problems occur in a remarkable      conjecture of Chvatal and Reed [Chvatal and Reed, 1992] to 
     way. Specifically, unlike 3SAT, the probability           the effect that, for every there is a positive real number 
     curves for 3SAT(6) do not have a quasi-common             rk such that if then whereas 
     intersection point about which they rotate as they        if then lim   
     become steeper with increasing n. Instead, they 
     move rapidly to the left toward the narrow region           The above conjecture asserts that, for every 3, a 
     that the analysis predicts.                               phase transition occurs in the probability of a ran•
                                                               dom formula in being satisfiable, as In  
                                                               spite of intensive efforts by several researchers, this conjec•
1 Introduction and Summary of Results                          ture has not been settled thus far. Nonetheless, progress to•
                                                               ward establishing this conjecture has been made in two dif•
A phase transition of a "system" can be described as an abrupt 
                                                               ferent fronts. On the experimental front, large-scale experi•
change in the behavior of the system that occurs when a cer•
                                                               ments with random Boolean formulas have provided evidence 
tain "control parameter" is at or near a certain critical value. 
                                                               for the existence of a critical ratio and have yielded esti•
Traditionally, phase transitions have been studied by physi•
                                                               mates of its actual value. In particular, experiments by Sel-
cists working in the area of statistical mechanics. During the 
                                                               man, Mitchell and Levesque [Selman et al., 1996] with ran•
past decade, however, computer scientists have carried out an 
                                                               dom 3CNF-formulas and analysis of these experiments by 
intensive study of phase transitions of algorithmic problems, 
                                                               Kirkpatrick and Selman [Kirkpatrick and Selman, 1994] in•
first of NP-complete decision problems and, more recently, 
                                                               dicate that is about 4.2. On the analytical front, there 
of decision problems that are complete for higher compu•
                                                               has been continuous progress toward establishing progres•
tational complexity classes. These investigations have shed 
                                                               sively tighter upper and lower bounds for the value of r . 
new light on the "structure" of presumably intractable deci•                                                            3
                                                               The best analytical results obtained to date assert that if r3  
sion problems by examining them from a perspective that had 
                                                               exists, then 3.42 4.507 [Kaporis et al., 2002; 
been hitherto unexplored in computer science; moreover, for 
certain fundamental algorithmic problems, the location of the  Dubois et al, 2000]. The experiments carried out by Sel•
phase transition has been correlated to the peak average cost  man, Mitchell and Levesque [Selman et al, 1996] for random 
of natural algorithms for solving these problems.              3CNF-formulas also revealed that the critical ratio 4.2 ap•
                                                               pears to be the location at which the average cost of the Davis-
   * Research of the authors was partially supported by NSF Grant Putnam-Logemann-Loveland (DPLL) procedure for Boolean 
No. IIS-9907419                                                satisfiability peaks. 


SATISFIABILITY                                                                                                      1187    Many fundamental algorithmic problems are optimization      moment method, we show analytically that the phase tran•
 problems and not mere decision problems. In particular, if    sitions for 3SAT(b) must occur (if they occur at all) within 
 a Boolean formula happens to be over-constrained and, thus,   a rather narrow region, regardless of the value of b. More•
 unsatisfiable, it is natural to ask for the maximum number    over, the same behavior is exhibited by the families kSAT(b) 
 of clauses in the formula that can be simultaneously satis•   of decision problems underlying the optimization problems 
 fied. By focusing on 3CNF-formulas, we obtain the optimiza•   MAX kSAT, k 3. In particular, the locations of the 
 tion problem MAX 3SAT: given a 3CNF-formula find the          phase transitions for 3SAT(b) are bounded from above by 
 maximum number of clauses of that can be simultaneously       1/(3 - lg(7)) 5.19 and from below by the greatest known 
 satisfied. MAX 3SAT is a prototypical constraint optimiza•    lower bound 3.42 for the location of the phase transition for 
 tion problem that is known to play a prominent role in the    3S AT. At the experimental front, we investigated the asymp•
 study of the approximability properties of NP-optimization    totic behavior of 3SAT(b) for the values b = 3, 4 and 5 by 
problems. Indeed, as shown by Papadimitriou and Yan-           running experiments for several different values of the num•
nakakis [Papadimitriou and Yannakakis, 1991], MAX SAT is       ber n of variables of random 3CNF-formulas (n = 10, 15, 
a MAX SNP-complete problem; this means that MAX SAT            20, 25, 30, 35). Our most striking experimental finding is the 
is a constant-approximable optimization problem and that ev•   discovery that, as n increases, the phase transition for each 
ery NP-optimization problem in the class MAX SNP can be        3SAT(b) emerges in a manner that is qualitatively different 
reduced to it via an approximation-preserving polynomial-      from that for 3SAT, as we describe next. 
time reduction (see also [Papadimitriou, 1994]).                 In the case of 3SAT, the experiments in [Selman et a/., 
   Its importance in complexity and approximability notwith•   1996] revealed that the family of curves for the probability of 
standing, MAX 3SAT had not been investigated from the          satisfiability of a random 3CNF-formula (one curve for each 
perspective of phase transitions until recently. Zhang [Zhang, number n of variables) has the property that the curves be•
2001] was the first to investigate phase transitions for MAX   come progressively steeper and every two of them intersect 
3SAT by carrying out an initial set of experiments for the     at a single point whose abscissa is near the location of the 
family of bounded satisfiability problems 3SAT(6), where b     phase transition for 3SAT (see Figure 1). In contrast, our ex•
is a non-negative integer. An instance of 3SAT(b) is a 3CNF-   periments reveal that, for each bounded satisfiability problem 
formula cp and the question is: does there exist a truth assign• 3SAT(b), the family of curves for the probability of a "yes" 
ment that violates no more than b clauses of Equivalently,     answer of a random 3CNF-formula (one curve for each num•
3SAT(6) asks whether the optimum value of MAX SAT on           ber n of variables) become progressively steeper but they do 
an instance is at least m - B, where m is the number of        not intersect; instead, they are separated by a distance that 
clauses of Thus, each 3SAT(b) is a decision problem ob•        is getting smaller as n increases. Figures 2, 3, and 4 depict 
tained from MAX SAT by imposing a "quality bound" on           these findings for 3SAT(3), 3SAT(4) and 3SAT(5), respec•
the optimum value. The control parameter of each 3SAT(6)       tively. This is a qualitatively different pattern of emergence 
is the ratio of clauses to variables, that is, the same control of a phase transition that does not seem to have been encoun•
parameter as the one used for 3SAT.                            tered in earlier investigations of phase transitions of other NP-
   Zhang [Zhang, 2001] explored phase transitions for the      complete problems in which the probability curves appear to 
bounded satisfiability problems 3SAT(6) by running exper•      have a quasi-common intersection point. 
iments on random 3CNF-formulas with n = 25 variables and 
for b = 5,10,15,20. His findings suggest that there is a se•   2 Bounded Satisfiability Problems 
ries of separated phase transitions corresponding to different 
quality bounds. The location of each phase transition appears  For every positive integer k 3, MAX kSAT is the follow•
to increase with b (see Figure 7); moreover, the average cost  ing optimization problem: given a kCNF-formula find the 
for solving the optimization problem MAX SAT appears to        maximum number of simultaneously satisfied clauses of 
be the envelope of the peak average cost for solving the deci• The study of phase transitions for an optimization problem 
sion problems 3SAT(b), as b increases. Zhang [Zhang, 2001]     begins by focusing on one or more decision problems that 
did not report on the asymptotic behavior of 3SAT(b) as the    underlie that optimization problem. The most natural way to 
number of variables increases, because he ran experiments      derive a decision problem from an optimization problem is to 
for just a single value (n = 25) of the number of variables.   consider as input both an instance of the optimization prob•
He posed the analysis of phase transitions for 3SAT(b) as an   lem and an arbitrary quality bound, and to ask whether the 
open problem and, in particular, raised the question of finding optimum value on this instance is bigger (or smaller) than the 
the exact location of the phase transitions for these decision given quality bound. In the case of MAX kSAT, this gives 
problems.                                                      rise to the following NP-complete decision problem: given a 
   In this paper, we report on a systematic investigation of   kCNF-formula and an integer c, is there a truth assignment 
phase transitions for the family of bounded satisfiability prob• to the variables of that satisfies at least c clauses of It 
lems 3SAT(6). Our investigation has produced both ana•         is also possible to derive a family of decision problems that 
lytical and experimental results that yield a more complete    underlie MAX kSAT and are such that the inputs to each of 
and, at the same time, rather surprising picture of these phase them are kCNF-formulas only. For each non-negative integer 
transitions. As stated above, Zhang's [Zhang, 2001] initial    6, let kS AT(b) be the following bounded satisfiability prob•
experiments suggest that the location of the phase transition  lem: given a kCNF-formula is there a truth assignment 
for each 3SAT(b) increases with b. Here, using the first-      to the variables of that violates no more than b clauses of 


1188                                                                                                     SATISFIABILITY (p? Clearly, A;SAT(0) is kSAT itself; moreover, it is easy    case, however, bounding the expectation of a suitable random 
to show that every bounded satisfiability problem A:SAT(6),   variable X is not as trivial as it was for kSAT, but still quite 
where A; 3 and b 1, is NP-complete. Since the input to        straightforward. 
kSAT(b) is a kCNF-formula, phase transitions for the family     Let be a random variable on such that if 
kSAT(6) can be studied using the ratio of clauses to variables 
                                                                is a formula in thenis the number of 
as the control parameter, that is, the same control parameter 
                                                              truth assignments on n variables that violate no more than b 
as the one used in the study of phase transitions for kS AT. 
  There have been earlier investigations of phase transi•     clauses of Clearly, thus our 
tions for other fundamental optimization problems, includ•    goal now is to bound the expectation E(X^r,b). 
ing the TRAVELING SALESMAN PROBLEM and Walsh,                   For every truth assignment a on n variables, let be the 
1996b] and NUMBER PARTITIONING and Walsh,                     Bernoulli random variable on such that= 1, 
1996a]. It should be noted, however, that for each of these   if Q violates no more than b clauses of and = 0, 
two optimization problems a single decision problem was       otherwise. It is easy to see that the number of formulas 
considered (instead of a family of decision problems) because in for which a violates no more than b clauses is 
the quality bound was part of the input to the decision prob•
                                                                                                which implies that 
lem. Moreover, the control parameter for these problems was 
chosen in such a way that it encoded the quality bound in 
some direct or indirect way, and this choice was criticized 
in subsequent investigations [Slaney and Thiebaux, 1998]. 
Clearly, this criticism does not apply to the bounded satis•
fiability problems kSAT(fc).                                    Since the linearity of expectation implies 
  For every integers k 3, n 1, and b 0, let                   that Thus, 
be the probability that a random formula in the space 
         is a "yes" instance of kSAT(b), that is, there is a 
truth assignment that violates no more than b clauses of 
We now have all the notation in place to formulate the follow•
ing conjecture concerning phase transitions for the bounded 
satisfiability problems kSAT(b). 
Conjecture 2.1: For every integer A: 3 and every integer 
b 0, there is a positive real number r k,b such that 


  Note that Chvatal and Reed's conjecture [Chvatal and 
Reed, 1992] concerning phase transitions for kSAT, k 3, 
is the special case of Conjecture 2.1 in which 6 = 0. As men• Thus, if then lim = 0, re•
tioned in Section 1, Zhang iZhang, 2001] raised the prob•     gardless of the value of b. Now an application of Markov's 
lem of finding the exact location of the phase transition for inequality to gives the result.  
3SAT(6), which, in terms of the notation introduced here, 
amounts to first establishing Conjecture 2.1 for A: = 3 and     Concerning lower bounds for r*^, it is obvious that if r 
then determining the critical ratio for each 6. Although      is a ratio such that almost all formulas are satisfiable, 
far from solving these problems, the next result yields ana•  then = 1, regardless of the value of b. 
lytical upper bounds for the values of in particular, it      Consequently, if r* is the critical ratio for /cS AT, then  
demonstrates that for each A: 3, all critical ratios are r*,6, regardless of the value of b. Of course, this assumes 
bounded by a quantity that depends only on k.                 that the critical ratios r* and r k,b actually exist. Until this is 
                                                              established, we can use the analytically derived lower bounds 
Proposition 2.2: Fix two integers k 3 and b 0.                for r k as lower bounds for every In particular, the best 
                                                              currently known such lower bound for r3 is 3.42 [Kaporis et 
                                                              al, 2002]. By combining these remarks with Proposition 2.2, 
                                                              we obtain the following bounds for the phase transitions of 
                                                              the bounded satisfiability problems 3SAT(6). 
Proof: If X is a random variable taking non-negative values 
and having finite expectation E{X), then Markov's inequal•
ity asserts that This inequality has been 
used in the past to obtain a coarse upper bound for the criti•
cal ratio for the phase transition of Here, we will 
apply the same method to obtain upper bounds for the criti•
cal ratios for the phase transitions of In this 


SATISFIABILITY                                                                                                     1189  3 Experimental Results 
 We ran experiments for random 3CNF-formulas drawn from 
 n = 10, 15, 20, 25, 30 and 35 variable spaces. We imple•
 mented a suitably modified version of the Davis-Logemann-
 Loveland-Putnam (DPLL) procedure and tested each random 
 formula drawn to determine whether it is a "yes" instance of 
 the bounded satisfiability problems 3SAT(b), for b = 3, 4 
 and 5. For each (n, b)-pair, probability curves were deter•
 mined by recording the average number of "yes" instances in 
 samples of 1200 formulas, one sample for each possible ratio 
 of clauses to variables up to a ratio of 15. 
   The probability curves for 3SAT(6) with b = 3, 4 and 5 
 are depicted in Figures 2, 3 and 4, respectively. 
   In these figures, we see that, as r increases, the probability 
curves start out in a region where the probability is 1 or close 
 to 1 and then they transition to a region where the probability 
is 0 or close to 0. To make the terminology more precise, let 
us define the location of the transition for the probability of 
 3S AT(b) to be the ratio r at which the probability is 0.5, and 
the width of the transition for the probability of 3SAT(6) to be 
the difference in the r values between the ratios at which the Figure 1: The probability curves for bounded satisfiability with 
probability falls from 0.9 to 0.1. As n increases, the probabil• b — 0. There is a curve for each of six different values of n. They 
ity curves move from right to left; moreover, both the location show the well known 3SAT behavior. As n increases the transition 
and the width of the transition appear to change with different regions of the curves become steeper and appear to have a common 
values of n. For each fixed 6, the width becomes smaller with  intersection point about which they rotate. The common hypothesis 
                                                               is that in the limit the curves approach a step function through this 
increasing n just as is the case for the probability curves for 
                                                               point and its ratio is the critical phase transition value for 3SAT, 
3SAT in Figure 1; the location, however, moves dramatically    approximately 4.2. 
to the left in sharp contrast with the behavior for 3SAT, where 
the location moves very slightly and converges to a value in 
the transition region where all the curves appear to intersect 
at one point. The magnitude of the leftward movement of 
the transition location with increasing n appears to become 
greater with increasing values of b. Thus, the phase transi•
tions for the bounded satisfiability problems 3SAT(6) emerge 
in a pattern that is novel and qualitatively different from that 
of the phase transitions for other NP-complete problems. 
   We also recorded the average cost of the modified DPLL-
procedure for solving 3SAT(6), where b = 3, 4, 5. Each of 
these problems is much harder on average than 3SAT; more•
over, these problems are getting harder on average as b in•
creases. As a matter of fact, the experiments for b = 5 and 
for n = 35 took several weeks to complete. Figure 5 depicts 
the average cost of solving 3SAT, while Figures 6 depicts the 
average cost of solving 3S AT(5). 
   In Figure 6, the performance curves for 3SAT(5) move 
from lower to higher with increasing n and, as has been ob•
served with 3SAT, the peaks in cost appear to correspond to 
the location of the transitions. The peaks move from right to 
left in synchrony with the movement of the location of the 
transition for 3SAT(6); this movement is more dramatic than 
in the case of 3SAT.                                           Figure 2: These arc the probability curves for 3S AT(3). There is a 
                                                               curve for each of the same n values as in Figure 1. As 71 increases, 
                                                               the transition regions appear to steepen and distinctly move to the 
4 Finite Size Scaling                                          left. The steepening is similar to 3SAT behavior but here there is 
The locations of the transition in the probability curves for  no apparent common rotation point. The transitions appear to be ap•
3SAT(6) appear to approach a limiting critical ratio r 3,b that proaching a step function in the limit but it is not possible to visually 
                                                               determine the critical ratio. We used a form of finite size scaling to 
is within the analytically derived upper and lower bounds in 
                                                               estimate it as approximately 4.4 
Corollary 2.3. Nonetheless, it is not clear what the critical 
ratio r3,b actually is, nor can it be estimated by visual inspec-


1190                                                                                                     SATISFIABILITY Figure 3: These are the probability curves for 3S AT(4). There is a 
curve for each of the same n values as in the previous figures. Again, 
                                                                         Figure 5: This set of curves plots the well known performance be•
as n increases, the transition regions appear to steepen and distinctly 
                                                                         havior of the DPLL procedure for 3SAT. This figure is here for com•
move to the left. The steepening is similar to 3SAT behavior but here 
                                                                         parison with the following figure for 3S AT(5). 
there is no apparent common rotation point. The transitions appear 
to be approaching a step function in the limit but it is not possible 
to visually determine the critical ratio. We used a form of finite size 
scaling to estimate it as approximately 4.5 


                                                                         Figure 6: This set of curves plots the algorithmic costs for 
Figure 4: These are the probability curves for 3S AT(5). There is a 
                                                                         3S AT(5). The behavior is similar to 3SAT in that cost increases with 
curve for each of the same n values as in the previous figures. Again, 
                                                                         increasing n; moreover, cost exhibits the so-called "easy/hard/easy" 
as n increases, the transition regions appear to steepen and distinctly 
                                                                        pattern as the ratio increases. As would be expected the costs for 
move to the left. The steepening is similar to 3SAT behavior but here 
                                                                        bounded satisfiability arc much higher than for satisfiability. Note 
there is no apparent common rotation point. The transitions appear 
                                                                        that the movement of the peak locations, as n increases, is quite 
to be approaching a step function in the limit but it is not possible 
                                                                         marked and corresponds to the leftward movement of the transition 
to visually determine the critical ratio. We used a form of finite size 
                                                                        regions in the probability curves. 
scaling to estimate it as approximately 4.8. Note the analytical upper 
bound is approximately 5.19. 


SATISFIABILITY                                                                                                                         1191 