            decision diagrams computation semiring valuations                                                  nic wilson                                    cork constraint computation centre                     department science university college cork ireland                                            nwilsoncuccie                          abstract                          tions correspond complete directed paths                                                        prune representation allow backtrackfree generation      paper describes new approach computa   solution ﬁnd equivalences through      tion semiringbased includes   interchangeability number nodes decision      semiringbased csps particular weighted csps diagram tiny fraction number nodes      fuzzy csps standard csps bayesian corresponding decision tree number solutions      networks approach computation based exponential size      semiringlabelled decision diagrams  cision diagram merging nodes ‘factorises’      sldds  generated similar     lution set size decision tree exponential      way standard search tree decision tree size decision diagram kind representa      solving csp nodes merged cre    tion form binary decision diagrams bryant       ating compact representation certain   proved effective certain domains      classes csps number nodes   cad applications      sulting network tiny fraction num      ber nodes corresponding search tree    testing interchangeability expensive      method given generating sldd repre instead use sufﬁcient condition neighbourhood inter                                                                                                   sents particular instance semiringbased changeability constraints scope                                                                             −                    csp shown used perform  intersects                                                                                                              various computations solving involves variables  ‘slice’ given                                                                                   semiringbased csp ﬁnding optimal solutions instantiating variables  condition tested      termining possible values each variable quickly time proportional size sliced      counting solutions csp                      straints furthermore constructs slices each                                                        node visited indexes appropriately check                                                        ing previously generated neighbourhood    introduction                                       interchangeable achieved efﬁciently  suppose performing depthﬁrst search solutions computational approach generalised  necessarily binary csp record nodes semiringbased systems section  including semiring  search decision tree we’ve visited far solu based csps particular weighted csps fuzzy csps  tions correspond complete paths tree directed standard csps bayesian networks each edge  paths root node node corresponding com decision diagram labelled value semiring  plete assignment node associated partial generating section  semiringlabelled deci  assignment set variables checked sion diagrams sldds show  consistent csp sense satisfying constraints way sldd represents semiringbased sys  involving variables suppose manage tem product semiring values edges com  ﬁnd assignment corresponding plete path equal semiring value complete  node previously visited consistent signment associated path efﬁciency ap  fully interchangeable extending freuder  proach computation dependent com  assignments remaining variables  uw pact sldd especially compared corresponding  solution csp uw solution search tree sldd compact efﬁciently    need expand subtree constructed operations efﬁcient exam  equivalent ex ples situations sldd compact linear  panded instead merge nodes corresponding size despite number solutions exponential  resulting structure longer tree—so number variables  described decision diagram opposed sections   show semiringlabelled decision  cision tree—but represent solutions solu diagram used perform various computations                                                                                         terest including solving optimising generating inferred avaluations write mean c∈c let  constraints projections needed inference bayesian avaluation let subset vc projection  networks solving semiringbased csps             c↓u deﬁned ∈ du c↓u equal    formalism sldds deﬁned paper develop semiring summation cw ∈ dvc  ment ﬁnitestate automata representations weighted w↓u   constraints amilhastre et al  soft computational problems expressedn com  straints unary considered im puting projection combination  multiset  plementing kind dynamic programming bellman  semiring valuations straightforward approach  shown applicable compilation technique computation exponential particular computa  substantial realworld problem                  tions semiringbased csps bistarelli et al      main contributions paper extending  form general formalism  computational technique amilhastre et al  soft constraints includes weighted csps fuzzy csps  number signiﬁcant ways technique sldds probabilistic csps lexicographic csps setbased csps  applied computation formalisms preferences use special type semiring ⊕ idempotent  uncertainty particular general class soft  absorbing element ⊕  csps semiringbased csps allow soft constraints finite csps expressed set avaluations  arbitrary arity extensional intensional using     max ×i ⊗  × min  representations constraints applies computation ⊕ max constraint set variables repre  bayesian networks counting solutions sented semiring valuation  du →    csp construction representation new assignment cu   satisﬁesn  based backtracking search certain nodes straint csp solution  c↓∅    search tree merged implicity performing kind perform computations bayesian networks use  malised caching enables constraint programming tech semiring  hir    ×i ir set non  niques used making sldds combination form negative real numbers known computation  dynamic programming searchbased approaches used bayesian networks pearl  shenoy shafer   constraint programming                               performed computing projections combinations                                                        avaluations each avaluation represents    semiring valuations                                conditional probability table variable given parents                                                        bayesian network particular marginal probability  semirings consist set operations ⊗ ⊕ variable assigned given c↓xx  associative commutative ⊗ semiring used count solutions csp  distributes ⊕ assume unit element                                                        c↓∅ restricting input semiring values    null element tuple  ha   ⊕ ⊗i said semir  ing set containing different elements   ⊕  ⊗ operations satisfying following properties  constructing sldd representing  ⊗ associative commutative identity  ⊕ asso combined semiring valuation  ciative commutative identity  null                                                        show construct structure called semiring  element α ∈ α⊗   ⊗ distributes                                                        labelled decision diagram sldd represents par  ⊕ α β γ ∈ α⊗β⊕γ  α⊗β⊕α⊗γ                                                                                     ticular sense combination  c∈c multiset  semiring valuations let ﬁnite set variables avaluations  ha   ⊕ ⊗i given semir  each ∈ let dx domain set possible ing sldd directed acyclic graph edges  assignmentsq ⊆ let set partial tuples labelled elements we’ll show sections   du     x∈u dx  set possible assignments  representation used perform certain  set variables complete assignment element important computations                                   ↓w  dv  ∈ du  ⊆    projection  construction sldd similar                                            ↓w  variables  ∈   search tree generated chronological backtracking  ux                                                 difference generate edge use    let   ha   ⊕ ⊗i semiring avaluation certain condition forward neighbourhood interchangeability  associates semiring value each particular set deﬁned extending deﬁnition neighbourhood  partial tuples function dvc set terchangeability introduction test avoid  variables vc ⊆ called scope ∈ du creating new node instead connect edge al  assignment set variables containing vc ready existing node                                 ↓v  write cu abbreviation cu  semiring op let ⊆ set variables deﬁne valuation ∈  erations allow deﬁne combination projection active respect scope intersects                                                    operation semiring valuations combination ⊗ − active valuation deﬁne ∈ du                     avaluations deﬁned scope ∪                                                      avaluation cu ‘slice’ given assigning  ⊗ cu  cu ⊗ cu cu↓vc  ⊗ cu↓vc                                                              each assignment vc ∪ vc  ⊗ commutative asso general deﬁnition sldds given wilson   ciative operation avaluations  multiset corresponding version theorem scope vcu cu vc − assign deﬁne avaluation cs ∈ dv  cs  απv    ments vcu  cut deﬁned cut ut sldd said represent avaluation cs   concatenation tuples assignments set                                                        theorem   let semiring let multiset  variables said forward neighbourhood inter                                                        avaluations variables  let adecision dia  changeable respect active avaluations                                                                                              gram constructed represents   slices cu cu equal roughly im  ↓∅    plies subproblems corresponding  π απ sum complete  need solve paths    semiringlabelled decision diagram set vari section shown compute sums  ables  deﬁned adecision diagram  efﬁciently  semiring  ha   ⊕ ⊗i adecision dia note ‘dynamic variable ordering’ used  gram consists directed acyclic graph unique earli order variables differ paths adapt  est parentless node source unique latest childless constraint programming techniques improve efﬁciency  node sink each edge λ labelled value αλ use propagation maintaining arc consistency  semiring deﬁned complete path deﬁned zeros wilson  furthermore sldd like  maximal directed path path source search tree generated depthﬁrst fashion nat  sink                                                 ural we’re attempting solve csp construction    nodes edges labelled various pieces terminated solution  information described associated each node facilitate merging partial tuple represent  sink variable xr variable collection slices cu  active string σu el                                                                                         instantiated ur set variables ements semiring ∈ du tuples  associated nodes directed path source forward neighbourhood interchangeable                                                  σu  σu set variables incrementally    start creating node source deﬁne construct trie tree strings storing each σur  usource    ∅ usource trivial assignment nodes ur ∈ du enables efﬁcient generation  set variables choose variable each edge sldd forp valuations represented exten   ∈  set xsource    construction pro sionally deﬁne sizec c∈c sizec sizec  cess works choosing node constructed cardinality scope multiplied number  structing directed edges coming node nonzero tuples upper bound time needed  nodes end edges each point choose node construct sldd proportional sizec×sizes   sink currently children edges em sizes number edges sldd par  anating node construction ticular size sldd polynomial  complete                                             parametrised family problems depending number    each assignment xr create directed edge variables constructing sldd polynomial  λ associated assignment xr  deﬁne  xλ   xr set variables uλ  ur ∪ xr sldd compact  signment uλ uλ ur extended assigningn crucial factor determining efﬁciency  xr semiring value αλ deﬁned cuλ approach size sldd sldd compact  semiring product ∈ ‘just efﬁciently constructed operations  instantiated’ xλ ∈ vc ⊆ uλ          efﬁcient sldd tend compact compared    uλ   variables instantiated associated search tree situations differ  connect end λ sink αλ   set ent partial instantiations lead equivalent subproblems  end λ sink αλ   ﬁnd previously standard searchbased technique solve                created node uλ ur forward neighbour subproblem times kinds situations  hood interchangeable requires uλ  ur  set problem structure causes happen                      end λ  ‘merging’ cor class examples illustrate  responds merging nodes decision tree structed semiringlabelled decision diagram compact                     create new node  set ur  uλ ur  uλ choose represents exponential number nonzero com  xr ∈ − ur  aid future ‘merging’ store plete assignments solutions csp cases                 node slices cur  active valuations size sldd linear number variables    following directed path corresponds size corresponding search tree exponential  signment set variables complete assignment                                                        example  let         size each  ∈ dv  determines complete path directed path                                                                           domain let multiset avaluations  source sink π  following each node                                                      semiring scope each valuation  edge associated value vxr    semiring value απ associated path  random binary csps demonstrated ex  semiring product semiring values associated each perimentally size sldd representation sev  edge path λ∈π αλ thought eral orders magnitude smaller size corresponding  cost following path π adecision diagram search tree happens problems sparse looseinvolves variables apart source each  source deﬁne  stant fairly small ∈ max  xi ∈ vc −                                                                                                     min  xi ∈ vc ≤ arise example       fr     fr  ⊗ αr →   problem temporal component              r→r  dex related time generate adecision dia                                                        semiring summation edges  gram using ﬁxed variable ordering     xn  variables appear order paths let point sldd directed acyclic graph  ≤  consider assignments source unique parentless node                                                       ﬁnes fr each unambiguously symmetrically deﬁne  set variables      xj agree                                                       gsink    working backwards sink deﬁne  variables uxi  xi                                                                                      sink gr   r→r αr →  ⊗ gr   −  ≤ forward neighbourhood inter                                        changeable active avaluation agree semiring summation edges → emanating                                                        furthermore each node edge →  scope cu  cu  implies construc                                                                              ﬁne hr  fr ⊗ gr hr →   fr ⊗ αr →  tion sldd produce nodes ‘level’    upper bound size sldd ndp  ⊗ gr   linear constants csp proposition  let node let λ edge  case number solutions exponential                                                                                  sldd  source  fr    π απ  exponential size sldd opera semiring summation paths π source  tions counting number solutions ﬁnding particular fsink semiring sum απ  optimal solution general semirings section                                                         pathsl source sink similarly  sink  achieved time linear exponen gr  απ semiring summation  tial number assignments reasoned            π                                                        pathsl sink r∈  source sink    similar argument leads upper bound size hr  π απ semiring sum απ  sldd form terms pathwidth bod complete paths passing through node furthermore hλ  laender  arbitrary multisets semiring valuations equal semiring sum απ complete paths  ﬁxed variable ordering used generate sldd gives include edge λ  rise corresponding path decomposition                                                          proposition generalises proposition  amilhas  examples certain problems involving permutations tre et al  deﬁnitions gener  lead relatively compact sldds example alised forms functions deﬁnition  amilhastre et  counting number linear orders extend given al   partial order van dongen  structure prob note number semiring operations needed  lem ensures sldd decomposes problem simi compute functions linear size sldd  larly dynamic programming approach reducing fac  torial problem exponential one—which huge  computations using sldd  reduction time complexity cost large space  requirements similar remarks apply solving rehearsal section show sldd representation  problem csplib httpwwwcspliborg     problem    used perform important computations projections  number  compact structures form similar ﬁnding optimal solutions wilson  showed  sldd used enforcing generalised arc sldd used randomly picking solution  sistency forms global constraints pesant csp uniform probability using algorithm                                                  similar structure described ﬁnding                                                        optimal solution assumed sldd                                                        representation function  dv  → based    propagation semiring values sldd             semiring  ha   ⊕ ⊗i assume                                                        computed associated functions described  purpose section show efﬁciently section  form various technical computations sldd partic  ular sum semiring values complete  performing projections  paths ii complete paths pass through particu mentioned computing projection com  lar node iii complete paths pass through partic bination multiset semiring valuations important  ular edge algorithms immediate generalisations different applications gives called  classic shortest path algorithm application bistarelli et al  ‘solution’ semiringbased  weighted csp semiring hin ∪  ∞ ∞  min reduces straint problem used generating implied soft  shortest path algorithm                     constraints idempotent semiringbased csp bistarelli    suppose adecision diagram semiring et al  projecting set variables    ha   ⊕ ⊗i associate each node used example computing weight best  semiring values fr gr deﬁned induc lution weighted csp counting solutions csp  tively deﬁne fsource   working forwards projection singleton set determines possible valuesof variable csps analogously semiring λ sink resetting αλ  edge  based csps bayesian network semiring computes optimal complete path certain addition  marginal bayesian network                   ismax semirings particular fuzzy semiring ⊗    lemma shows projection equalling min alternatively ⊗ strictly monotonic  set singleton sets computed efﬁciently resulting network property complete  follows easily proposition                     path optimal ignoring edges λ αλ    lemma   suppose adecision diagram set vari gives considerable ﬂexibility generating optimal solutions  ables associated functions represents interactive setting guiding user solving  valuation let ∈ variable ∈ dx conﬁguration problem                      ↓∅     sink       source  value thenl               ii c↓xx        hλ Λ set edges  discussion                   λ∈Λx              associated assignment                                                         representation amilhastre et al                   ↓x    compute   requires Λx −  semiring sum directly generalise section  sldds  mations compute projections single vari related computational approaches includ  able computing c↓xx variables ing searchbased approaches solving csps join  values requires semiring summation each edge treehypertreebased decomposition methods andor  sldd computed time linear size search graphs brieﬂy discuss relationships  sldd                                                 low  adding unary semiring valuations suppose receive  construction sldd section  different  new set semiring valuations unary way representation amilhastre et al   scope each single variable want com generated similar representations binary decision  bine previous combination seen diagrams bryant  vempaty   graphical structure used just involve building representation adding  change semiring values edges used constraints incrementally giving representations subsets  computing general projections applica constraints sldds generated sim  tions dynamic soft csps amilhastre et al  ilar way construction section  takes  conditioning inference bayesian network constraints semiring valuations account  computing probable explanations pearl  advantageous particular search                                                        ing single solution csp sldd need time    finding optimal solutions                        complexity polynomially worse standard csp  subsection consider semirings      search approach chronological backtracking whilst  ha   ⊕ ⊗i special property α β ∈ maintaining arc consistency experimental  α ⊕ β  α α ⊕ β  β semirings satisfying sults pan vardi  suggest bdd  property said satisfy additionismax property approach exponentially worse search approach  deﬁne total order ≥ given α ≥ β   sldds large storage requirements  α ⊕ β  α valuation structure involve fewer nodes need involve  ﬁned deﬁnition  bistarelli et al  gives rise nodes search tree approach illustrated ex  semiring satisfying additionismax using order rela ample section  application amilhastre  tion deﬁne ⊕ note writing order oppo et al  certain problems large number  site way round approach section applies solutions nonzero complete assignments  valued csps bistarelli et al  including weighted sldd manageable size leading efﬁcient computation  csps fuzzy csps lexicographic csps valued csps searchbased method feasible  represented multisets avaluations sat wants compile set solutions count number  isﬁes additionismax                                solutions    complete assignment ∈ dv  deﬁned optimal moststudied general approach kind                      cv ≥ cv  ∈ dv  happens problem join tree hypertree decomposition ap  cv  c↓∅ generate optimal complete assignment proach general framework shenoy shafer  ∈ dv  fast linear number variables shenoy shafer  bucket elimination dechter  start node source current node itera  nonserial dynamic programming bertele  tively pick child current node satisfying following brioschi  join tree approach decision  condition reach sink pick child cur diagram approach efﬁcient depends  rent node maximum value απ⊗αr → r⊗gr form problem join tree approach ef  children π path chosen far ﬁcient appropriate topological structure little  source associated complete assignment structure valuespeciﬁc decision diagram  optimal conversely optimal complete assignment approach looks liable efﬁcient good  generated way                         deal valuespeciﬁc structure form ‘context    interested optimal solutions speciﬁc independence’ boutilier et al  deﬁned  eliminate each edge λ hλ  c↓∅ connecting bayesian network context leading compact decision di
