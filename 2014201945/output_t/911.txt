                           maximal tractable class soft constraints            david cohen martin cooper peter jeavons andrei krokhin      science department irit oucl science department            rhul uk university toulouse iii france university oxford uk university warwick uk      dcohenrhulacuk cooperiritfr pjeavonscomlaboxacuk akdcswarwickacuk                               abstract                                 • each variable assigned value                                                                       close possible        optimization problems expressed us­       ing form soft constraints different          • each pair variables assigned pair        measures desirability arc associated differ­           values similar possible        ent combinations domain values specified           model situation impose following soft        subsets variables paper identify         constraints        class soft binary constraints prob­                                                                   • unary constraint each specified function        lem finding optimal solution tractable                                                                              words show given set        constraints exists polynomial time al­        • binary constraint each pair vvi specified        gorithm determine assignment having                 function        best overall combined measure desirability       seek assignment variables        tractable class includes commonlyoccurring          minimizes sum constraint functions        soft constraints near possible        soon possible crisp constraints          greater                                                                                                                             lj    introduction                                                                  cost allowing additional flexibility specification   constraint satisfaction framework widely acknowl­                                                                 constraints order model requirements kind   edged convenient efficient way model solve                                                                  generally increase computational difficulty case   wide variety problems arising artificial intelligence in­                                                                 crisp constraints considerable progress   cluding planning scheduling image processing natu­                                                                 identifying classes constraints tractable   ral language understanding                                                                  sense exists polynomial time algorithm deter­     standard framework constraint usually taken                                                                  collection constraints   predicate relation specifying allowed combina­                                                                 class simultaneously satisfied feder vardi    tions values fixed collection variables                                                                  jeavons et ail  case soft constraints   refer constraints crisp constraints num­                                                                 detailed investigation tractable cases   ber authors suggested usefulness con­                                                                 boolean problems each variable just  possible   straint satisfaction framework greatly enhanced                                                                  values creignou et al  little investigation   extending definition constraint include soft                                                                  tractable cases larger domains    constraints allow different measures desirability                                                                                                        significant results literature combina­  associated different combinations values bistarelli                                                                  torial optimization clearly relevant ques­  et al  extended framework constraint                                                                  tion nemhauser wolsey    seen function mapping each possible combination                                                                    paper make use idea submodular func•  values measure desirability undesirability finding                                                                  tion nemhauser wolsey  topkis  iden­  solution set constraints means finding as­                                                                 tify general class soft constraints exists   signment values variables best                                                                  polynomial time solution algorithm submodular functions   overall combined desirability measure                                                                  usually defined realvalued functions boolean tu­                                                                 ples sets nemhauser wolsey  consider   example  example consider optimization prob­  lem variables vv vn            previous work able non  wish assign each variable integer value range     boolean tractable soft constraints khatib et ai     subject following restrictions             describes family tractable soft temporal constraints       constraints                                                                                                            general case functions tuples arbitrary purposes paper require proper­  finite domain allow functions infinite    ties valued csp approach additional require­  values establishing new decomposition result    ment aggregation operator partial inverse   general class binary submodular functions theorem     evaluation subtracted larger eval­  obtain cubic time algorithm optimal assign­   uation concreteness shall simply assume through­  ment set soft constraints defined functions paper set evaluations set      number examples illustrate dif­    nonnegative integers infinity set   ferent forms soft constraint defined using bi­  nonnegative real numbers infinity   nary submodular functions show class evaluations aggregation   maximal sense form binary constraint  given   added sacrificing tractability                              note set                                                                    elements set used represent dif­   definitions                                                  ferent measure undesirability penalties associated                                                                  different combinations values allows complete   identify tractable class soft constraints need definition soft constraint satisfaction problem   restrict set functions used specify constraints following simple definition solution instance   restricted set possible functions called soft   constraint language                                                                  definition  soft constraint satisfaction problem                                                                  instance — assignment mapping   definition  let fixed sets soft constraint    evaluation assignment denoted   language evaluations defined set          given sum aggregation evalua­  functions each function dk          tions restrictions each constraint scope   called arity                    given choice soft constraint language define   associated soft constraint satisfaction problem   scspr follows                                                                  solution assignment smallest possible   definition  let soft constraint language      evaluation question solution   evaluations instance scspr triple   vdc                                                example  standard constraint satisfaction prob­     • finite set variables assigned    lem instance crisp constraints define cor­       values set                                    responding soft constraint satisfaction problem instance                                                                  range evaluation functions con­     • set soft constraints each pair    straints set  each crisp constraint        list variables called scope                                                                  define corresponding soft constraint cofv          element arity  called evaluation                                                                  scope evaluation function maps each tuple allowed       function                                                                   each tuple disallowed oo   note constraint arity con­              case evaluation assignment equals   straint given length constraint scope    minimal possible evaluation  ift  satisfies   evaluation function used specify measure       crisp constraints   desirability undesirability associated each possible   tuple values                                           note problem finding solution soft con­    complete definition soft constraint satisfac­    straint satisfaction problem np optimization problem   tion problem need define evaluations obtained   lies complexity class npo creignou   each evaluation function combined compared       et al  formal definition class   order define constitutes optimal overall solu­   exists polynomialtime algorithm finds solution   tion alternative mathematical approaches is­  instances scspt shall say scspt   sue suggested literature                     tractable hand polynomialtime re­                                                                 duction npcomplete problem scspt     • semiring based approach bistarelli et al    shall say scspr nphard        set possible evaluations assumed        algebraic structure equipped binary operations                                                                  example  let soft constraint language        satisfying axioms semiring                                                                   case scspr class boolean     • valued csp approach bistarelli et al    soft constraint satisfaction problems        set possible evaluations assumed totally    restrict allowing functions        ordered algebraic structure ele­    range example  scspr corre­       ment single monotonic binary operation known     sponds precisely standard boolean crisp constraint sat­       aggregation                                              isfaction problem problems known                                                                                                             constraints generalized satisfiability problems schaefer    complexity scspf restricted sets   completely characterised tractable cases   identified schaefer  creignou et al    explain choice functions con­     alternatively restrict allowing functions  sidering unary function  function returns   range  scspr corresponds precisely      value argument lies interval   standard boolean maximum satisfiability problem      outside interval returns value    aim satisfy maximum number crisp constraints   shall write tgi denote set generalized in­  problems known maxsat prob­             terval functions     lems creignou et al  complexity scspr         usual ordering   restricted sets completely characterised    main result section corollary    three tractable cases identified sec theo­  states scsptgi tractable establish result   rem  creignou et al                            define weighted directed graph associated each      note particular contains just single instance scspff   binary function defined                                                                  definition  let   instance                                                                  scsptgi define weighted directed graph gp                                                                  follows   scspr corresponds maxsat problem   exclusiveor predicate known nphard        • vertices gp follows   lemma  lcreignou et al  □     example  let soft constraint language          • edges gp defined follows   assume contains just set   unary functions single binary function          each edge        defined                                                         weight                                                                          each  edge                                                                           weight     simple case shown scspt   nphard cohen et al  reduction                   edge vci vd weight   minimum multithrminal cut problem dahlhausca                      each constraint     edge weight edges                                                                           called constraint edges   examples indicate generalizing constraint   satisfaction framework include soft constraints docs example let  xy in­  increase computational complexity general exam­   stance scsptgi following constraints   ple standard satisfiability problem tractable   soft constraint satisfaction problem involving sin­  gle binary boolean function defined end ex­  ample  nphard similarly standard constraint sat­  isfaction problem involving crisp unary constraints   corresponding weighted directed graph gp shown   equality constraints clearly trivial soft constraint figure    satisfaction problem involving soft unary constraints   soft version equality constraint specified func­  tion Φeq defined end example  nphard      sections show   possible identify large class functions   corresponding soft constraint satisfaction problem   tractable      generalized interval functions   begin restricted class binary functions   special structure                                                                  figure  graph gp associated instance de­  definition  let totally ordered set binary func­                                                                 fined example    tion Φ  — called generalized interval func­  tion following form                                                                       construction inspired similar construction cer­                                                                 tain boolean constraints described khanna et al        constraints                                                                                                            set edges graph gp removal leaves           corresponding constraint edges    vertices disconnected called cut        corresponding set form cut gp further­   edge constraint edge called     choice weight cut equal   proper cut weight cut defined sum      evaluation    weights edges                                                                                                                                                                                          using standard efficient algorithm min   example  consider graph gp shown figure          imum weighted cut problem goldberg tarjan    set proper cut gp weight            optimal assignment cubic time     minimal respect inclusion set    xy zy proper cut gp weight       corollary  time complexity scsptgi    minimal respect inclusion                      number variables     proposition  let instance scsptgi        submodular functions   let gp corresponding weighted directed graph                                                                 section consider general class      each minimal proper cut gp weight                                                                 functions described topkis         assignment evaluation      each assignment evaluation         proper cut gp weight     proof      let minimal proper cut graph gp        let cs component gp  connected        define assignment tc follows                                                                 easy check unary functions generalized                                                                 interval functions submodular binary functions        note tc welldefined cs con­     definition submodularity simplified follows          tains vm contains construction        construction gp follows          consider constraint        associated edge gp definition        generalized interval constraint choice tc                                             ij                  joins vertex cs        vertex cs minimal happens        total weight cut        equal evaluation tc     conversely let assignment let        set constraints nonzero evaluation        consider path gp ex­       amine order constraint edges tnis path        assume each corresponding constraints eval­  follows definition  sum sub                                                                modular functions submodular suggests        uates  obtain sequence assertions                                                                 cases possible express submodular function        following form                                                                 sum simpler submodular functions example                                                                 unary function  —►                                                                     main result section theorem  states                                                                 binary submodular function expressed        second disjunct each assertion contradicts  sum generalized interval functions        disjunct assertions        hold simultaneously corresponding con­    theorem  let totally ordered finite set binary          straints fact nonzero evaluation  function  —► submodular        path includes edge expressed sum generalized interval functions                                                                                                            constraints proof observations function         proof proof reduction   equal sum generalized interval functions     whereis binary function   clearly submodular                                           defined example  pointed example                                                                  corresponds maxsat problem                                                                 exclusiveor predicate known np                                                                hard creignou et al                                                                  nphard details reduction given cohen et al                                                                                                                                     applications                                                                 section number examples illustrate                                                                 wide range soft constraints shown                                                                 tractable using results obtained previous sections                                                                   definition  kary relation set define                                                                 associated function follows                                                                     corollary  collection crisp constraints                                                                 each constraint specified relation Φr                                                                 unary binary submodular solved polynomial                                                                 time combined soft constraints                                                                 unary binary submodular                                                                   example  constraint programming language chip                                                                 incorporates number constraint solving techniques                                                                 arithmetic constraints particular provides                                                                 constraint solver restricted class crisp constraints                                                                 natural numbers referred basic constraints van henten                                                                ryck et al  basic constraints kinds                                                                 referred domain constraints arithmetic                                                                 constraints domain constraints described van hen                                                                tenryck et al  unary constraints restrict                                                                 value variable specified finite subset nat­                                                                ural numbers arithmetic constraints described van   remark decomposition unique  de­   hentenryck et ai  following forms   compositions exist including symmetric decomposition                                                                   variables represented uppercase letters                                                                 constants lower case letters constants nonnegative                                                                 real numbers nonzero                                                                    each crisp constraints associated func­                                                                tion given definition  unary binary submodular   combining theorem  corollary  gives              corollary  problem involving constraints                                                                 form solved cubic time                                                                 soft constraints unary binary submodular evaluation                                                                 functions added problems sacrificing                                                                 tractability including examples                                                                   assume simplicity —     result shows tractable class identified   corollary  maximal                                     example  consider binary linear function defined                                                                      function submodular corollary                                                                  collection binary linear soft constraints                                                                 discrete set solved polynomial time       constraints                                                                                                           
