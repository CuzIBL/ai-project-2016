                           constraint satisfaction databases logic                                                     phokion kolaitis                                              science department                                           university california santa cruz                                               santa cruz ca  usa                                               kolaitiscsucscedu        introduction                                                 determine assignment values   constraint satisfaction problems constitute broad class   variables constraints satisfied pre­  algorithmic problems ubiquitous differ­    cisely cspinstance triple dc   ent areas artificial intelligence science     finite set variables finite domain values   generality constraint satisfaction problems variables set constraints tuple   npcomplete presumed algorithmically in­                         variables rela­  tractable cope intractability prob­      tion arity solution mapping     lems researchers devoted considerable research efforts   constraint tr   design heuristic algorithms constraint sat­  isfaction pursuit islands tractability consider boolean satisfiability problem sat given   special cases constraint satisfaction problems    cnfformula variables clauses   polynomialtime algorithms exist                                         satisfiable instance sat      during past decade pursuit islands tractabil thought cspinstance set vari­  ity constraint satisfaction intensified   ables  ■  domain —    led number discoveries unveiled tight   constraints determined clauses ex­  connections constraint satisfaction database theory  ample clause form gives rise   logic universal algebra goal paper     constraint analogous   present overview current state affairs study manner colorability modeled constraint   computational complexity constraint satisfaction     satisfaction problem instance  ve   emphasis connections area research      colorability thought cspinstance   database theory logic paper organized      set variables set nodes   follows section  contains precise definition graph domain set three colors   straint satisfaction problem reformulation          constraints pairs   homomorphism problem section  contains           inequal­  connections constraint satisfaction problems   ity relation   database theory remaining sections    contain      vocabulary finite set relational symbols   highlevel account main results                                                                  ri  rm each fixed arity rela•  computational complexity constraint satisfaction    tional structure vocabulary tuple    pursuit tractable cases problem                                      nonempty set called                                                                    universe each ra relation having      constraint satisfaction problem                      arity symbol rt let rela­      homomorphism problem                                   tional structures vocabulary homomorphism                                                                  mapping   uni­  constraint satisfaction problems originally introduced    verse universe   montanari monl model problems vi­                                                                 relation ra tuple   sion time realized nu­  feder vardi fv   merous important problems artificial intelligence com­  point constraint satisfac­  puter science modeled constraint satisfaction prob­  tion problem identified homomorphism   lems deca pj instance constraint       problem given relational structures   satisfaction problem csp consists set vari­          homomorphism intuition   ables set possible values variables set   identification structure represents variables   constraints tuples variables restrict combi­ tuples variables occur constraints   nations values variables question    structure represents domain values tu­      partially supported nsf grant iis          ples values constrained tuples variables       invited speakers                                                                                                      allowed homomorphisms           finite relational structure gives rise canonical    precisely assignments values variables   boolean conjunctive query positive existential   satisfy constraints instance colorability      order sentence defining asserts exist    equivalent problem deciding ho  elements cardinality universe states    momorphism given graph complete graph       atomic facts satisfied tuples universe                                                            example  cycle      nodes generally kcolorability  amounts              canonical conjunctive      existence homomorphism given graph         query definable sentence    complete graph kk nodes known    kclique numerous important npcomplete prob­   lems viewed special cases homomorphism         following basic result chandra merlin    problem constraint satisfac­         cm establishes strong connection homomor­   tion problem example consider clique prob­         phisms conjunctive queries    lem given graph integer does contain       theorem  cm following equivalent finite    clique size moments reflection shows   relational structures    equivalent question given complete graph kk    graph homomorphism kk      conceptual insights gained identification    constraint satisfaction problem ho­   momorphism problem facilitated use tech­   niques universal algebra study constraint                                                                  example saw earlier graph     satisfaction jea fv clari­                                                                 colorable homomorphism    fied tight connections constraint satisfaction                                                                    consequently theorem  implies colorable    database theory discuss connections                                                                      satisfies canonical query     section                                                                                                                                                                 view identification constraint satis­                                                                 faction problem homomorphism problem     constraint satisfaction relational                      preceding theorem  implies constraint        databases                                                 satisfaction problem identified                                                                  fundamental problems database theory conjunctive query   frequently asked queries relational database sys­  evaluation conjunctive query implication contain•   tems involve computation join re­   ment fundamental connection constraint sat­   lations database instead spelling formal def­ isfaction database theory brought stage   inition join operation let consider concreteness investigated kvooal   database relation ra attributes   database relation sbcde           computational complexity constraint   attributes join consists quintuples                 sev­                               satisfaction   eral different researchers including bib pointed constraint satisfaction problem np  computing set solutions cspinstance  complete clearly np contains   viewed join evaluation problem nphard problems special cases including sat   cspinstance constraint                     colorability clique explained garey   let relation viewed                 johnsons classic monograph gj main ways   database relation attributes                              cope npcompleteness identify polynomial  collection database relations obtained way time solvable cases problem hand ob­  join consists solutions                 tained imposing restrictions possible inputs   cspinstance                                                   instance horn sat restriction sat horn      join evaluation special case conjunctive query      cnfformulas solvable polynomialtime using   evaluation specifically nary conjunctive query           unitpropagation algorithm similarly known   relational vocabulary query definable            color ability restricted graphs bounded treewidth   positive existential firstorder formula           solvable polynomial time idf case con­  formwhere                                                      straint satisfaction pursuit tractable cases evolved                             conjunction atomic formu­    years discovery isolated cases dis­  las example binary conjunctive query     covery large islands tractability constraint satisfac­  path length  definable formula    tion follows account                                                    note     progress area begin introducing   joins precisely conjunctive queries    terminology notation enable formalize   variables quantified extreme         concept island tractability constraint satisfaction   boolean conjunctive query conjunctive query      using fact constraint satisfaction prob­  variables quantified                     lem identified homomorphism problem                                                                                                       invited speakers    general instance homomorphism problem         effect classified computational complexity    consists arbitrary relational structures boolean nonuniform constraint satisfaction problems    restricted cases problem obtained impos• boolean structure simply relational structure    ing restrictions input structures             element universe structure form     definition  let classes relational struc•                          boolean nonuniform constraint    tures write csp denote restriction   satisfaction problem problem form cspb    homomorphism problem input structures           boolean structure problems known    words                                            generalized satisfiability problems                                                                  viewed variants boolean satisfiability problems       csp                                                        formulas conjunctions generalized con•                                                                 nectives gj particular contain known                                                                  problems ksat  insat positive     island tractability constraint satisfaction pair    classes relational structures cspa sat notallequal sat monotone sat                                                                  special cases example sat cspb     complexity class decision problems solvable    polynomial time                                                                   ri set truth assign•                                                                 ments satisfy clause iliterals      ultimate goal pursuit islands tractability negated   constraint satisfaction identify charac•   similarly monotone sat cspb      terize classes relational structures    cspa basic starting point investiga•  ladner lad showed np   tion consider cases classes  decision problems np npcomplete   small possible large   belong consequently conceivable given   possible amounts considering cases   family npproblems contains problems interme•  class relational structures diate complexity schaefer sch showed   arbitrary fixed relational vocabulary family boolean nonuniform constraint satisfaction   singleton consisting fixed structure   problems contains problems intermediate complexity    vocabulary starting points investigation   determine relational structure computa•   theorem  schaefers dichotomy theorem sch   tional complexity decision problems cspb                                                                                                    boolean structure    cspab                                                                       cspb cspb npcomplete      clearly each fixed decision problem                                                                      picture    cspb solved polynomial time   given structure existence homomorphism   checked testing functions   universe universe total number   functions polynomial number   size structure extreme   situation quite different computational complex•  ity csp depend partic•  ular structure csp npcomplete   colorability problem contrast   csp colorability   problem                                                         • polynomialtime algorithm de•     simplicity follows fixed structure    cide given boolean structure cspb                                                                npcomplete                 cspb  cspab                              schaefer sch actually showed exactly   nonuniform constraint satisfaction problem  types boolean structures cspb   associated major goal study     provided explicit descriptions specifically   computational complexity constraint satisfaction  showed cspb precisly   identify structures cspb al•   following conditions satisfied   goal realized progress       • relation ovalid   section contains birdseye            contains allzeroes tuple   view main results obtained date                                                                    • relation valid    computational complexity                                       contains allones tuple        nonuniform constraint satisfaction                         • relation bijunctive   major result study nonuniform constraint        set truth assignments satisfying   satisfaction problems obtained schaefer sch             cnf formula       invited speakers                                                                                                        • relation horn                  concepts techniques different areas universal          rbi set truth assignments satisfying horn  algebra logic approach universal algebra yields        formula                                                  sufficient conditions tractabilty cspb terms                                                                  closure properties relations certain func­     • relation dual horn                                                                  tions approach logic yields sufficient condi­        set truth assignments satisfying             bi                                                   tions tractability terms expressibility cspb        dual horn formula                                                                  datalog remainder section primary focus      • relation affine                   approach        rbt set solutions linear equations datalog main database query language used de­       twoelement field                               ductive database systems ruj nutsfell dat­                                                                 alog program negationfree functionfree logic pro­     schaefefs dichotomy theorem yields complete classifi­                                                                 gram precisely datalog program finite set   cation complexity cspb boolean structures                                                                  rules form   time raises challenge classifying   computational complexity cspb arbitrary rela­  tional structures effect feder vardi fv     formulated following important conjecture                  sr relation symbols effect right                                                                 hand side each rule called body rule con­  conjecture  federvardi dichotomy conjecture                                                                 junctive query variables occurring left                   arbitrary relational structure                         bm                                       hand side called head rule existentially quan­  cspb cspb npcomplete                                                                  tified datalog embodies recursion relation symbols   picture                                                                  occur heads bodies rules                                                                  recursive intensional database predicates                                                                  idbs program remaining relation symbols                                                                  extensional database predicates edbs                                                                 idb predicates singled goal program                                                                    standard example transitive closure edge                                                                  relation graph  defined following                                                                 datalog program         federvardi dichotomy conjecture inspired intensive   research efforts resulted significant advances to­     datalog program evaluated bottomup   wards resolving particular quite recently bulatov con­ polynomial number iterations given database ex­  firmed important cases conjecture de­    ample ath iteration datalog program yields   scribed                                                 set pairs nodes connected path   theorem  relational                                  length iterations suffice   structure                                                    compute transitive closure number                                                                 nodes follows each fixed datalog program     • bulatov bula              evaluated time polynomial size given relational        cspb cspb npcomplete                 structure consequently query definable data    • bulatov lbull nonempty subset  log program expressibility datalog          relations rbi cspb sufficient condition tractability        cspb hpcomplete                                      important feature datalog queries de­  cases polynomialtime algorithm  finable datalog programs preserved homomor  decide cspb npcomplete        phisms means structure satisfies goal                                                                 datalog program homomorphism     second cases known conserva•     satisfies goal program   tive constraint satisfaction effect case let  relational structure   possible unary constraints domain present     easy trivial situations cspb     spite progress federvardi dichotomy    preserved homomorphisms implies   conjecture remains unresolved cspb  cspb expressible datalog sight   research efforts conjecture   appears link expressibility dat­  resulted discovery broad sufficient condi­   alog tractability nonuniform constraint satisfaction   tions tractability nonuniform constraint satisfaction moments reflection reveals complement   provided unifying explanations numerous seem­   cspb cspb preserved homomorphisms   ingly disparate tractability results led dis­   covery new islands tractability cspb broad   sufficient conditions tractability cspb based  cspb   homomorphism  ► exists                                                                                                       invited speakers consequently conceivable structures   ternary majority function  near unanimity   nonuniform constraint satisfaction problem cspb      function kary function  set function   complement expressible dat             ktuple  xk fx xk   alog feder vardi ifv pursued link depth    depends set  xk note boolean   demonstrated expressibility datalog            binary functions arc set functions finally ternary   unifying explanation numerous tractability results   function fx maltsev function   cspb                                                        satisfies identities fy yx — fxyy — note      important concrete example consider                boolean function maltsev function                                                                  pointed preceding theorem  con­  colorability problem cspk   following datalog program goal expresses     tains special cases nontrivial tractable cases schae  non colorability graph colorable        fers dichotomy theorem  known   contains cycles odd length                   boolean relation bijunctive closed                                                                  ternary majority operation boolean relation                                                                  horn dual horn closed respec­                                                                 tively finally boolean relation affine                                                                  closed                                                                    concerning comparison datalog closure      additional important examples recall                                                                   properties shown polb contains near                         boolean structure ev­                                                                 unanimity function set function cspb express­  ery relation  horn relation   bijunctive                 bi                            bi                 ible datalog expressibility datalog subsumes   cspb shown cases                                                                  three sufficient conditions tractability based clo­  cspb expressible datalog                                                                  sure properties known struc­     gauge broad spectrum tractable cases covered                                                                  tures fact boolean structures polb   datalog worth comparing tractability dat­                                                                 contains maltsev function cspb expressible   alog tractability closure properties men­                                                                 datalog time structures   tioned earlier approach tractability based uni­                                                                 polb does contain near unanimity functions   versal algebra need introduce                                                                  set functions maltsev functions cspb tractable   basic concepts universal algebra nary                                                                  cspb expressible datalog   relation set   bk function                                                                    follows section closer look   say dosed ktuples                                                 connections datalog nonuniform constraint   ntuple                                            satisfaction particular address following ques­  relational structure                          tion cspb expressible datalog   polymorphism function expressibility cspb datalog character  each relation                                   ized terms pebble games terms consistency   closed  write polb set          properties   polymorphisms turns complexity           combinatorial games versatile tool analyzing   cspb intimately connected kinds functions       expressive power logics known   polb contains particular shown games ehrenfeuchtfraissegames firstorder   polb contains functions satisfy certain algebraic iden­ logic efr different family games known   tities cspb connection in­      kpebble games used study fixedpoint logics   vestigated depth success jeavons       infinitary logics finitely variables kv   collaborators sequence papers including jcg   variant kpebble games suitable   jcc bulatov bulb feder vardi      analyzing expressive power datalog kv   fv results lines following       definition  let positive integer exis•  presently known general sufficient conditions     tential kpebble game short pebble game   tractability cspb based closure properties            played players spoiler duplicator                                                                  relational structures according follow­  theorem  let  rib  rbm relational   structure                                                     ing rules each player pebbles labeled                                                                    ith round game spoiler      • polb contains nearunanimity function        places pebble element  duplicator        cspb                                           responds placing pebble label el­     • polb contains set function cspb    ement bi spoiler wins game end                                                                  round correspondence      • ifpolb contains maltsev function cspb                                                                  homomorphim substructures                                                                         universes  ak bk respectively oth­    kary function  near unanimity func•            erwise spoiler removes pebbles new     tion fx  xk  ktuple  xk    round game begins duplicator wins     xis equal note  pebble game winning strategy say       invited speakers                                                                                                      
