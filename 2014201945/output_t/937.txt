   consistency checking basic cardinal constraints connected regions                             isabel navarrete antonio morales guido sciavicco                       department information engineering university murcia                                          murcia spain                                   email inavamoralesguidoumes                          abstract                          gions used model areas various                                                        ing applications goyal  model consider      paper study recent formal model  expressive overcomes limitations      qualitative spatial reasoning cardinal direction pointbased ligozat  boxbased mukerjee                               relations     algorithm check      joe  balbiani et al  approximation formalisms      consistency network basic cardinal cardinal directions frank  practical exam      straints variables ranging set ple skiadopoulos koubarakis  pointbased      nected regions homeomorphic closed unit    approximation spain northeast portugal      disk includes wide variety irregular boxbased model portugal contained spain peo      shaped regions best knowledge ple agree representation accurate      open problem previous algorithm     spain lies partially northwest north      domain includes disconnected regions  northeast east southeast portugal      works problem consider      algorithm used using   present work organized follows section       new algorithm show problem     brieﬂy introduce deﬁnitions algorithm      deciding consistency network disjunc given skiadopoulos koubarakis       tive cardinal constraints variables ranging cides consistency network basic cardinal                                np                      straints variables represent connected discon      set connected regions complete                                             main contribution based results ﬁeld nected regions euclidean space  section       combinatorial geometry                        exploit results combinatorial geometry                                                        essential accomplish section thatisthede                                                        sign consistency checking algorithm network ba    introduction                                       sic cardinal constraints connected regions prove  widely accepted spatial reasoning plays impor correctness algorithm analyze complexity  tant role various artiﬁcial intelligence applications show problem disjunctive constraints  geographic information systems giss robot navigation npcomplete concluding  vision algebraic approaches formalize spa  tial reasoning constraint satisfaction problems csps  formal model cardinal relations  classiﬁed depending type relations section shortly revise main deﬁnitions ski  variables representing objects topological adopoulos koubarakis’s formalism  qualitative  euclidean space ﬁrst broad distinction spatial representation reasoning cardinal direction  quantitative qualitative formalisms relations model based previous results cardinal  terested qualitative calculi spatial reasoning cohn relations goyal  goyal egenhofer                                      hazarika  sharma et al   allow ma reg                       chine represent reason spatial objects making ab let set regions homeomor  stractions quantitative metric knowledge phic closed unit disk each region closed connected                                                        connected boundaries set ﬁnite unions  qualitative spatial models classiﬁed direc      reg               reg∗            reg∗  tional frank  topological renz nebel  regions denoted  regions                                                        disconnected holes  present work falls category                                   ∗                                                          let  ∪···∪ak ∈ reg   each ai ∈ reg    different directional orientational spatial reasoning consider orthogonal axes space rthesym                                                             −               −           formalisms studied different types objects bols ax resp ax anday resp ay  denote inﬁmum  regions work based formalism presented resp supremum projection each region ai  skiadopoulos koubarakis  cardinal di xaxis yaxis minimum bounding box region  rection relations connected irregularshaped denoted mbba box formed straight lines                                                    ijcai                                                                                                           regions reg aewbholds                                                        ew∈d previous case denotes set                                                        cardinal relations reg                                                          order solve spatial reasoning tasks cardinal                                                        straints use binary constraint network dechter                                                         set variables representing regions reg∗                                                        resp reg set constraints based oppor                                                        tune set cardinal relations variables main                                                        problem usual determining network                           mbb                      figure  tiles  wrt region           sistent network variables  aan                                                        reg∗  resp regisconsistent iff exists                                                                                                   ∗                                                        lution given ntuple ααn ∈ reg  resp       −                −                                    ax   ax   ay  ay  box area  reg    cardinal constrains satisﬁed  greater  called nontrivial box refer assignment ai  αi ∀  ≤ ≤ section     −     −    ax ax ay ay endpoints mbba consider deal “easiest” case consisting network  ing axes mbbbwhereb called reference bcconstraints  gion space divided  areas represented  tilesymbols bsswwnwnneesesee fig          consistency bcconstraints    reg∗  ure  tileareas closed unbounded bb                                                        skiadopoulos koubarakis  authors present  pairwise disjoint nontrivial box intersection                                                       adhoc algorithm called skconfor  union  expression like rr rkwhere                                                        consistency checking network basic cardinal   k≤     each ri tilesymbol                                 ∗                                                        straints variables ranging reg  algo  called multitilesymbol denotes union cor                                                        rithm quite complicated view presents  responding tileareas                                                        important problems  time complexity high    basic cardinal relation bcrelation short bi                                                           guaranteed work  nary relation denoted tile multitilesymbol                                                         main restricted set reg connected regions  ···rk deﬁned                                                        algorithm takes input network set bc                      ∗                                                ∗    α β ∈ reg    α  α ∪ ∪ αk ∧           constraints asetv variables ranging                                                             ∗                          α ∈ rβαk ∈ rkβ    reg    returns ‘consistent’ consistent                                                        wise returns ‘inconsistent’ let brieﬂy summarize                                                   ∗  aformulaarbwhere   variables ranging reg idea three steps sss algorithm  bcrelation basic cardinal constraint bc  constraint short                                                begin skcon                                  arb⇔    ∈ rb       translation      tilesymbol                                                                                      • each ca ∈ form ar ···rk consider  equivalently expressed conjunction bi                                                                        mbba        set component variables sa  aakandmap  nary order constraints endpoints                                mbbb                                                ca set order constraints oa endpoints         set binary constraints point al                gebra pa van beek  fact used mbbambbb mbbai  each component variable                                                                                        ﬁne satisﬁability bcconstraint follows bc ai ∈ sa notice constraints oa logically im                                                                                                  constraint ar ···rk satisﬁable iff assign plied spatial conﬁguration expressed ca                      ∗  ment regions reg primary variable atherefer • form point algebra csp pacsp set                                                                                                ence variable component variables wrt constraints  ab∈v oa set variables    ab ab       way following constraints deﬁned set endpoint variables obtained  hold                                                 previous step                                     • order constraints ∧···∧ak rk           order constraint checking                                                          • solve pacsp  cspan algorithm van beek    •                 ab ∪···∪ab                                                            union constraint                              possible obtain solution σ order                                 ∗              ∗    set bc relations reg denoted straints return ‘inconsistent’                                                d∗      •                        μo  contains Σ       elements elements set       derive maximal solution  considering each                                                                       ab ∈ sb                αb  called cardinal relations used repre pair variables each solutionbox                                                           ab  sent indeﬁnite information disjunctive  extending possible directions touch                                                        line solutionboxes mbbs vari    interesting restriction model obtained ables closer example   constraining regions variables range regin union  constraint checking check solution  case set bcrelations denoted network obtained maximal  tains   elements d∗ example                                                           worth noticing algorithm takes examples         use rab denoting cardinal relation partial results fourteen pages presented introduce  variables                            small changes original notation sake clarity                                                    ijcai                                                     solution μo  control performed using  function globalcheckntb decides set  union constraints cu derived set bc  constraints satisﬁed algo  rithm returns ‘consistent’ returns ‘inconsistent’                     end skcon    worth noticing step introduces new variables  way pacsp works actually                                                                                  variables cspan quadratic timecomplexity      figure  Σa Σa example   complexity step time  function globalcheckntb takes consideration each                                               bm       cardinal constraints hellytype  variable ∈ turn checks sets Σa Σa                                            bi  maximal solutions corresponding each set sa com theorems  ponent variables wrt reference variable bi ∈  order design consistency algorithm network  satisfy following predicate               bcconstraints reg ﬁrst  steps      nontrivial box ntb                            algorithm skcon substitute step                          bm      σ ∈ Σa ∪··· ∪Σa   exists tuple    efﬁcient method show suit                           bm                                                σσm ∈ Σa ×···×Σa   mbbσ∩      able constraints  accomplish result      mbbσ ∩···∩mbbσm   nontrivial box      help hellytype theorems combinatorial geom                                                        etry eckoff     predicate  ntb     holds  iff  function  check       helly’s theorem original formulation states              bm                                                                         ntb  Σa Σa  returns ‘true’                                   family convex sets                                                         dimensional euclidean space ed choice                          bm  function checkntbΣa Σa                         sets ≤ exists point       Σb ∪···∪Σbm                                            belongs chosen sets exists point                                                            belongs sets kknthatis   ∅         Σ   Σb Σbm                                            result gave rise family theorems called        q  ∅                                                        hellytype theorems present logical structure        s Σ                                                       include shown fact              mbbs  ∩ mbbq nontrivial box                                              q  q ∪mbbs ∩ mbbq              subfamily sets meets certain property implies                                                                                                               ∅ return ‘false’                         family meets property  constant         q                                         called helly number  return ‘true’                                          key idea ﬁnd problem                                                        consistency bcconstraints reg expressible    function works called each vari                                                       problem checking fam      ∈                     sk                                                            bm  able       step   algorithm       ily sets  family fa  Σa Σa   gives overall time complexity algorithm sets maximal solutions component variables                  ntb             ∈     satisﬁability   variable      supposes  wrt reference variables bi satisﬁes predicate  assignment  α each reference ntb way hellytype theorem number   variable bi ari ···rki assign applicable ﬁnd function        bi     bi     bi      bi  ment ai   αiaki  αki component vari deciding family satisﬁes predicate ntb                                   bi  ables union constraint ca satisﬁed der hypothesis property checked       bi        bi                         bi            α  αi ∪···∪αki order constraints oa members subfamily constant time following gen  satisﬁed globalcheckntb guarantees  eralization helly’s theorem turned useful  signment posible variable result                               ∗  assignment ai  αi αi ∈ reg  each ai ∈                                                                                            helly’s topological theoremlet   ﬁnite  order union constraints satisﬁed  family closed sets rd intersec               bc  constraints satisﬁed network tion members cell fork ≤  consistent                                            nonempty                                                              cell  example  skiadopoulos koubarakis letc                                     following set bcconstraints region variables case  expression “ cell” means   bne bsw sw figure   intersection region homeomorphic closed   shows mmbα mmbβ mmbγ   variables  unit disk belongs reg using  respectively considering bne theorem need prove sufﬁcient condition assure  maximal solutions component variables set intersection sets fa belongs reg                                          Σa  ααα considering bsw Σa                                                     common technique csp using composition  ααα                                                        lations constraint propagation order decide consis                                                    ijcai                                                     tency just prune search space skiadopoulos hellytype theorem family fa predicate ntb  koubarakis  composition operation ◦ cardinal helly number     lations deﬁned turns weak composition                    bm                                                        theorem   let fa  Σa Σa  family sets  sense guarantees ar br                                                        maximal solutions component variables wrt  holds ar ◦ holds algebraic closure                                                        reference variables bi aclosed bcnetwork  algorithm network binary constraints essentially                                                         reg subfamily ⊆ fa   pathconsistency algorithm based weak composition                                                        ntb   holds bthenntb holds fa  operator renz ligozat  algorithm makes  input network aclosed unfortunately bcconstraint proof first notice subfamily   network reg aclosed consistentthe wehavethat ∈ reg lemma    following example borrowed skiadopoulos  predicate ntb guarantees b   ∅  koubarakis  inconsistent bcnetwork helly’s topological theorem fa ∈ regit  aclosed                                             remains show ntb holds fa let proceed                                                        induction  example  consider    following  set   bc                    ntb                                                                              suppose       holds subfamily  constraint      variables             Σb Σbk                                                                                   size  consider intersection      bswwn ne       bswwese     bswwe    Σb ∩ ··· ∩ Σbk                                                                                   helly’s topological theorem  se       bsswwese     ssw        bwnwn     connected region ntb holds induc  nee cthisnetworkisaclosed inconsistent                                                        tion hypothesis implies ik maximal    aclosure procedure useful partial solution variable wrt variables bbkso                                                                               bi  domain regions reg bcconstraints ca subnetwork                                     bi  set constraints each set Σa family fa variables bbk satisﬁed true ik  obtained step  algorithm skcon construc nondisjoint union ik connected tu                                                                                    bk  tion region reg example  obviously ples σσk ∈ Σa × ···× Σa mbbσ ∩                                    ∗  true constraints belong −d      mbbσ ∩ ··· ∩ mbbσm  nontrivial box                                                                                                                                                            σ ∈ Σb ∪···∪Σbk                           Σ   lemma   network constraints aclosed           add new set                                                                                                       bk  variable subset ⊆ fa  bk forming subfamily bkthenwehavethatik ∩ Σa  intersection region reg                connected region reg helly’s topological                                                    theorem satisﬁes predicate ntbsinceik    proof      closed deﬁnition                                     lution  variables draw  regions sat maximal partial solution wrt variables  kas                                                                               bk                         isfying constraints general does im said Σa contains convex subset σ   ply solution  variables extended corresponds maximal solutionbox com                                                                       bk                         solution  variables true using ponent variable ai wrt bk σ  weak composition particular partial solution nontrivial box intersection solutionbox                                          bi                              bp  variable bibjsinceΣa max component variable aj wrt variable bp subnet                                     imal connected region wrt relation abi vari work nk restricted variables bk means                                     bj                                                           able variable bi similarly Σa wrt relation constraints variables                               bi                                       satisﬁed possible assump  rabj thenΣa  Σa  mustbearegionfromregother                                                        tion aclosed ntb holds bkandso  wise rabi ◦ rbibj  ∩ rabj  ∅or                                                        ntb   holds family faaswewantedtoprove   rabj ◦ rbj bi  ∩ rabi  ∅ contradicts assump  tion aclosed                                                                                   consistency bcconstraints    reg  example  consider set bcconstraint showed ex                                                                                   ample  aclosure algorithm detects set section present algorithm consis                                                                          bc  inconsistent bne ◦ sw ∩ bsw  ∅so     tency checking  constraint network set                                                                    reg  bsw feasible figure  shows Σa Σa connected regions  problem best                                                                                                         union disconnected regions          knowledge open restricted case solved ci                                                        cerone felice  pairwiseconsistency prob  directly apply helly’s topological theorem lem deciding relation rij consistent  prove intersection sets rji primary reference variables inter  family fa region reg considering changed solve consistency problem  set family nonempty intersection condition overall network pairwiseconsistency  implies intersection sets fa region variables algorithm make use following sub  reg need intersection region parts  connected special shape compatible  binary constraints primary variable aandthe • algebraic closure algorithm ac short uses  reference variables bbm state operations weak composition inverse intersec                                                        tion relations skiadopoulos koubarakis     details point omitted space limitation • step   algorithm skcon section                                                     ijcai                                                     • procedure global check ntb through func deeper analysis reveal checkntb  tion checkntb  skcon applied three sets forms  elementary operations intersection  theorem  suggests                                   boxes precise algorithm ×                                                                                                                                              algorithm skcon ×  constant     algorithm called regbcon takes input network decreased taking account region Σbi             bc                                                                                   set    constraints andaset    union  lineconnected convex sets line  variables ranging reg returns ‘consistent’                                                      connected mean vertical horizontal line   consistent returns ‘inconsistent’ joining regions step  algorithm modi  follows brieﬂy summarize structure regbcon                                                                                                       ﬁed obtains set maximal solutions Σa                                                                                                                                   solutionboxes Σa joined form new set                   begin regbcon                                                                            Γa  convex sets instance bne                                                                                  preprocessing apply ac nandifn     Σa  ααα figure  αα joined  closed return ‘inconsistent’                         convex set corresponds adjacent tiles bn                                                                                                           translation stepofskcon                     just matter comparing endpoints mbbα                                                                order constraint checking step  skcon    mbbα intersection boxes   union constraint checking check ntb holds step  make  ×  intersection operations  variable                ∈                              process joining adjacent tiles exploited        each variable                                   obtain solution variable function      tuple bibjbk variables                                                      checkntb redesigned set data struc                          bi    bk        checkntb   Σa  Σa  Σa  returns ‘false’  ture used instead queue contains inter        return  ‘inconsistent’                    sections nontrivial boxes possible    return  ‘consistent’                               know theorem  intersection partial solutions                                                        variables region reg                   end regbcon                                                          argue cubic timecomplexity algorithm  clearly function checkntb exactly  solves problem nonconvex  structure function checkntb algorithm sk  nature bcconstraints solution set component                                                                                       exception called sets variables wrt variable bie Σ  concave                                                                                      instead sets                            representable set point algebra constraints  theorem  algorithm regbcon correctly decides unless region partitioned convex components  anetworkofbcconstraints reg consistent      case constraints example  represents subnetwork                                                        variables ntb predicate false bc  proof correctness algorithm follows network variables subnetwork like  orem  correctness algorithm skconthe way detecting inconsistency trough  establishes set bcconstraints consistent algebraic closure checking union constraints                                         set order constraints maximal subnetwork three variables  solution μo  solution network obtained  maximal solution μo union constraints finally focus attention problem deciding  cu satisﬁed                              consistency network disjunctive cardinal                                                                   reg    proceed exactly case skcon straints    case network bcconstraints reg theorem  problem deciding consistency net                                                                                   fact algorithm regbcon returns ‘inconsistent’ work constraints  region variables  solution network happen reg npcomplete  network aclosed step  order                                                        proof   deciding consistency npsincea  straints satisﬁed step  union constraints                                                        nondeterministic algorithm ﬁrst guesses basic constraint  satisﬁed step  network consistent                                                                                                 each disjunctive appearing obtaining network  maximal solution satisﬁes order                                                        each constraint belongs applies  union constraints correctness step  theorem                                                         polynomial algorithm regbcom check consistency  variable consistent assignment                                                         order prove problem npcomplete  precisely  fa theorem  guarantees                                                       reduction problem sat problem satis  fa region reg ntb holds                                                         ﬁability set cardinal constraints variables                                                            ∗  theorem  algorithm regbcon                 reg   showninskiadopoulos koubarakis                                                                                                   reg                                                 sufﬁce reduction regions  proof    step       time complexity constraints used                        algorithm ac fact constraints basic  van beek  similar case step  step   discuss section  step   conclusion future work        checkntb works constant time   paper considered expressive formal                   regbcon                                    model spatial reasoning cardinal relations                                                    ijcai                                                     
