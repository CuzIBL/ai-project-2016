             wifislam using gaussian process latent variable models                           brian ferris          dieter fox          neil lawrence†                university washington department science  engineering                         †university shefﬁeld department science                          abstract                            reliance ground truth calibration data clearly lim                                                        applicability existing techniques order enable      wifi localization task determining phys locationaware mobile devices devices need able      ical location mobile device wireless sig build spatial representations based sequences      nal strengths shown accurate   raw unlabeled signal strength data robotics      method indoor outdoor localization   vision communities developed techniques      powerful building block locationaware appli jointly estimating locations device map      cations localization techniques environment nature wireless signal strength pro      quire training set signal strength readings la hibits use standard slam simultaneous localization      beled ground truth location map mapping techniques thrun et al       prohibitive collect maintain maps grow    paper present wifislam novel technique      large paper propose novel tech     building wireless signal strength maps requir      nique solving wifi slam problem using     ing location labels training data      gaussian process latent variable model gp   approach builds gaussian process latent variable mod      lvm determine latentspace locations els gplvm recently developed technique map      labeled signal strength data show gp     ping highdimensional data lowdimensional latent space      lvm combination appropriate motion    lawrence  context highdimensional data      dynamics model used reconstruct topo corresponds signal strength information wifi      logical connectivity graph signal strength access points environment gplvms map sig      sequence combination learned   nal strength measurements twodimensional latent space      gaussian process signal strength model    interpreted xycoordinates device      used perform efﬁcient localization            embedding technique considers following constraints                                                        solve challenging slam problem    introduction                                          locations → signal strength locations near  use wireless signal strength information localize each observe similar signal strength mea  mobile devices gained signiﬁcant surements  search communities mainly increasing  signal strengths → locations similar signal strength  availability  wifi networks importance measurements indicate observed loca  location information applications activity recog tions near each constraint extremely im  nition surveillance contextaware computing        portant close loops detect person    unpredictability signal propagation through indoor returns previously visited location during map  environments key challenge location estimation  ping process constraint violated  wireless signal strength unpredictability makes individual access points good approximation  difﬁcult generate adequate likelihood model sig typical ofﬁce envionments multiple access points  nal strength measurements main focus    visible each point time  search area development tech           →  niques generate good likelihood models cal  locations locations locations follow each  ibration data collected environment data typi data stream near each  cally consists signal strength measurements annotated straint models fact mapping data sequential  ground truth locations device calibration collected person walking through building  data used estimate parameters locally approach incorporates constraints single sta  gaussian models proven effective tistically sound way result technique able build  localization haeberlen et al  letchner et al  topologically correct maps raw signal strength mea  ferris et al                                  surements furthermore resulting map provides signal                                                    ijcai                                                    strength sensor model used bayesian ﬁltering inite embedding sde placing additional constraints  location estimation                              sde similarity matrix speciﬁcally    paper organized follows discussing related trol action robot motion applied different  work section provide background gplvms points latent space successive latent points  section  application wifislam described share similar relative transformation  section  followed experiments conclusions   used context represent timeseries constraints                                                        tween successive signal strength readings wish    related work                                       generally constrain higher level properties underlying                                                        generative process  wifi localization techniques fall number broad cat powerful technique representing constraints  egories location estimation techniques attempt proposed gaussian process dynamical models wang et  model directly signal propagation through space bahl al  technique extends gplvm including  padmanabhan  assuming known locations access additional likelihood model latentspace variables  points exponential signal attenuation model speciﬁcally technique models dynamic constraints  considering location material walls gaussian process mapping consecutive data points  furniture inside buildings accuracy signal propagation technique speciﬁcally designed vision  models limited techniques attempt model based motion tracking extended wifi  reading likelihoods locationspeciﬁc basis haeberlen et slam approach  al  letchner et al  representing signal strength  locations probability distributions learned  gaussian process latent variable models  training data accurate signal propaga section ﬁrst gaussian processes  tion models methods inherently discrete regression illustrate application esti  limited capabilities interpolation locations mating likelihood model wireless signal strength mea    overcome limitations schwaighofer col surements assuming ground truth locations  leagues  showed apply gaussian processes training data known finally show gaussian  signal strength localization resulting model provided process latent variable models used handle case  interpolation continuous locations direct modeling unknown locations  uncertainty training data ferris et al  ex  tended technique wifi localization combining  gaussian processes  gp signal strength model graphbased tracking allow gps derived different ways fol  ing accurate localization large scale spaces wifi low closely functionspace view described ras  slam technique builds recent models extends mussen williams  let data     case mapping unknown locations   ydotsxn yn set training sam    robotics community developed various approaches ples drawn noisy process  slam thrun et al  tech               yi     fxiε                 niques typically rely ability sense match discrete                                                                            each xi input sample  each yi target  entities visual landmarks obstacles detected value observation  noise ε assumed come  sonar laser rangeﬁnders compared approaches zero mean additive gaussian distribution known  slam problem particularly challenging variance σ  notational convenience aggregate  limited information person’s motion                                                          input vectors xi × design matrix  signal strength measurements vary extremely smoothly                                                        target values yi ×  vector denoted xi  location space principle extract distance                                                        yi vectors correspond ith row  access point estimates signal strength measurements respectively context signal strength maps                                  apply rangeonly slam newman leonard    represents locations plane represents signal         map locations access points strength measurements single wifi access point  techniques typically rely accurate range measure gaussian process estimates posterior distributions  ments clearly available context functions training data distributions    wifislam  problem seen application represented nonparametrically terms training  speciﬁc case general dimensionality reduction prob points key idea underlying gps requirement  lem speciﬁcally wish reduce highdimensional sig function values different points correlated  nal strength twodimensional location space unfor                                                        covariance function values fxi fxj  tunately dimensionality reduction algorithms pca depends covariance input values  typically perform highly nonlinear mani                                                        xi xj dependency speciﬁed ar  folds wifi signal propagation                                                        bitrary covariance function kernel kxi xj choice  promising class techniques extend nonlinear dimensional kernel function typically left user  ity reduction methods allow speciﬁcation additional widely used squared exponential gaussian ker  constraints reﬂect generative model underlying                                                        nel                                           data process technique action respecting embed                                                                                         fx fx   kx  σ exp − −    dings bowling et al  extends semidef cov                                                                           ijcai                                                            σf signal variance length scale  termines strength correlation points pa  rameters control smoothness functions estimated  gp seen  covariance function  values decreases distance correspond  ing input values    access function values  noisy observations thereof necessary represent  corresponding covariance function noisy observations                                             cov yr yskxi xjσnδrs                     σn gaussian observation noise variance δrs   zero entire set input                                                      figure  gp model signal strength access point  values  covariance corresponding observations black dots indicate training data ground truth path                                                 cov yk    σ                                                                        application signal strength modeling  × covariance matrix input values                                               gps applied successfully signal strength                                                               note  represents prior functions set modeling input values correspond locations                                                        observations correspond signal strength mea  values generate matrix sam                                                                                           ple set corresponding targets desired surements obtained locations schwaighofer et al                                                                              covariance rasmussen williams  sampled  ferris et al   gp posterior estimated                                                       trace signal strength measurements annotated  values jointly gaussian ∼nk σni  relevant posterior distribution functions locations assuming independence different                                                        access points techniques estimate gp each access  given training data intrested predict                                                        point separately  ing function value arbitrary point x∗ conditioned  training data  follows posterior fig  illustrates gp signal strength model ac                                                       cess point environment size  ×  meters includ  function values gaussian mean μx variance σ                                    ∗            x∗    ing hallways ofﬁces open areas fig  clearly demon       yn              ∗    ∗            ∗  μx∗ σx          strates signal strength propagation represented                                    ∗                             −                adequately parametric sensor model                μx∗     ∗     σni                                                                       estimates location access point assumes                                          −                σx   kx∗ x∗ − k∗   σni    k∗  radial signal propagation model gp                  ∗                                     hand smoothly approximates data points ferris et  k∗ ×  vector covariances x∗                                                      al  details  training inputs covariance matrix  inputs seen  mean function  latent variable models  linear combination training observations                                                        far assumed locations train  weight each observation directly related k∗the                                                        ing data observed goal research build  correlation test point x∗ corresponding                                                        gp signal strength maps relying location data  training input middle term inverse covari                                                        build maps treat locations hidden latent  ance function  covariance function estimate                                                       variables resulting challenging problem  σ   given prior covariance kx∗ x∗ minus   x∗                                                   addressed gaussian process latent variable mod  information provided training data inverse                                                        els gplvm introduced lawrence   covariance matrix note covariance inde                                                         context data visualization  pendent observed values                                                           previous section treated different access points    finally order predictive distribution noisy                                                        individually resulting dimensional observation space  observation y∗ simply add observation noise                                                       necessary jointly consider sig    ∗x∗       ∗ x∗  x∗x∗ x∗   nal strength multiple access points results                                                                                                               dimensional observations reporting signal strength                                                   access points traditional probabilistic approach                    y∗ μx∗ σx  σn                                             ∗                          latent variable techniques models relationship  predictive distribution summarizes key advantages latent variables ∈n×q set observed data  gps context wireless signal strength models ∈n×d through parameterized function  addition providing regression model based training  data gp represents uncertainty prediction     yij  fxi wj                  taking sensor noise model uncertainty account                                                        yij element ith row jth column    observed values impact parameters covari xi vector formed ith row wj  ance function hyperparameter estimation ferris et al  parameters possibly nonlinear function f·                                                     ijcai                                                    zero mean noise term function underlying positions twodimensional coordi   explicit parameters implies probabilistic relation nate space likelihood model takes form                                               ship latent variables data yij            yx   independence assumed dimensions instan                                    tiations data relationship factorizes                           yx                                                       gplvm framework     modeled gp                                                        px expression latentspace dynamics model           pyx      pyijxi wj                                  ij                             set constraints discussed introduction                                                        wifislam problem nicely captured terms  latent variables unknown shall  dealt traditionally through marginaliza location → signal strength wish constrain  tion necessitating deﬁnition prior distribution similar locations similar signal strengths  common choice prior normalized zero mean gaus property captured dimensionality reduction tech  sian pxijn xij  px  ij pxij niques including gplvm speciﬁcally gp used  noise assumed drawn zero mean gaussian model pyx provides property similarity                   given variance σn parametric relationship points latent space controlled underlying  latent variables data recovered through kernel function wifi case use squared expo  optimization marginal likelihood functional nential kernel  parameter values trained previ  lationship latent variables data linear ously labeled wifi training data                                                                 →                   wt                         location   location wish model motion                                         person collecting mapping data constraints en  marginal likelihood form tipping compass dynamics component gplvm  bishop                                          wifi case strong odometry data addi                                                        tionally constrain generative model generic          ywn      wwt                                       σni            ofﬁce building remember × design matrix  likelihood model maximized each row xi latent position wifi readings  spect result spans principal sub yi model three constraints dynamics models  space data tipping bishop  context • distance successive positions  wifi mapping fxi wj clearly nonlinear                                                          • change orientation successive positions  marginalization obtain   formed reverting approximations             • alignment parallel line segments    gplvm alternative approach proposed represent constraints conjunction probabilities  gplvm  inspired bayesian point view  bayesian approach maximizing likeli pxpdistanceporientationpalignment   hood parameters treated latent variables                                                        constrain distance successive points apply  marginalized unfortunately linear case                                                        simple timeseries constraint based gaussian prior  just described possible marginalize latent                                                        walking velocity  results  variables parameters wish turn             μ  σ  approximate methods faced choice          n−  marginalize latent variables parameters pdistance xi − xiΔiμv Δiσv   lawrence   shown prior distribu       tion the parameters gaussian pwijn wij                                                         Δi time difference consecutive measure  pw      ij pwij maximizing likelihood                                                        ments consider change orientation  respect leads principal component analysis                                                        successive points change orientation  case marginal likelihood takes form                            θ                                                       tween ui  xi − xi− ui  xi − xi assume                                             pyx     yj  xx   σni          general ofﬁce environment time spent                                                      walking straight line hallways periodic                                                        tersections place prior change orientation  comparison  recognized product                                                        zeromean gaussian sigma σo model  gaussian process models linear covariance function likelihood latent locations orientation model  extend model arbitrary covariance relation  ships considering covariance deﬁned kernel func                n−  tion  maximizing  respect   porientation   θiσo          termines xij values maximize data likelihood                  suming underlying gaussian process model          ﬁnally consider alignment constraint intuition                                                        constraint trace visits    gplvms wifi slam                              hallway twice roughly parallel paths  utilize gplvm framework probabilistically model aligned model constraint consider  relationship wifi signal strength readings probability segments  xi → xi                                                    ijcai                                                      xj →  xj parallel pparalleln θσ                              θ relative orientation seg  ments align parallel segments  close each captured pdp   dp  perpendicular distance segments mea  sured meters inequality modeled like                            lihood dpσ σ deﬁned                                                                                                                                        erf   dp −  σ  σ   segments  parallel close constrain separation dis                                                                                      tance zero pseparationn dpσ  alignment constraint                                                                                                                                                                  ⇒                                          alignment   parallel dp    separation                                                                                                                                                                                                                                                                             told deﬁned conjunction three probabilis                                                                                                                                                                                                   tic models constraining distance orientation alignment                                                                                                      latent space coordinates provide px dynamics                                    model combined gp model pyxwe  deﬁned probability model figure  comparison ground truth gaussian process ver  constraint left                                  sus constructed gplvm  signal strength → location wish constrain simi  lar signal strength readings mapped similar loca  tions note constraint reasonable dense easily establish topological connectivity graph later  wifi environments ofﬁces urban areas localization demonstrate ﬁner features  constraint provided default gplvm gplvm results  lawrence quinonerocandela˜  demonstrate  ﬁnal plot fig  result latent space                                                 use constraints constrain local distance optimization gplvm plot shows clear deﬁnition                  local distances  constraints implemented intersections correct alignment paths strong topo                                smooth internal mapping    φ φ set graphical similarity ground truth trace similar  mapping parameters smoothness mapping ensures results test traces displayed                                    nearby points nearby             brevity plot demonstrates current lim                                                   finally optimize marginalized latent positions itations approach ground truth trace includes  minimizing negative loglikelihood gplvm nonrightangle intersection simpliﬁed right                    likelihood model     efﬁciently gle gplvm result explicit angular  conjugate gradientdescent gradient log constraint motion model constraint emphasizing  likelihood evaluated respect each element straight aligned paths tends prefer grid like structure      performance improved local minima avoided resulting map  initialize starting point descent reasonable given resulting latentspace optimization trivial  value case apply isomap generate acceptable extract intersection connectivity graph represen  initialization contrast results isomap tation resulting graph gp sensor model produced  gplvm results section                   byproduct gplvm immediately applicable                                                        task bayesian localization described ferris et al    experimental results                                fig  comparison gp sensor model  experimental evaluation consists collecting series resulting ground truth locations gp model  wifi signalstrength traces generating sensor model sulting optimized gplvm latent space present  map using wifislam technique cross results demonstration models quite  validating model localizing remaining traces similar suggesting optimized latent space reasonable  considering error                                  evaluate localization accuracy crossvalidated each    collected three traces ﬂoor university gplvm result performing localization using remain  building traces ranged length  meters half ing test traces mapping latent coordi  kilometer traces collected ipaq handheld nate underlying ground truth coordinate sys  standard wifi card clicktomapbased annotation tem welldeﬁned evaluated localization accuracy  program establishing ground truth location seen using metric described bowling et al  speciﬁ  ground truth path fig  traces included three loop cally determine location ground truth coordinate  closures multiple trips through each hallway each ﬁnd closest training point latent space  trace initialized gplvm isomap embedding current location use ground truth location  seen fig  does reasonable job location differently person returns  covering overall structure wifi trace previously visited location estimate accurately  embedding lacks ﬁner resolution make possible detect event                                                    ijcai                                                    
