                        generalized     amazons      pspace–complete                     timothy   furtak  masashi  kiyomi  takeaki  uno  michael  buro    department computing science university alberta edmonton canada email furtakmburocsualbertaca                  national institute informatics japan email masashigradniiacjp unoniijp                          abstract                              serve testbed research selective search                                                            adversarial planning      amazons perfect information board game      simple rules large branching factors play • like hex gomoku tictactoe othello ama      ers alternately chess queenlike pieces      zons property monotonically increasing      block squares × playing ﬁeld            each blocks square underlying struc      player makes wins ama             ture game directed acyclic graph      zons endgames usually decompose indepen         general graph eliminates potentially com      dent subgames game nat          plicating variables scientiﬁc research like hex      ural testbed combinatorial game theory        amazons  end draw      known determining winner simple     • endgames  regularly decompose independent sub      generalized amazons endgames npequivalent        games fig  stage combinatorial game theory      paper presents proofs pspace        applied vastly reduce search space      completeness generalized version   speed good selection compared fullboard      game                                                 analyses amazons suitable testdomain                                                            new  ideas area instance berlekamp    introduction                                            muller¨ tegos  snatzke   amazons twoperson perfect information board game establishing computational complexity various prob  combines elements chess players start lems associated generalized games interesting  pieces called amazons symmetrically posi example proving np pspacehardness convincing  tioned edges  ×  square evidence problem does possess simple solution  board moves consist picking amazon player’s general effective methods exist speciﬁc  colour moving like chess queen shooting stances  arrow straight directions amazon’s generalizing standard amazons game straight  destination square square square  blocked remainder game amazon ar        row pass arrows allowed pass amazons                           amazons captured blocking squares                        mandatory game proceeds turns ﬁrst player                         legal loses fig  shows typical ama                       zons positions                                                                     game amazons interesting ai research                       following reasons                                                                                                                                          • compared popular games rule set sim                            ple — leads interesting strategic concepts                        need addressed designing evaluation  black  c−be    endgame position      functions lieberum     • number legal moves amazons positions figure  typical amazons positions left black      standard board hundreds thou amazon block prevent      sands puts pressure sound backward pruning white amazon entering sw corner area      search techniques alphabeta algorithm right black make  unopposed moves      cause number positions searched white make  black win regardless      small depths astronomical amazons moveforward allow arbitrary squareshaped boards ×  amazons known solv  ing generalized amazons puzzles determining  singleplayer amazons game player make  consecutive moves npcomplete determining  winner simple generalized amazons endgames —  players interact anymore — npequivalent      buro  follows present proofs  pspacehardness deciding winner generalized    amazons positions ﬁrst proof intuitive                                   second leads stronger results  problem remains pspacecomplete each player  amazon    hex  reduction  section show determining winner hex  positions known pspacecomplete figure  arrangement rooms relative each  reduced related amazons problem begin connecting corridors slack space arrows  deﬁnition sets like relate each each corridor each room suf                                                        ﬁcient allow large number amazons pass through  deﬁnition     • amazons    set succinct encodings gen                                                        white amazon fig  amazons placed      eralized amazons positions winning strategy                                                        each each able contain      black                                                        gain control room occu    • hex  set succinct encodings hex positions pied tiles hex board represented removing      winning strategy black      opposing piece way ﬁrst stage transformed                                                        game effectively game hex players alternately  theorem  hex ≤p amazons                            select rooms blocking opponent’s amazons                                                        player does control room  corollary  amazons  pspacecomplete             available opposing player room “for                                                        free” hex similarly help  proof reisch  shows hex pspacecomplete rooms connected corridors require cer  reducing qbf   hex   amazons    ∈    tain minimum number steps traverse traversal time                                                        each corridor chosen adjacent rooms  pspace obvious existence depthﬁrst                                                 minimax search algorithm decides winner given affect player securing room each  amazons position space polynomial length en rooms sealed enemy rooms blocking  coding note number moves amazons game appropriate corridors  entrances  played × board              each room each blocked minimum                                                        corridor traversal times sufﬁcient  proof theorem  function maps ar force outcome amazons game equiv  bitrary code words encoding associated ama alent initial hex game white win  zons position following properties          form connecting path                                                                                                    encodes hex position ﬁrst player black accomplished placing army   white      decodew hex winning strategy amazons board path      ﬁrst player decodefw black amazons rooms fig  adjacent rooms ama      winning strategy                                 zons sufﬁciently far away inﬂuence                                                        initial choosing rooms               fw                                                                        encodes ﬁxed amazons position  board   strips open space      second player white winning strategy         size strips chosen large each    exists turing machine polynomial larger rest board ignoring      started input computes fw strips ensures outcome game entirely      pw steps                          determined player able control majority  follows ∈ hex ⇔ fw ∈ amazons   hex    strips strips positioned white amazon  ≤p amazons   transformation   captured unable capture    given × hex position each hex tiles each strip long path connecting single black ama  represented rectangular room containing black zon fig  path long                                                        amazon eventually reach strip number moves    drop “generalized” context clear required greater needed white cap                                                      path enemy inﬂuence draws hex                                                        winning strategy second player equivalent pre                                                        venting white forming sequence rooms                                                          white form connecting path white                                                        amazon army size                                                          moved time control   strips                                                        majority allowing white win game                                                          white form connecting path number                                                        strips capture   number white                                                        amazons board counting army black                                                        eventually able control remaining strips    figure  sample transformation  ×  hex board amazon each gives black majority                                                        free space allowing win winner game                                                        original hex position                                                          connecting corridors allow entire army                                                        pass through given structure requires long slack                                                        tunnels arrows ﬁred moving tun                                                        nels long size army                                                          counting boundary walls height horizontal                                                        corridors     diagonal corridors                                                        ensuring corridors long pre                                                        vent room interference simple matter adding additional                                                   bends path each bend increasing travel time                                                         each corridor needs moves long                                                        constructing new board clearly polynomial  figure  white’s army board ﬁrst each room rectangle slack tunnels running  amazon block paths enemy rooms            through middle tunnel easily sufﬁcient al                                                        twice space diagonal corridors mov                                                        ing amazon through room straightforward                  long tunnel size lower board center column entering exit row                                                        ﬁnally corridor enter exit                                                        row simply straight initial amazon                   rest board                       room considered army moved                                                        way side                                                          rooms  corridors clearly arranged                                                        ﬂict fig  entire transformation takes polynomial time                                                        size original hex board strategy                                                        army board connecting series                                                        rooms exists trivial clearly impossible                                                        connecting series rooms does exist                                                              geography   reduction  figure    large strips space board  white gatekeeper prevent enemy rooms reach show stronger result num  ing black amazon each strip ber amazons bounded constant problem  eventually able control white mains pspacecomplete start deﬁnitions                                                        sets consider                                                        deﬁnition   ture strips time needed  decide control each room secure rooms • amazons set succinct encodings  army board each × amazons  positions exactly black  strips loose upper bound distance num white amazon winning strategy black  ber free squares lower section board  thing beneath strips manner black eventually • geographybp set succinct encodings  able control strips white     geography     positions — consisting directed bi    ﬁrst player white winning strategy ini partite planar graph node types shown  tial hex position player capture set rooms fig  distinguished start node fig   path exists playﬁeld leaving edges — ﬁrst player win  blocking corridors hostile rooms isolate ning strategy                                                      vertices marked twice force                                                        amazons paths amazon advances                                figure  path vertex  path different path chosen acting                                                        player player placing marker amazon       figure  start vertex                          locked acting player gadget                                                           implement path onesquare width                                                        blank squares surrounding blocked squares shown                                                        fig  assume amazon currently left en                                                        trance proceeds right exit each player’s                                                        respective turn amazon moved forward blocks     figure  branch vertex    figure  join vertex square player blocks square                                                        amazon trapped amazons need travel    theorem  geographybp    ≤p amazons             maximum  speed locked op                                                        ponent’s amazon point fig  amazon needs  corollary  amazons  amazons    pspace     moves travel entrance exit  complete                                             amazon  moves use gadgets                                                        force amazons travel minimal numbers moves  proof  analog proof  corollary   note   case  amazons traverse straight  amazons   ≤p amazons                              line section path want force                                                        amazon moves bend path appro  proof theorem  geography game played priate number times shown fig   players given directed graph marked start node obvious change direction path aims  players alternately marker unmarked node like discuss subgadgets shown fig    exists edge node marked type  speed gadget fig  assume amazon  ﬁrst player loses note case player denoted comes left entrance  geographybp   graph bipartite planar amazon player  comes right  node types shown game ends entrance gadget forces come entrance  vertex entering edges leaving edge quickly possible comes entrance just  second visit vertex lichtenstein sisper  comes entrance say arrive  show geographybp   pspacecomplete         entrances time situation    present polynomialtime transformation maps trap exit gadget exit  words — encodings planar bipartite comes gadget late lock  graphs start marker — encodings amazons po  moves moving blocking   sitions amazons ﬁrst player wins come entrance quickly possible  geography game ﬁrst player wins associ comes entrance time enters  ated amazons game emulate geography game block trapped case  amazons — each player — blocks exit gadget ﬁve moves x’s exit  ﬁll board necessary structure structure ’s exit note use paths connect  separate paths each edge given graph path gadget symmetrical force  fig  player path player speed paths  amazons simultaneously proceed paths type  speed gadget fig  enters gadget  quickly possible player locks enters resp gadget forces  player construct structure player win proceed exit proceed exit resp  ning generalized geography equivalent amazon player late trapped  player able trap amazon player player gadget somewhat complex ﬁrst  embed given directed graph board using pair simply refer functionality assume amazon  paths represent edge embed vertices use comes entrance amazon comes entrance  gadgets force players proceed paths resp gadget forces come entrance  pairs direction original directed edges    putting marker vertex geographybp cor  responds amazons going vertex gadget                      vertex gadget each vertex gadget used                                                                                                                                                                                                                                                                                                             figure  path example                         figure  speed gadget type quickly possible ’s entrance check properties analogously  type  speed gadget come type  speed gadget fig  gadget  time enters ’s entrance gadget forces identical previous gadget difference  come reaches direction right hand side paths mir  locked ’s entrance comes rored  time enters trap  addition cross gadget fig  cross path player  enters resp enters resp path player gadget assume entrance  come time enters entrance come  lock x’s entrance ’s entrance gadget time forced exit gadget  forced exit forced exit amazons forced exit gadget  use gadget twice enter ﬁve moves case comes later  enter ﬁrst use gadget locked comes moves later  blocks obstruct use gadget        trapped similarly player goes exit tries    amazons’ sequence moves gad obstruct opponent player opponent player lock  moves x’s entrance amazon addition comes gadget  ’s entrance come entrance comes exits takes moves  time moves moves moves   exits comes gadget  blocks moves blocks comes exits takes moves  proceed respective exits speed blocks exit easily check properties  position proceed exits explain main vertex gadgets corresponding  increases number moves available  types vertices fig  fig  fig  fig   play way wants win assume easy emulate vertex fig   blocks blocks position trap paths each player player needs   block prevent locked travel entrance exit player  x’s entrance ’s entrance arrive does effectively reversing player act  entrance time moves moves illustrate gadgets branching vertices fig  joining  moves blocks moves vertices fig  fig   respectively use  blocks option  blocks position option  gadget fig  start vertex fig  draw  case  moves blocks case paths amazon expected enter gadget   moves blocks cases locked ﬁrst solid lines paths amazon dotted lines                                                        amazons come paired entrances                                                  time amazon late locked                                                        opponent’s amazon speed gadget just                                                      entrance                                                        branch  gadget fig  gadget corresponds                                                                    vertex entering edge leaving edges fig                                                   player selects leaving edges fol                                                    lowsince adjust number moves amazons                                                quire paths bending paths arbitrarily set           figure  speed gadget type         x’s entrances x’s exits ’s                                                        entrances ’s exits length                                                        cross gadget requires moves wants                                                        ’s exit doing result trapped                                                        type  speed gadget player select                                                        ’s path select exit direction                                                        did locked type  speed gadget                                                        note slows inside gadget lock             figure  speed gadget type                                                                   figure  cross gadget                              figure  branch gadget
