              longdistance mutual exclusion propositional planning                                yixin chen zhao xing weixiong zhang                                     washington university stlouis                             department science engineering                                     chenzxzhangcsewustledu                          abstract                          gerevini et al gerevini et al  extended mutex tem                                                        poral planning kautz selman encoded mutex      use mutual exclusion mutex led sig straints blackbox kautz selman       niﬁcant advances propositional planning  satplan   kautz  planners note      previous mutex detect pairs ac existing fast planners different applications based      tions facts arranged mutex example lpg temporal planner gerevini      time step paper introduce new class et al gerevini et al  won prize sub      constraints signiﬁcantly generalizes mutex optimal track rd international planning competition      efﬁciently computed proposed      ipc satplan won prize optimal      longdistance mutual exclusion londex cap  track th th ipcs      ture constraints actions facts      time step multiple steps  despite success mutex major limitation      londex provides powerful general approach   detect conﬂicts pair actions facts      improving planning efﬁciency applica  time step unable capture constraints relating      tion integrated londex satplan   actions facts different steps hand long      leading optimal planner experimental results   distance constraints ubiquitous planning      show londex effectively prune search mains example transportation problem actions      space reduce planning time resulting requiring use truck different locations      planner maxplan won place award arranged close each time truck      optimal track th international planning relocated ﬁrst action      competition                                        research developed longdistance mutual                                                        exclusion londex novel class constraints propo                                                        sitional planning unlike mutex based boolean    introduction                                       fact representation londex derived domain transi  propositional planning entails arranging course actions tion graphs dtgs multivalued domain formulation  order achieve certain goals subject logical conditions mdf jonsson backstrom  planning prob  effects actions propositional planning tradition lem table  compares key features londex mutex  ally formalized deduction green known superset mutex londex capture constraints relat  pspacecomplete bylander  previous work ing actions facts time step  deduction paradigm achieved limited success multiple steps important utility londex  handle small cases                              measuring minimum distance pair actions    emerging efﬁcient techniques propo prune search space improve planning efﬁciency                                                                                                           sitional planning mutual exclusion mutex introduced example truck problem ipc ipc    graphplan blum furst  construct constraints satplan generates  mutex constraints  actions facts graphplan actions level method using londex produces  londex  persistent mutex actions action deletes precon straints result  speedup time incorpo  dition addeffect actions ratedinsatplan  mutual exclusive preconditions during search mutex paper organized follows section  deﬁne  constraints enforced prune search space   basic concepts review conventional mutex    invention mutex extensively studied discuss mdf representation introduce londex  led development efﬁcient planners ex section  incorporate londex satplan planner  ample gerevini schubert proposed new state constraints develop new planner evaluate performance  forward propagation mutex gerevini schubert ipc benchmark problems section  discuss related   smith weld penberthy weld   work section  conclude section                                                      ijcai                                                        property          mutex             londex        result fast planners use persistent mutex    representation    boolean facts        mdf          straints rest paper mention mutex    generation time    polynomial        polynomial     refer persistent mutex    relevant levels  level      multiple levels    fact constraints  actions    dtg analysis   action constraints adddelpre facts fact distances  longdistance mutual exclusion londex       quantity        moderate            large        develop londex ﬁrst consider multivalued formu       pruning         moderate           strong        lation propositional planning     relationship        persistent mutex ⊂ londex     table  comparison persistent mutex londex  domain transition graph    propositional planning mutex                   multivalued domain formulation mdf jonsson                                                        backstrom  translates boolean facts com  propositional planning requires generate sequence ac pact representation using multivalued variables each  tions order accomplish set goals propositional variable represents group boolean facts  planning described strips formalism true state  represented set boolean facts given set facts    ···                                 mdf representation propositional planning                astate  subset main deﬁned set multivalued variables   fact true                                                        xx ··· xmwherexi ﬁnite discrete domain di  example  simple cargo planning problem concerns mov                                         ll          planning problem value assignment multi  ing piece cargo three locations        valued variable mdf corresponds boolean fact given  using truck  fact set includes facts                                                        mdf variable assignment  boolean fact fwe  possible locations truck cargo                                                        denote correspondence  mdfx  attl atc landinc  state speciﬁes cur                                                          mdf state encoded complete assignment  rent status example  attlatc                                                        variables  vx  ··· xm  vm  deﬁnition   action      triplet         xi assigned value vi ∈difori   preoaddodelowherepreo ⊆  set example  formulate example  mdf use                          addo ⊆    delo ⊆  preconditions action                      mdf variables locationt locationcto denote lo  sets add facts delete facts respectively cations truck cargo respectively locationt    result applying action state deﬁned             lll      location                                                      values                                          ∪ addo  delo preo ⊆         dc    lllt                            results                                                        anexamplestateis                    undefined               locationt  llocationc                                                             multivalued variable mdf corre  consequently  applying    sequence     actions                                                        sponding domain transition graph deﬁned follows        oo ··· on results results   result···resultresults oo ···on alter   deﬁnition  domain transition graph dtg given  natively set actions performed parallel plan mdf variable ∈ domain dx dtg gx  number time steps multiple actions digraph vertex set dx arc set ax arc                                                              executed time step                               ∈ax iff action delov                                           addovinwhichcasethearcv v labeled  deﬁnition  planning task triplet                                               set actions ⊆ initial state say transition action  ⊆ goal speciﬁcation                                                        deﬁnition  fact distance dtg given dtg gx  deﬁnition  persistent mutex actions actions distance fact  mdfx factor                                                                        Δ     mutex following sets  mdf       written gx    deﬁned  preo ∩ delopreo ∩ delodelo ∩ addo minimum distance vertex vertex gx  delo∩addo exist facts ∈ preo                                                        example     cargo example cargo  ∈ preo mutex                                                        loaded truck unloaded location  deﬁnition  persistent mutex factstwofactsf truck different locations dtgs  mutex exist nonmutex actions cargo truck shown figure  ﬁg  ∈ addo ∈ addo                Δg                                                                          ure    locationc mdf       mdf                                                                      Δg             tl     tl  ∞    mutex constraints deﬁned blum furst    locationt mdf       mdf                 gerevini et al  persistent sense following method used fast downward plan  effective regardless initial state ner helmert  implemented prepro  level planning graph blum furst blum cessing engine generate dtgs main steps  furst  suggested derive nonpersistent mutex preprocessing include detecting invariant fact groups ﬁnd  dependent initial states levels deriving ing mdf variables generating value transitions  nonpersistent mutex usually requires construct planning each mdf variable details algorithm  graph expensive impractical large problems helmert’s paper helmert                                                      ijcai                                                                    location     location              procedure generate londex                                             truck             input strips planning problem        cargo                                           loadunload                                  output londex constraints facts actions                 truck            location             generate dtgs     loadunload        loadunload                        generate fact londex based dtgs                                                               each fact      location       location      location                                                                  generate action londex eaf                                                                                  figure  dtgs mdf variables locationc locationt  each dtg graph                                                                                      ∈  example                                                       each pair facts                                                                          generate action londex eaff                                                             end procedure    generation londex constraints  deﬁne londex based mdf representation       table  generation londex constraints  deﬁne tf time step fact valid                                   time step action chosen    movetll   adds attl  contrast londex                                                   londex constraints facts given boolean facts  stronger speciﬁes actions using truck                                                correspond nodes dtg  happen different time lead     Δ      gx           valid plan ﬂict example  steps apart dtg   ≤ tf  − tf                                                      conﬂict arranging movetll step                                       atc  example  continuing example      true  movetll  step  londex mutex  time step  atc true step   londex constraints actions simplicity say  analysis londex constraints  action associated fact appears  preoaddoordelo given actions bwe  section study completeness computation com  consider classes londex constraints plexity pruning power londex constraints  class aifa associated fact proposition  planning problem thesetofper  mutually exclusive following holds     sistent mutex subset londex      ∈ addaf∈ delb   tatb                                                      true deﬁnitions mutex londex      ∈ delaf∈ preb  ≤ tb − ta ≤                                                         class action londex include persistent action mutex    note stronger original mu  tex inequalities replace inequali proposition  londex constraints generated time  ties tatb  equivalent polynomial number facts  original mutex                                       proof space limits sketch time results  class bifa associated fact associated denote number facts  plan length  fact invalid  ≤ tf − tf rac weuses denote upper bound number  cording fact londex mutually exclusive preconditions add effects delete effects ac  following holds                           tion planning domain usually small    ∈ addaf ∈ addb  ≤ tb − ta ≤ −  constant planning domains time generate                                                                              ∈ addaf ∈ preb  ≤ tb − ta ≤ dtgs osf   time generate class lon                                                                       ∈ preaf ∈ addb  ≤ tb − ta ≤ −  dex ots  time generate class londex                                                                      ∈ preaf ∈ preb  ≤ tb − ta ≤ −  ots   total time complexity                                                                   otsf                                                                         algorithm          polynomial     intuitively facts   dtg proposition  gives worst case complexity guaran  appear closely structure dtg tee generate londex constraints comparable  actions associated facts mini                                                      polynomial time complexity generate mutex  mum distance example case executed straints blum furst  empirically prepro  time tathenf valid time ta fact                                                cessor takes  seconds generate londex  distance   larger   precondition straints each problems ipc negligible  true time tar means                       tar                         comparing planning time londex help reduce  true time         cases thousands seconds large problems  proved similarly                                                          table  illustrates use londex reducing planning    procedure generate londex constraints ta                                                        time compare size mutex constraints derived  ble  eaf represents classa action londex                                                        blackbox satplan satbased planners  related fact fandeaff denotes classb ac                                                        ing mutex londex constraints londex  tion londex related pair facts dtg                                                        constraints   times larger mutex  example   cargo example mutex                                                        pending planning domains evident table   tect constraints truck arrive                                                        incorporating londex sat planner largely  leave location time example                                                        creases size sat instance signiﬁcantly reduce  movetll   movetll   mutually ex                                                        speed sat solving stronger  clusive movetll deletes attl                                                        straint propagation pruning                                                     ijcai                                                          method          size   decisions  time         domains      londexminisat£   minisat siege      satplan                      openstacks       ¢ ¡                       blackbox                    tpp              £                 satplanlondex                                                                       truck            £¢ ¡                table  comparison number constraints unit prop storage        ¢£ ¡             agations decisions solution time satplan  pathways         ¢ ¡                 blackbox satplan londex solving       pipeworld        £                   truck problem ipc time step                   rovers           ¢ ¡                procedure satplanlondex                                            input propositional planning problem         table  number instances each method solve                                                generate dtgs londex constraints   ipc domains total number problem instances each                set lower bound optimal plan length domain highlight box better londexminisat      repeat                                          minisat difference         convert planning graph time steps         translate planning graph sat instance         add londex constraints sat       station intel xeon  ghz cpu  gb memory         solve sat instance generic sat solver evaluate effect londex constraints compared         sat instance satisﬁable          satplan minisat denoted minisat tables             convert sat solution propositional plan  satplanlondex minisat denoted                                    ←−         increase plan length           londexminisat tables reference ran      solution                     original satplan siege denoted siege    end procedure                                                        tables algorithms solution quality      table  framework satplanlondex       terms number time steps optimal                                                        focused comparing running time                                                          table  shows performance three algorithms                                                                                          th    experimental results                               seven planning domains used  ipc ipc ipc                                                           domains selected  variety  application londex incorporated londex realworld application domains transportation  straints satplan kautz  leading satbased scheduling truck tpp production management open  optimal propositional planner attempts minimize stacks crate storage storage molecular biology path  number time steps satplan converts planning ways petroleum transportation pipeworld rover mo  problem boolean satisﬁability sat problem solves tion planning rover each domain contains number  using sat solver satplan uses actionbased problems table includes number problems  encoding converts fact variables action variables each domain each algorithm solve thirty  goal constraints actionprecondition minute time limit  straints constraints sat binary shown table  minisat londex solve  straints modeling mutex actions          problem instances domains minisat mu    replaced mutex constraints londex constraints tex example satplan minisat solve  kept components satplan unchanged fol  problems rovers satplanlondex  lowing actionbased encoding satplan used minisat solve  problems furthermore  boolean variable vij represent execution action directly comparable use different solvers sat                                   time step  action time step  action planlondex minisat outperforms satplan                time step  mutually exclusive londex siege   domains problems                    ¬v    ∨¬v  constraint clause ij generated    solvable satplanlondex typically    resulting algorithm satplanlondex shown large tens millions variables clauses  table  starting lower bound optimal plan methods easily solve small problem  length satplanlondex iteratively solves each tar stances ipc problem difﬁculty each domain  geted plan length converted sat problem augmented grows exponentially problem size particularly  londex constraints method increases optimal interested performance three methods large  plan length reached need generate londex difﬁcult instances table  shows solution times  constraints save use steps  three largest problems three methods    current default sat  solver satplan     solve each domain result shows  siege ryan  experiments run tpp pipesworld domains using londex constraints  ning siege satplanlondex caused memoryrelated  minisat help satplan solve large difﬁcult  errorssince source code siege available stances substantially time note dtgs  impossible modify parameters accommodate generated tpp pipesworld domains contain  large memory requirement chose use dif fact nodes londex reasoning generate  ferent sat solver minisat ee´n biere  sat straints facts associated actions  planlondex ran experiments pc work dtg fewer fact nodes dtg usually means fewer                                                     ijcai                                                         problem     londexminisat£   minisat siege        previous works exploited various kinds     openstacks       £¢ ¡                       mutex reasoning constraint inference state vari                                                        ables example forward backward reachability anal     openstacks       £¢ ¡                                                                       ysis studied order generate mutex     openstacks       ¢£ ¡                       graphplan et al  brafman  fox long       tpp            ¢ ¡      £             used ﬁnite state machine graph enhance mutex rea       tpp                    ¢ ¡           soning stan planner fox long  bonet       tpp           £                           geffner hsp proposed deﬁnition persis                                                        tent mutex pairs recursively ﬁnding conﬂicts       truck          ¢ ¡                                       £                                action precondition action bonet       truck          £¢ ¡                       geffner  previous mutexes       truck          ¢£  ¡                      relate actions facts level pro      storage        ¢£  ¡                     vide constraints actions facts multiple leves                                                        like londex does kautz selman kautz selman      storage                                               £¢   ¡                            mccluskey porteous mccluskey      storage        ¢£  ¡                       porteous  studied handcoded domaindependent      pathways        ¢ ¡       £          straints earlier works explore constraint inference                                                                                            pathways         £        ¢ ¡          include kelleher cohn  morris feldman                                                             pathways                                                    ¢   ¡       £                     londex constraints derived fact ac     pipesworld                 ¢ ¡           tion distances earlier attempt line research    pipesworld                                   derive constraints distance chen    pipesworld        £                          van beek van beek chen  used      rovers          £¢ ¡                       handcoded distance constraints csp formulation      rovers          £¢ ¡                       planning vidal geffner used distance constraints                                                        cpt planner vidal geffner      rovers                                                     ¢   ¡                           distance constraints require domain knowledge                                                        expensive reachability analysis depends ini  table  solution time seconds largest problem tial states comparing londex constraints based  instances ipc each domain show three largest dtgs domainindependent richer  problems method solve ”” means timeout stronger capture constraints different time steps   seconds highlight box better provides systematic representation stateindependent  londexminisat minisat difference  distance constraints                                                           satbased planner falls broad category  weaker londex constraints rela transformationbased planning selman kautz   tively unsatisfactory performance satplanlondex kautz et al  kautz walser  wolfman  domains likely special property dtgs weld  wah chen  chen et al  domains                                 transforms planning problem different formulation    notice satplanlondex minisat solving consensus  extremely efﬁcient openstacks trucks rovers reached regarding formulation best  mains studying underlying structures considered furthermore transformation  three domains understand reasons supe based planners used generic constraint solvers solve en  rior performance                                     coded problems treating constraint solving                                                        blackbox manner intrinsic structural properties planning    related work discussion                        problems largely ignored  notions multivalue formulations domain transi  conclusions future work  tion graph traced work jonsson  backstrom planning complexity jonsson backstrom proposed new class mutual exclusion constraints   earlier work backstrom capable capturing long distance mutual exclusions  nebel sas backstrom nebel  multiple steps planning problem abbreviated  use representations result compact en long distance mutual exclusions londex londex  codings booleanfact representations example plan straints constructed mdf dtg representations  ners employing representations include fast propositional planning problem londex contains  ward helmert  ipp planner briel et al  subset persistent mutex includes constraints  fast downward bestﬁrst search planner utilizes time step provides stronger prun  information domain transition graph heuristic ing power incorporated londex satplan  guide search ipp planner based integer program experimentally evaluated impact londex planning  ming                                                 efﬁciency large number planning domains ex                                                     ijcai                                                    
