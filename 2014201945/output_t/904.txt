                     oversubscription planning numeric goals                 benton                        minh                subbarao kambhampati∗      sci  eng dept         embedded reasoning area          sci  eng dept        arizona state university         palo alto research center          arizona state university         tempe az                palo alto ca              tempe az             jbentonasuedu                minhdoparccom                     raoasuedu                        abstract                          hard soft goal constraints ﬁrst present mo                                                        tivating example discussing techniques handle      relaxing hardgoal constraints clas  new extensions      sical planning associating reward   mars rover  rover sent mars collect soilrock      values oversubscription planning allows users   samples pictures different locations rover      concentrate presenting want   ﬁrst land safely roll lander dif      leaves task deciding best goals     ferent locations gather scientiﬁc data objective      achieve planner paper extend collect data possible given energy time      oversubscription planning problem lim   limitations subset data gathered      ited goal speciﬁcation allow numeric goals quality plan measured sam      continuous utility values goals mixed    ples collected different locations picture      hard soft constraints consid  data transferred earth obviously samples      erably extend modeling power goal spec    picture data better values natural      iﬁcation allow user express goal  model goals collecting numeric goals      straints possible handle utility given according actually collected                                              ps      new goal constraints extend sapa      example brings issues       planner’s planning graph based techniques help certain types goals better represented numeric      choose best beneﬁcial subset goals goals range utility values sam      include hard soft logical numeric pledata  goals critical success      goals provide empirical results plans landing safely goals      benchmark domains demonstrate tech   critical beneﬁcial collecting samples      nique helps return quality plans                 rover domain types goals common                                                        realworld planning problems transporta                                                        tion travel planning extend goal structure al    introduction                                       lowing numeric goals constraints continuous                                                        quantities continuous utility values depend  classical planning given set conjunctive goals actual value achieved ﬁnal plan strike mid  achieved plan success planning dle ground classical planning oversubscription  problems complicated temporal resource goal constraints supporting hard critical soft  constraints harder predict goals achievable beneﬁcial goals additional types goal constraints  recently motivated requirements different nasa complement traditional logical goals allow user  planning problems planning airborne telescopes freedom expressing desire ﬁnal plan  hubble sirtf planning mars rover extending current framework hard soft                          mission smith   introduced oversubscription goals support mixture overly challenging  planning problem type problem planner effective handling numeric goals continuous util  required achieve goals instead achieve best ity values does pose challenges particular need  subset goals given resource limitations       reason degree satisfaction goals illus    ability represent goals soft constraints trate goal sample ≥  grams satisﬁed  ﬁxed utility values makes easier model goals sample   sample   different degrees  applications restriction support soft logical need techniques  goals limitations metric temporal planning domains  paper extend framework handle numeric goals  assign utilities different degrees satisfaction  having variable utility values mixed goal sets containing  track costs achieving goals different degrees                                                             satisfaction    ∗this research supported nsf grant iis  ibm faculty award                                   use achievement costs utilities combination                                                                              sample      estimate ﬁnal plan maximizes overall net                                  sample                                                               rover                             picture                                                                                       beneﬁt achievable given state                                                        present sapamps  extension sapaps                                                                                                                                                                                                    kambhampati  van den briel et al  support                                                      mps                                                   numeric goals mixed softhard goal sets sapa                                                                                                                                                                                                         signiﬁcantly extends relaxed plan extraction procedure                                                                                                                                           ps                                                                                   used sapa support numeric goals                               ced           ced    sa     ced                                                                               sa                                                                                                                    ﬁrst brieﬂy discuss search framework used                                                ps                                                                       sa  sapa   section  show extend cost                                                                                                                                                                                                                          pi  propagation relaxed plan extraction routines handle                                                                                                                                           metric quantities combination soft hard goals level   level        level        level   section  present empirical results extended ver  sions wellknown planning benchmark domains     figure  rover example planning graph  section  show new techniques help ﬁnd larger  better quality plans conclude paper related state visited instead ﬁnding single plan  work discussion                                  algorithm keeps searching incrementally better plans                                                        terms achieved net beneﬁt gs value heuris    background                                         tic value hs calculated extending cost propagation                                                        planning graph routine followed relaxed  start formal deﬁnition oversubscription plan extraction process sapa  kambhampati   aka partialsatisfaction planning problem pro search stops ﬁrst node queue value  ceed describing sapaps  kambhampati  hs   fs  gs rest section  van den briel et al  planner framework discuss three steps estimating hs value  heuristically searches good quality plans problem example figure  shows example mars rover                                                        domain complete planning graph structure    oversubscription planning osp                                                                                    example  rover initially resides location  formally deﬁne oversubscription planning problems needs collect samples picture    smith  van den briel et al  following rover  locations mlxly   tations used ﬁnite set ﬂuents  calibrate equipment taking samplepicture  ﬁnite set actions each action consists list  collect sample location sal  pictures  preconditions list add delete effects ⊆ il action execution costs depicted each action  set ﬂuents describing initial state ⊆ complete planning graph example shown  set goals deﬁne planning problem tuple figure  ﬁrst action layer graph contains three     osp problem deﬁned follows actions respective execution costs cm                                                          cm      cc    deﬁnition osp net  benefit given planning problem        each action ∈ “cost” ca ≥  costpropagation planning graph planning  each goal speciﬁcation ∈ “utility” ug ≥  ﬁnd graph propagates achievement cost each predicate  ﬁnite sequence actions ∆  ha  ani starting execution cost each action forward starting initial                                                       leveltimepoint ﬁxpoint simplify discussion  ipthat leads state maximizing net beneﬁt value         −        set goals satisﬁed section assume actions unit du    g∈sg     a∈∆                                                          ration                                                          intuitively heuristic needs realize able    contrast classical planning problems picture ﬁrst need camera cal  osp goal achievement needed qualify plan ibrated each action execution cost  valid sequence actions valid plan ca static different cost enable execution  emphasis ﬁnding good quality plans objective costa cost achieve preconditions    function maximize tradeoff total achieved costp il   costcedcostl  cc cm   goal utility total incurred action cost additive    want heuristic capture fact                                                        cost picture involves cost enable execution    sapaps  heuristic search osp                                                        il cost actually carry action      ps                                                costp    costp         propagation  sapa   adapts heuristic progression search framework               il  solve osp problems quality each search node rules  visited search algorithm forward plan                                                           initially    ∀p ∈  costp     ner ranked using value fs  gs  hs                                                         ∀p∈   costp  ∞  ∀a ∈  costa  ∞  gs         −        starting initial state           g∈sg     a∈∆   net beneﬁt value gi sapaps keeps track  pat level  ∀a ∈      costal    visited states better gs values best p∈p reconda costpl−  ∀p ∈  costpl       states represented just sapa planner  kamb assume readers familiar planning graph  hampati                                        originally described blum  furst         ssp                          ongoing example goal set                   ssp                                                                                                                                           removed costas   costm  costsa            ss                 ss  sa                       utils   figure  shows relaxed plan                   ced                                                               sa                                                 reﬁnement                                                          pi                               net  beneﬁt   ﬁnal  relaxed plan      level       level        level        level                                                         utils  −   costm sa              sp                               sp                                  −              used                      sa                                                     heuristic value hs guide search algo                                       ced                               rithm  general deﬁne rp relaxed                         pi                          plan state uapplyrp                figure  relaxed plan              utility achieved applying actions relaxed                                                        plan state heuristic value calculated      minp∈effectacostal−                          hs   uapplyrp  − − costrp                                                        rp ﬁnal relaxed plan    heuristic inadmissible use sum  propagation calculating cost execute each action  grow graph new actions facts introduced  handling numeric goals utility  cost achieve facts costp execute actions sapaps supports logical achievement goals form  costa decreases new ways achieve support  rue hasp icturel  figure  highlight new facts actions goal collect grams mars soil sample  introduced each level new achievement costs given location samplel  naturally  each fact example ﬁrst appears level  represent numeric goal  costl   achievable value costl  decreases  level  new action level  numeric goal representation   set achieved facts supporting actions unlike logical goals truefalse values  level  level  did stop growing arbitrarily large number values satisfy  graph level  costs decreases level given numeric goal assign range continuous utility   reduction costl level  leads values numeric goals represent degree satisfaction  decrease costsa                           speciﬁcally numeric goals utility values set  extracting relaxed plan terminating cost follows  propagation cost values used extract relaxed                                                        deﬁnition numeric  goal numeric goal relation      rp                              plan    starting achieved goals  follows ∈ mathematical formula involving     starting level ∀g ∈ level select arbitrary number numeric variables       action action level −  supports interval open closed end bounded      lowest cost                                      real values ≤ inﬁnity     action selected level precondi example goal keeping travel cost       tions previous level added  represented hotel  airt icket ∈     stop ⊂                                                                                           each numeric goal ∈ utility value ug    collected actions causal links speciﬁed linear function example goal  make relaxed plan rp                     collect  grams mars sample  sample                                                                                                    reﬁning relaxed plan each goal build  utility goal uf   ∗ sample  goal supporting set gs each proposition action worth  million dollars each gram mars’ soil  going backward using extracted relaxed plan follows  grams  dollars    • ∀g ∈  gsg                                 cost propagation numeric goals                  • gsa     gsp  ∈ effecta                  incorporate numeric goals current heuristic frame                  • gsp     gsa  ∈ reconda                work ﬁrst able estimate cost achieve                                                        unlike logical goals multiple degrees sat    intuitively each action gsa set goals isfaction numeric goal procedure  supports achievement goal gsa tracks achievement cost necessarily compli  depends inclusion relaxed plan cated speciﬁcally  goal g∈  gsa achievable  figure  show goal supporting sets actions • logical values track time point tp                                                             proposition ﬁrst achieved  rue  related propositions gsc   corresponding utility values utils    three achievement cost time points ≥ tp nu                                                            meric values need track range possible values  goals relaxed plan each set sg ⊂ let                                                            lvi  uvi  numeric variable each jth update   gsa ⊂ sg set actions supporting goals                                                                                                                 th  sg remove sg asg relaxed   lower bound value update upper  plan Σ    costa  Σ    utilg cost  utility bound value         a∈asg           g∈sg      dur         dur         dur          means action rtpg applied concurrently      sample  sa sample  sa communicate com   arbitrary number times causing num       cost  end cost  end start cost  start                               ber time points graph increase signiﬁcantly                                                        avoid problem disallow concurrency prac                                        sa      sa      sa                     tical compromise                  sa    sa csa                 figure  shows rtpg example reapply                                                        numeric effects actions directly duration com                         com       com                                                         pletes time   action sa completes add                                                                                                               upper bound value    indicate col                                                    lected weight soil sample increased      cost                                                                                   time point precondition com satisﬁed                                                                                                             bound   apply numeric effects     cost                                                                                                                             action adding upper bound   weight                                                        soil sample   sa completes add  figure  rtpg example actions deﬁned                                                                     upper bound value        increasing previ                                              ous upper bound second time  according                                                        numeric effect sa continues reach nu    • tracking costs achieve logical literals actions                                                                       meric goal       figure       reapplied sa action level  figure  show upper lower bound values      cost execute cost achieve pre grow graph actions decrease      conditions decreases actions having values simple example lower bound      numeric effects vi need applied pos values variables remain unchanged      sible sa figure  effects rtpg handles numeric expressions effects                               vi           vi      tinue change upper uk  lower lj  bound preconditions applying formulas each      values quantity vi                        bound   instance bounds three variables  example illustrate techniques track achievement        −   costs numeric goals use variation ongo want calculate   ∗ ﬁrst  ing mars rover example solely concentrate metric ﬁnd ∗    min ∗   ∗   ∗   ∗   quantities example illustrated figure  max ∗   ∗   ∗   ∗                                                                   −     −   samplecollecting actions sample sa collects sin                                                                                         vi         th  gle gram soil sample sample sa collects  grams tracking achievement costs let bj refer upper  soil sample effects actions occur end lower bound vi rtpg rtpg associates                                                                        vi                     vi  execution action communicate com com each bound value  bj  propagated cost costbj  cost  municates sample information lander start value estimates costly achieve certain numeric  execution use continuous variables track value idea each value satisﬁes  weight collected soil sample rover’s store numeric goal tradeoff cost achieving  track total communicated sample utility incurs used heuristic guidance  goal achieve   goal utility formula cost propagation trivial presence numeric  ug  ∗  ≤  utility zero expressions turning case let concentrate  wise utility using ug                discussion simple numeric effects effects using    connection time numeric goals constant values numeric updates increases  obvious osp problems important component creases generate new bound value respect  action cost time consumed each action previous base cost each bound  goal utilities normally depend time goals previous bound’s cost costbvi  speciﬁcally  achieved like sapaps  sapamps planner handles                             j−                                                        action adds upper lower bound variable vi  actions different durations make ing increase  decrease  numeric effect prop  assumption actions uniform duration                      vi                vi                                                        agated cost bound costbj   costacostbj−  previous section                                    lets track cost executing actions  tracking upper lower bounds ﬁrst step required reach numeric goal precondition  estimating achievement costs numeric goals bounds using assign  numeric effect  track possible values numeric variables different pend action propagated cost                                                             vi  time points previous work tracking upperlower bounds costbj   costa example shown figure   numeric variables using planning graph cost new bound numeric effect sa                                                                                           nontemporal planning koehler  hoffman    costu   costsa  costu                                                                                                 sanchez  mali   actions ex numeric effect sa reapplied   causes  ecuted serially marked mutually exclusive  numeric effects varying results ordered dif rtpg ﬁnd multiple upper lower bound values                mps  ferently sapa  semantics planner disallows variable vi time point index bounds  interacting actions concurrent relaxed tem manner refer previously bounds  poral planning graph rtpg allows context regard time point appear rtpg                                              update value costu     updating upper bound                    costsa  costu                               values shown figure  activating com                                                                                           ongoing example each numeric effect precondi   set bvi   representing  tion involves fewer variables bounds used expression  new                                                                                                   general scenario numeric goals action preconditions ac bound satisﬁes numeric goal costu                                                                                         tion effects formula involving arbitrary number costcomcostu  −costu                                                                                                    numeric variables interdependencies vari update sa completes giving costu                                                                                                       ables complicates cost propagation bounds   numeric effect sa gives costu     calculate new bound values expressions   need ﬁnd cost new bound based costs notice numeric goals ∈  values involved expression deﬁne satisﬁedt bound values given time point                                                        lf  uf   ∅ allow rtpg continue  each variable vi set bvi bound values involved  computing new bound variable vi example expand ﬁxpoint  expression   ∗ deﬁne effect relaxed plan extraction numeric goals doing   applying effect track each bounds costpropagation rtpg cost information  used generate minimum maximum values used extract relaxed plan using approach similar  formula case   apply effect using discussed section  challenge  resulting bounds new upper bound ciding each numeric goal ∈ select                         set bv          indicate beneﬁcial value vf achievable through  pendencies upper bound particular planning graph extract action supports vf  bound values used achieve new upper value selecting action add logical  bound                                                numeric preconditions goal set ensure    during cost propagation bounds used satisfy precon cost numeric bounds used satisfy numeric  dition included cost action each vari goal constraints included relaxed plan  able used expressions allow single bound accurately determine achievement cost each  variable included calculating costs new bound  bounds avoid including bound each handle relaxed plan extraction numeric goals  variable variable used support precon choose bound values provide best tradeoff  dition expression numeric effect goal utility value achievement cost                                                                                      vg  vg  let pa set bound values used sat each achievable value vg ∈ lj uk  satisﬁes  isfy numeric preconditions action exam goal constraint select gives greatest  ple     uv   starting   deﬁne     com                                              uvg − costvg value action supports vg  pa  bvi set operation variables represented selected added relaxed plan given goal interval    bounds pa bvi  result gives vi ∈ ﬁnd value ∈ expanding  bounds equal bounds  rtpg ﬁnd values vl  vu                                          vi  formally  bvi  bvi ∈ ∧ ∃bvi ∈           say goal subsumed case allow ﬁrst                               kj                 subsuming value support goal    instance sets  lv  uv                                                    estimate utility bound let utility                           bvi          pa bvi                                                      heuristic estimation each numeric goal supporting      result provides means removing bound select include cost support  costs bounds pa present ac utility value net beneﬁt calculation  tion use calculate bound cost                              vi                        going example net beneﬁt relaxed plan  cost bound value variable vi changed                                                                                             uuv    − csa   ccom   cu     increase  decrease  effectp action       vi                  vi                            − cu      ∗  −      −     costbj   costa  costbj−  d∈b costd −                                     vi           coste follows cost bound  combining hard  soft goals    e∈pa bvi  assign effect  action costbvi   work support hard soft goals tradi                                                                                                tional logical goals numeric goals discussed  costa   d∈b  costd −  e∈p   coste                vi                vi                previous section case numeric goals single goal    shown figure    actions sa sa involve hard soft constraints example  added rtpg delayed numeric effect sa goal having rover collect   grams                                        increases    incurs costu     mars soil sc  soilcollected ∈   modeled  time point precondition ≥  com satisﬁable sc   hard constraint collect                                         pcom       costu      grams sc   soft constraint   included ﬁnd costcom com harmful  graph   costcom   instantaneous support hard soft goals best ﬁrst search                                                 effect  leads new bound costu  framework oversubscription problem need change    costcom     sa’s delayed numeric                                                             effect activated increases  new bound recall utility values given linear formula             cost costu     increase time   goal variable
