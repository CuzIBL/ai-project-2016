               visually tracking football        games based tv broadcasts                                 michael beetz suat gedikli jan bandouch                 bernhard kirchlechner nico hoyningenhuene alexander perzylo                                  intelligent autonomous systems group                            technische universit¨at m¨unchen munich germany                                         aspogamointumde                        abstract                          high player detection rate  average                                                        inaccuracy  cm handles cases occlu      paper describes aspogamo visual track    sions works realtime aspogamo deals      ing determines coordinates tra substantial variations lighting conditions compli      jectories football players camera view based cated team dresses demonstrated      tv broadcasts aspogamo solves     robocup  bremen tracking players based live      complex probabilistic estimation problem broadcasts fifa world cup       sists three subproblems interact subtle                                                          purpose paper brieﬂy basic      ways estimation camera direction                                                        algorithms discuss exten      zoom factor tracking smoothing player                                                        sions scale realworld application      routes disambiguation tracked players                                                        main contributions threefold      occlusions paper concentrates      aspects make suitable operating    accurate reliable modelbased estimation      unconstrained conditions realtime    camera parameters based video sequence      report results obtained public demon     colorbased segmentation robust pre      stration robocup  conducted ex       cise detection players camera view chal      tensive experiments real data live cover   lenging conditions difﬁcult lighting colors partial      age world cup  games germany               occlusions camera motion blur                                                           probabilistic multicamera enabled player tracking                                                            handles wide range game typical oc    introduction                                           clusion scenarios  systems equipped sens remainder paper organized follows  ing devices installed environments people section introduces software architecture ba  act steadily increasing application sys sic solution idea solve tracking problem  tems automatically interpret analyze intentional derlying components provided obtaining necessary  activities examples application domains human liability accuracy detailed sections  estimat  living environments systems supposed ing camera parameters  detecting players  tracking  support people’s everyday life factories ma players experimental results discuss  chines human workers supposed perform pro related work ﬁnish conclusions  duction processes joint action class example  domains starts receive increasing attention auto  overview  mated analysis sport games    cases perception intentional activity discuss technical details approach  solved reliably accurately unmodiﬁed condi ﬁrst explain computational problem solv  tions scaling reliability accuracy percep ing structuring problem subproblems  tion real life situations poses challenging prob basic mechanisms solving subproblems  lems perception ai systems    paper consider particular subclass  input output  problems accurate reliable tracking play broadcasted video stream mainly consists stretches  ers based broadcasts football games address recorded main camera placed high  problem realized aspogamo automated sport   stands near center line ﬁeld main camera  game analysis model estimating mo records game activities provides good overview  tion trajectories world coordinates players game action stream interrupted through  camera view    aspogamo track players based views pro     speciﬁc description performance aspects ex  vided overview cameras used game broadcasts perimental results given section                                                     ijcai                                                    displays closeups replays cameras usually conjunction given prediction based optical ﬂow  game paused activity interesting determine posteriori camera parameters                                                        certainties terms covariances camera parameter                                                        estimation knowing camera parameters player positions                                                        uncertainties calculated player position                                                        estimation observations player detec                                                        tion forwarded tracker individual po                                                        sitions combined associated time hypothe                                                        ses time step generated tracker                                                        completes tracks send track editorwhere                                                        associated tracks receive player ids                                                        semiautomatic process completed tracks                                                        smoothed stored compacted representation   figure  player detection left created tracks right motion model generator      aspogamo given image sequences game taken    camera parameter estimation  main camera camera’s position stadium  ﬁxed constantly pointing main area order transform image coordinates realworld coor  activity changing zoom factor pan dinates need position direction camera  tilt angles focus camera contin intrinsic parameters including zoom factor pixel  ually changing aspogamo computes trajectories sizes principal point radial distortion coefﬁcient  ﬁeld plane representing positions time individual cause position main camera ﬁxed during  players captured camera figure             game direction pan tilt zoom factor                                                        estimated continuously constantly change    software architecture                            camera tracks game activity parame  aspogamo consists components vision state es ters determined semiautomatic process  timation track editor motion model generator fig  ure                                                  basic algorithm    main components described aspogamo uses modelbased localization estimating  paper vision responsible image processing tasks camera parameters image game figure   state estimation used estimate camera parameters left model football ﬁeld upper right  player positions forming player tracks matched lower left camera parameters  interact strongly simplify each subtask           estimated match lower right      vision                                              motion     correspondence player blobs player track                                              model        finder         detection     editor                                             generator                                     player                                hypotheses   predicted optical flow  player          line correspond position    player  parameters                           tracks          ences    predicted measurement                   parameters     state estimation         camera   camera          player tracker mht               parameters player positions      parameter                                                                   zoom                       position                                                                      estimation      estimation      hypotheses                                                                                 tilt                                                                                                         pan  figure  software architecture aspogamo                                                                                                     aspogamo processes videostream performing  following steps each image camera parameter      figure  modelbased localization  estimation predicts camera parameters current frame  using optical ﬂow correspondence finder based estimation formulated iterative optimization  predictions uses context information problem model projected image  model assumption order simplify player detection ing predicted parameter values optimizer searches  search line correspondences player detec image points correspond given model points fig  tion determines player blobs taking account hypothe ure  ﬁeld lines finally best match  ses generated tracker correspondence model image minimizing distance errors  finder uses predicted parameters player blobs ﬁnd obtained correspondences using  line correspondences considering occlusions used erative extended kalman filter iekf iekf gives                                                    ijcai                                                    uncertainty estimation covariance matrix • camera motion tracked help  used determine search window model information ﬁeld lines visible  correspondences iteration                  • able recover failure                                                        let consider extensions address require                                                        ments result reliable longterm tracking                                                        camera                                                          reliable line detection deal blurry lines                                                        edges apply probabilistic methods line detection                                                        making hard color classiﬁcation assess                                                        probability pixels contain ﬁeld lines stated                                                        distant white lines appear lighter green model                                                        color classes mixture gaussians rgb colorspace  figure  projected ﬁeldmodel using predicted parameters  aspogamo detects lines searching points  left ﬁnding correspondences searchlines right color distributions sides apply color                                                        green higher intensity matches thresh                                                        olded depending expected linewidth pixels                                                        quality correspondence variance estimated    improvements                                     pending match uniqueness similar method  figure  shows basic algorithm matching ﬁeld used edge detection  model image lines unreliable non homogeneous reduce inﬂuence outliers quadratic  lighting conditions cast shadows high color variations linear we’re using weights each correspondence  cause color classes diffuse overlap segmen according weight function huber huber   tation inaccurate ambiguous eventually fails mestimators zhang  assuming distances  low resolution inclined camera position causes dis errorscosts outliers large mestimators suppress  tant lines disappear images field lines correspondences  appear white slightly lighter green making tracking ﬁeld lines prediction use  hard uninformed line detectors optical ﬂow subsequent images  randomly  zoomed camera views lack visible lines spread pixels image border used dur  allow unambiguous parameter estimation motion blur ing fast camera movement rate outliers increases  caused fast camera movements problem outlier suppression camera lost  varying focal length camera zooming changes steps outlier suppression proposed  radial distortion coefﬁcient finally tv broadcasting section context information considers  video compression produces noisy images pallid colors distance each correspondence suppress cor                                                        rect correspondences having large distances keeping                                                        erroneous correspondences having small distances ad                                                        dress problem estimate likely homography                                                        transform points image planes                                                        used estimating correspondence variances ﬁltering                                                        outliers homography calculated using                                                         pointcorrespondences image plane ransac al                                                        gorithm fischler und bolles  robust method ﬁnd                                                        likely homography                                                          failure recovery inaccuracies parame                                                        ter estimation increase quality correspondences                                                        creases projected ﬁeld model starts drifting away                                                        real position detect cases lose                                                        tracking camera semiautomatic process used                                                        reinitialize camera parameters currently integrate                                                        fully automated ﬁeld matching process aspogamo                                                           player detection                                                        aspogamo detects players segmenting blobs  figure  hard scenes different colors background ﬁeld ﬁeld green candidate blobs analyzed  upper left cast shadow upper right motion blur lower using size constraints color models players localized  left ﬁeld features lower right         using estimated center gravity      difﬁcult context conditions require        used color model    • lines contained image reliably football spectator sport playing ﬁeld lines      implies outliers false correspondences dresses players designed visually dis      suppressed                               tinctive informative visual feature color                                                    ijcai                                                    ﬁeld green lines white teams  dress distinguished easily exploit  situation designing algorithms use color pri  mary visual feature    model color classes mixture gaussians rgb  space gives option use statistics probabil  ities learning using color models having multi  modal distributions important trying segment  ﬁeld cast shadows stadium roof figure   helps coping lighting changes keeping resem  bling color classes disjunct efﬁciency reasons scale  rgb space bit rgb space use pre  computed lookup tables distances densities color  models learned semiautomatically using kmeans clus  tering manually marked regions ability reﬁne  learned colors time progresses inherent fully automated  color learning available near future                                                                     figure  player recognition                                                          required precision ﬁrst step poten                                                        tial player regions unlikely belong ﬁeld                                                        surroundings segmented figure estimate                                                        mass centers players precisely center                                                        tween shirt shorts point prove ro                                                        bust detect calculating likelihood map                                                        player whereabouts using multiple evidences based    figure  color segmentation ﬁeld cast shadow color template matching size constraints predictions                                                        figure player positions extracted map                                                        ﬁnding strong modes figure projecting coordi    recognizing localizing players               nates point half player’s height ﬁeld plane  illustrated figure  simple colorbased segmentation let consider computation likelihood map  players doomed fail depending camera’s po figure  potential player regions  sition focus typical player sizes image segmenting ﬁeld intersecting inverted   pixels easily small  pixels input im ﬁeld region ﬁeld’s convex hull ﬁeld region  ages tend noisy taken directly tv segmented using hysteresis threshold based maha  broadcast player’s occluded ones espe lanobis distances learned ﬁeld line colors sparse  cially situations like corners free kicks furthermore morphology used remove noise combine ﬁeld  fast camera movement causes additional motion blur gions separated ﬁeld lines resulting player  result shapes colors mix neighborhood blobs figure contain person    solve player recognition task despite compli person leg got cut  cations combine simple powerful perceptual cues bad color contrast  probabilistic manner order achieve robustness speed localize exact number positions players                                                        side blobs use color template matching figure                                                        template figure player type moved                                                        pixel blob calculate similarity measure                                                        template scaled expected size player                                                        respective image position calculated                                                        estimated camera parameters section  player’s                                                        appearance approximated subdividing template                                                        shirt shorts socks region associating each                                                        respective color classes learned chapter                                                         use distinctive color classes hair skin colors                                                        qualify separating different player types tem                                                        plate centered shirt shorts coincides                                                        human’s mass center account inclined                                                        players shirt region template shifted ﬁve dif  figure  enlarged players pixels washedout ferent conﬁgurations best selected simi  small resolution motion blur players larity measure calculated pixels inside template  advertisingbanners harder detect right image mask taking account probabilities regarding af                                                    ijcai                                                    ﬁliation template’s associated color classes  tions easily extracted likelihood map                                                        forwarded tracker false positives missed detec                                                        tions rare dealt tracker                                                        simplicity detection extensive exception han                                                        dling generalizes different situations                                                        wide angle zoomed camera views cast shadows                                                        ﬁeld motion blur noisy input data dealt                                                        provided colors learned accurately                                                          use template matching resolution pal                                                        images small player sizes player detection                                                        runs realtime template matching speed using                                                        tegral images thanks square template masks                                                        contributing performance factor use runlength en                                                        coded region masks                                                             player tracking                                                        seen previous section player positions big                                                        measurement errors player types interchanged false                                                        positive measurements undetected players disturb                                                        tracking player clusters tracking                                                        players straightforward task  figure  calculating likelihood map figure use multiple hypothesis tracker  player blobs segmented three likelihood mht reid  account missing measurements  maps based color template matching compactness improve robustness tracking input  height constraints calculated fusion mht positions covariance matrices mea  step multiplied likelihoods predicted player surements output tags deﬁne track afﬁliation  positions increased form ﬁnal map individual measurements smoothing capability                                                        internal kalmanparticle ﬁlter propagated    additional constraints applied increase accuracy cause generate motion model  situations players completely dressed color produce better approximations real path  players different teams share similar colors differ implementation use described cox  ent parts dresses cases high likelihoods und hingorani  improvements account  observed positions match player’s loca nongaussian distribution blobs ability  tions compactness constraint figure produces assign track blob measurement  low likelihoods overlap player  blobs template mask small reducing high probabil  ities near blob contours size constraint figure  empirical results  produces high likelihoods locations dis presented aspogamo robocup   tance upper blob contour lower blob contour gathered large amounts input data live coverage  near optimum expected player size justi world cup  games germany conducted extensive  ﬁed fact heads players located experiments public display  upper contour feet lower camera parameter estimation  tour case bad segmentation feet cut able track camera getting lost  good chance opposing contour tested scenes world cup   scenes each   segmented properly                               sec long using original tv broadcast camera streams    finally three likelihood maps fused multiplica scene disruptions able track cam  tion probabilities near regions hypothesis era parameters  minutes getting lost ac  returned tracker figure increased curacy backprojections modelﬁeld  cm  way bad observations partial occlusion fast motion  depending camera movement visibility  enhanced resulting likelihood map figure ﬁeld features distance camera  searched modes exceed predeﬁned player detection table  shows player detection rates  threshold player observation forwarded tracker games world cup deter  regional overlap observations high mined manually examining  randomly selected frames  stronger observation selected location opening game germany vs costa rica game  player ﬁeld plane calculated using estimated argentina vs serbia montenegro detection rates  camera parameters                                     despite noisy input data game portugal vs    issues deserve discussion iran challenging strong cast shadow  ing color template matching additional constraints ﬁeld making white dressed players sunlight hard  players recognized quite reliably case slight tect human observer finally examined cor  occlusions probabilities covariances observa ner situation opening game missed detections                                                    ijcai                                                    
