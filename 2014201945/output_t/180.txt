             probabilistic mobile manipulation dynamic environments                                application opening doors                                    anna petrovskaya andrew ng                                            stanford university                                       science department                                        anya ang csstanfordedu                        abstract      recent years probabilistic approaches      successful applications mobile robot      localization object state estimation ma      nipulation paper propose uniﬁed      approach problems dynamically      models objects manipulated local      izes robot time approach      applies common setting low      resolution cm gridmap building avail      able highresolution cm      model object manipulated method      based deﬁning unifying probabilistic model      representations resulting algo      rithm works realtime estimates position      objects sufﬁcient precision manipulation figure  stair robot platform manipulating door during      tasks apply approach task navigat experiments      ing ofﬁce including manipu      lating doors approach successfully tested                                                                   multiple doors allows robot navigate through  literature environment mod      hallway ofﬁce door grasp turn door eled static unchanging interaction      handle continuously manipulate door tween robot environment recently num      moves ofﬁce                             ber authors developed models nonstatic environ                                                        ments example biswas et al  anguelov et al                                                          h¨ahnel et al  use offline em algo    introduction                                       rithm differentiate static nonstatic parts  believe generalpurpose robots soon inhabit environment algorithms perform online mapping  homeofﬁce environments carry large variety taking account nonstatic information wolf  tasks example fetching items delivering messages sukhatme  use separate occupancy grids dynamic  cleaning room bare minimum robots obstacles moving people static obstacles stach  navigate environments interact niss burgard  maintain clusters local grid maps  paper present uniﬁed probabilistic approach corresponding different observed conﬁgurations en  state estimation simultaneous manipulation objects vironment biber duckett  model temporal  environment global navigation using ap changes local maps  proach successfully enable mobile manipulation plat robots typically interact environment using ma  form navigate far away door manipulate nipulators work manipulation focuses properties  door handle open door enter ofﬁce speciﬁc objects manipulated moving  simultaneously continuing manipulate door work understanding global environment shekhar  stair stanford artiﬁcial intelli  moll erdmann  exceptions  gence robot project longterm goal build petrovskaya et al  slaets et al   ing useful robotic assistant carry homeofﬁce literature does probabilistic basis  tasks described                  ﬁrst blush appears difﬁcult derive single unify    decade probabilistic techniques ing model seamlessly integrates navigation manipu  great success mobile robot navigation fox et al lation                                                    ijcai                                                      task mobile manipulation combines navigation  manipulation current work mobile manipulation  treats tasks solved separately mobile  robotics techniques used navigate speciﬁc point  separate set techniques used localize objects  manipulated example context door opening  navigation manipulation door handle consid  ered rhee et al  petersson et al  approaches navigation door performed  separate task door handle localized  robot door combination  visual servoing tactile feedback used grasp  door handle ﬁnally door opened having  robot follow compliance prescripted set mo  tions localization during door opening entering  doorway considered    paper present uniﬁed realtime algorithm figure  dynamic bayesian network model robot pose xt  simultaneously models position robot en object state αt measurements zt controls ut  vironment objects manipulated allows                                                          each time step robot new motion com  consider manipulation large objects doors                            ﬁling cabinets chairs state objects mand obtain new measurement sensors  changes signiﬁcantly impacts navigation tasks robot pose object state evolve time                                                        time denoted xt αt respectively model xt  goal simultaneously model dynamic environment α     localize objective tand jointly using dynamic bayesian network  reminiscent simultaneous localization map shown figure  given robot pose new  ping slam ﬁnd borrow ideas control pose evolves according probabilistic motion  slam thrun et al  objective model derived robot kinematics  different signiﬁcant ways environment            pxtxt−ut  changes signiﬁcantly interact manipulate  second precision required mm manipula object state evolves according  tion  orders magnitude higher typical           pαtαt−  slam applications    tested successfully multiple doors approach en similarly sensor measurements governed measure  ables robot navigate manipulate ment model discussed section     through door figure  contrast prior art door              pztαtxt  opening able estimate parameters high pre  cision during motion robot additional deﬁne robot trajectory vector robot poses                                                                                      xt        delay required locate door handle robot current time step written                                                                              zt    ut  reaches door using seamlessly inte similarly write denote measurements                                                                         grated probabilistic model robot able precisely esti controls time   mate position door robot andor door  representation environment  motion robot continuously manipulate  door passing through         following standard practice mobile robot navigation                                                        represent environment using occupancy grid map fig    representation                                     ure form typically constructed mobile robots                                                        ing slam coarse maps typically use grid cells    probabilistic model notation                 cm cm suited navigation  tasks determine robot’s position ori cm resolution acceptable manipulation  entation environment denote robot’s pose tasks require mm precision constructing mm grid  θ paper restrict attention map entire building clearly impractical—both  manipulating single dynamic object placed envi memory storage point view maps  ronment concretely consider example position typically built using noisy sensors consequently choose  object known reasonable assumption doors use combination high low resolution maps use  ﬁling cabinets elevators shape governed high resolution map parts environment  object state parameter α example α objects interested manipulating present  angle door open extent drawer paper use models comprising polygonal objects “poly  pulled ﬁling cabinet                    gon models” represent objects highresolution    dooropening application α ∈is real number denot n including settings α captures positionorientation  ing angle door generalization vectorvalued α ∈ object manipulated offers special difﬁculties                                                    ijcai                                                                                                                               figure  occupancy grid map actual environment representation polygon model “pasted” grid map green  box shows bounding box polygon model black lines show polygon model best viewed color                                                        inaccurate—the building walls chairs unlikely                                                        aligned global cm grid—and wish                                                        model cm grid map probabilistically impeding                                                        laser ray way noisier precise poly                                                        gon model                                                          cm grids usually partially occu                                                        pied chance laser passing through                                                        entirely simply modeling each grid cell                                                occupied unoccupied instead associate each     figure  example laser ray traveling through grid cells grid cell probability laser ray terminates                                                        grid cell map multiple resolutions  representation wellsuited modeling doors ﬁling sufﬁcient associate each grid cell depending  cabinets straight walls figure shows example type material say probability grid cell impeding  polygon model door surrounding grid laser understand consider toy map shown  map polygon models allow model changes figure  choose represent low  shape articulated objects opening doors ﬁl resolution cm cm grid higherresolution cm  ing cabinets natural efﬁcient manner simply cm grid model gridcell having probability  letting position orientation polygons impeding laser chance laser impeded  parameters                                        cm cm region figure    complete representation environment chance map right passes through  sists combination occupancy grid map poly three gridcells clearly undesirable measure  gon model polygon model’s shape governed ment model change just chose represent ob  object’s state parameter α                        ject different resolution    choice combination models motivated variety solutions consider  goal having robot able open door en natural probabilistic interpretation occu  ter ofﬁce ofﬁce building ofﬁces pancy grid maps proposed eliazar parr  building built common theme doors essen interpretation motivated observation  tially identical sufﬁces build single poly naive model using ﬁxed probability each grid cell  gon model door careful measurement shows anomalous effects depending angle  door present building polygon model laser travels relative grid lines grid  rapidly “pasted” cmresolution grid map cells resolution interpreta  built standard slam techniques allows tion turns elegantly address problem using  rapidly acquire map entire building including multiresolution maps  cmresolution models doors                                                          model each cell grid map associated    measurement model                                opacity ρ probability laser ray interrupted                                                        cell depends opacity distance  section describes measurement model ztxtαt  used approach work focused ray travels cell probability  ing single sensor sick laser scanner ray terminating interrupted traveling  map comprises lowresolution cmgrid cells  highresolution mm polygon model components chance laser terminatingbeing interrupted decreas  sire measurement model consistent interpreta ing function ρ parameter better thought  tion regardless resolution map repre “transparency” “opacity” consistency  sented speciﬁcally know cm grid cells use eliazar parr ’s terminology                                                    ijcai                                                    point point medium opacity ρ deﬁned second factor encodes object state posterior conditioned                                                        robot trajectory                                     − r−r         terminateρ    − ρ                                                                                                                                                          st  pαtx   immediately probabilities ray termi                                                        factor rt approximated using set particles  nating maps figure    total distance case assuming factor estimates angle door  gridcells opacity ρ model approximated using gaussian distribution gaussian  allows consistent probabilistic interpretation particle  multiresolution maps    generally suppose laser travels direction  robot trajectory estimation  unimpeded through different each particle record guess robot trajec                                                               gions map “region” grid cell tory  gaussian approximation st object state  lowresolution map polygonal region poly                 qt  xtmsm                                                        denote particle          col  gon map polygon represents shape                          qt                                                         lection particles time  compute  door represents doorframe                                                                                  recursively t− suppose time step  parti  let        denote points laser ray                                 transition region pass cles t− distributed according t− compute                                                                                   q¯  through regions unimpeded denoting origin intermediate set particles sampling guess                        ρ ρ                        robot pose time motion model particles  laser ray let  denote opacities ¯  regions probability ray terminating qt distributed according robot trajectory predic  ith region                              tion distribution                     iy−                                                ¯        t−                                                                        rt  px     terminateρi ri−ri  − terminateρk rk−rk                                                                            ensure particles qt distributed according                                 iy−                     −r −r ρ   −r  −r ρ                                                   q¯               −   i−     k−           asymptotically generate sampling                                                    replacement proportion importance weights given                                                             r¯  allows deﬁne probability laser termi section  explains weights  nates speciﬁc range finally laser terminates computed note latest robot  certain range model actual observed laser mea pose used update equations need actu  surement range corrupted gaussian noise ally store entire trajectories each particle memory                                                        storage requirements particle grow                                                     σ                                                rng                       object state estimation    inference                                          use gaussianextended kalman ﬁlter ekf approxima                                                        tion estimate object state posterior     raoblackwellization                                                                                                                         track mean μt variance σt approximating                                                                                                  inference algorithm reasons gaussian each particle qt xtmμm σm   robot trajectory object state based set mea                                                                                    st involves latest object state αt  surements controls speciﬁcally compute follow entire object state history αt storage computation  ing belief                                                                                                                              requirements grow wehave                 belt  pαtx                                                                  pα xtztut  note belief includes entire robot trajectory                                                                                 t−         t−   time latest object state choice turns ∝ pztαtx   pαtx                                                                                            −  important deriving efﬁcient raoblackwellized       pz α  pα xtzt ut          ﬁlter consequence fact current             lief state door depends entire past ﬁrst step follows bayes’ rule second step  trajectory—which indicates past sensor follows conditional independence assumptions  measurements directed door similar deriva model figure  expression  product  tion used montemerlo  murphy russell measurement likelihood term object state dynamical                                                                                                     ¯                                                 model prediction term deﬁned similarly rtas    apply raoblackwellized particle ﬁlter s¯   pα xtzt−ut  rbpf each particle encode entire robot tra   jectory posterior distribution object state                        t− t−                                                                       pαtαt−pαt−x    dαt−  split belief conditional factors             αt−                                         bel   px  pα                            t−  t−                                                     pαt−x      approximated  ﬁrst factor encodes robot trajectory posterior gaussian represented raoblackwellized particle                                                        previous timestep use lineargaussian                                               rt  px                     model pαtαt− easily compute mean                                                    ijcai                                                                                                          product gaussians carried                                                        closed form                                                          using scaling series increase precision                                                        mobile robot navigation cm precision usually ac                                                        ceptable gives reasonable performance deployed                                                        implementations fairly common practice assume                                                        large laser noise variance use laser rays                                                        measurement update results approximation                                                        nextstate rt fairly large variance                                                    perform manipulation tasks require subcentimeter preci                                                        sion localization achieving requires use                                                        laser measurements update assume                                                        alistic small variance laser readings results                                                        peaked measurement model prob                                                        ability mass robot’s position estimate supported                                                        small region mm diameter                                                        sequence difﬁcult during usual                                                        importance sampling step draw sufﬁcient number par                                                        ticles region represent                                                          petrovskaya et al  tactile localization appli                                                    cation considered similar problem                                                        sharply peaked measurement model proposed                                                        “scaling series algorithm” efﬁciently produce                                                        informed proposal distribution concentrated                                                        areas high probability mass refer reader                                                        petrovskaya et al  details scaling series                                                        brieﬂy algorithm works performing series suc                                                        cessive reﬁnements generating increasingly informative                                                        proposal distribution each step series successive                                                        reﬁnements performed gradually annealing noise                                                        variance parameter measurement model                                                        artiﬁcially high value realistic variance setting                                                      setting applied scaling series algorithm  figure  robot localization estimation door state choose proposal distribution each step importance  robot denoted small rectangle rays emanating sampling particle ﬁlter annealed  robot show laser range scans estimated door angle measurement noise variance parameter σrng equation   shown ﬁgures sequence three images show performed series successive reﬁnements  robot approaching opening having passed through door sulted informed proposal distribution                                                        allowed perform localization using  par            ¯  variance st closed form similarly using ticles step  laplace approximation obtain gaussian approximation                         pz α   measurement model     using equation    experimental results  compute mean variance st closed  form                                                 apply algorithm task manipulating door                                                        handles doors stair stanford artiﬁcial intelli    computing importance weights                     gence robot project ambitious longterm  year                                                        project seeks build useful homeofﬁce robotic assis  brieﬂy following derivation montemerlo                                                      tant ability use doors enter ofﬁces  straightforward show importance weights ference rooms great practical importance robot                                               obtained cm resolution occupancy grid map                     pxtztut                        ing standard slam algorithms mobile robot equipped        r¯                 ¯  pz α               pxtzt−ut    st           laser figure discussed sec                                                        tion  doors building essentially iden  words importance weights expected value tical possible build single precise polygon model  object state prediction distribution measure door rapidly “paste” model grid                                                   ¯  ment likelihood terms pztαtxt st map places door exists polygon model  approximated gaussians described sec cludes door door frame small surround  tion  expectation expressed integral ing region encodes position door hinge                                                    ijcai                                                    
