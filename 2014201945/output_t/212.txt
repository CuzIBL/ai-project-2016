                        modeling connections problem                                                johan kleer                                         palo alto research center                              coyote hill road palo alto ca  usa                                             dekleerparccom                          abstract                          stuck  wires shorted power                                                        output undriven signal ﬂoated  veridical      ai diagnostic reasoning approaches model     models inferences drawn particular      components interconnections model causing malfunction — wire gate      model interconnections model   short use “wire” refer electrical connector      possibility connection break                                                          paper propose new methodology modeling      connections join through ﬂuid leak                                                        signals wires explicitly representing causality com      age electrical short circuit reasons                                                        ponent behaviors instead modeling connection      limitation  modeling interconnec                                                        “” “” each connection modeled multiple variables      tion failures require exponential number                                                        indicating signal level node rest rep      number interconnections failure possi                                                        resenting causal drivers node figure       bilities  modeling interconnection fail                                                        sequently opens shorts directly modeled com      ures requires modeling pre                                                        ponent models causally accurate devices      cise level requires far complex models                                                        explicitly determine drive outputs modeled      fundamental contribution paper                                                        tristate opencollector components      powerful approach modeling connections      does require specialcase postprocessing      computationally tractable illustrate ap                                                                                     causal effect gate node      proach context digital systems              signal level node  typically high passive resistive load                                                                                     does influence signal    introduction                                                                                             ai diagnostic reasoning approaches digital  systems hamscher et al  presume digital com                       ponents modeled pure functions inputs                                  signals represented “”s “”s wires    tween components fail model replacement causal effect gate node  components wires assumptions valid typically drive signal causal effect gate node                                                                       typically high passive resistive load  challenges diagnosticians encounter real systems                       does influence signal  digital systems modeled analog level  programs spice digitalanalog level  vhdlbased simulators designed diag figure  instead modeling node signal  nostic use require accurate hardtoobtain component mod   model each potential connection pos  els present results way human diagnostician sibly inﬂuence signal level node qualitative  understand objective research design variable each circuit node modeled variables  digital expert dex reason digital systems ﬁnal signal level each com  electrical engineer qualitative causal level ponent terminals connected  accurate simple “””” level incurring  costs fullscale numerical algorithms           paper demonstrates approach variety cir    key principle model design models veridi cuits standard iscas test suite described br  cal directly linking causality effect examples non glez fujiwara  iscas benchmark  veridical models “stuckat” “stuckat” mod  components circuits modeled diagnosed  els commonly used reasoning digital circuits “stuck efﬁciently   minute modern pc previous work  at” represent possible faults driv shorts bridge faults presumed considering possi  ing gate’s output stuck  driven gate’s input ble shorts computationally unreasonable introduced                                                    ijcai                                                     specialcase inference procedures handle sec fundamental contribution paper pow  tion  analysis show extremely possible erful approach modeling connections does  shorts explain typical symptoms quire specialcase postprocessing computationally  small fraction possible diagnoses modelbased tractable additional component needs added  diagnosis systems containing shorts performed model each node number additional node com  framework existing algorithms using models pre ponents grows linearly worstcase approach pro  sentedinthispaper                                    vides way model situations causality changes    dex utilizes implementation gdesherlock short circuits open circuits tristate opencollector  kleer williams  probabilistic framework based expand gates structural faults modeled  htms kleer  component models fault integrated gdesherlock approach  compiled individually combination prime measurement selection component replacement policies  implicates unmeasurable variables eliminated pri potential computational complexity introduced  mary inference mechanism local constraint propagation detailed causal models avoided generat  completeness conﬂicts value propagation ing candidate diagnoses bestﬁrst order candidates  ensured introduction additional assumptions dered posterior probabilities number faults  unassigned measurable variables propagating sub contain  sequently using propositional resolution eliminate  biguities                                               preliminaries    paper make following simpliﬁcations  intend relax future work              basic framework described kleer williams                                                         kleer et al     • components behave nonintermittently later pa      generalize deﬁnition nonintermittency deﬁnition  triple sdcomps obs      given raiman et al  component                                                           sd description set ﬁrstorder sen      behaves nonintermittently outputs function                                                            tences      inputs models paper allow causality      change inputs outputs longer welldeﬁned  comps components ﬁnite set    • causal loops combinatorial logic           stants    • logical memory elements                          obs set observations set ﬁrstorder sen                                                            tences    • model transient behavior signals presumed      reached quiescence input vector deﬁnition  given sets components cp cn      applied dex reason hazards ﬁne dcpcn conjunction      race conditions situations node’s value                                   switches slowly driven            abc   ∧      ¬abc        current loads connected          c∈cp          c∈cn    •      fault propagation fault component abx represents component abnormal      cause fault                         faulted                                                          diagnosis sentence describing possible state    related work                                       state assignment status  early work modelbased diagnosis davis  ad normal abnormal each component  dresses bridge faults early research treats                                                        deﬁnition  let  Δ     ⊆comps      diagnosis  shorts special case hypothesizing bridge faults                dΔ            −  Δ  single faults eliminated preist wel sdcompsobs    comps              ham  inserts additional insulating components places following satisﬁable  shorts occur uses stablemodel semantics      sd ∪ obs  ∪dΔcomps−       Δ  identify candidate diagnoses approach inefﬁcient  number possible insulator components consider framework typical model inverter  grows quadratically size boettcher et al  suming appropriate domain axioms variables  model structural shorts analog systems ap  proach uses possibility multiplefaults invoke ad                                                                           →  ditional algorithm match observed behavior known hid inv erter                             den interaction models                                                                 ¬abx  →  inx t≡ outx     broadest modeling techniques come  qr mbd   work automotive diagnosis                                                          model second inverter figure   fmea   construction domains struss et al   nasnooke cjprice mauss et al                                             methodology using multiple variables represent wires   ¬abb   →  inbt≡   outbt    struss et al                                                     ijcai                                                                                                           axioms included component model ev                                                        ery output drives signal special cases described                                                        later             figure  sequential inverters        ¬abx  →  doutx  ∨ doutx                                                         input presents resistive load    introducing causality                                          ¬abx  → dinx  dr  models type described previous section implic modeling regime inverter modeled fol  itly assume components distinguished input termi lows  nals sense inputs cause output vari  able value assumptions faulty ex                                                                          →  ample figure  b’s input shorted ground inter inv erter  nal gate case despite  signal                                                                 ¬abx  →  measured ifa  classic models  dictate faulted fact actually sinx  → doutx   faulted                                              ∧sinx  → doutx     model causality accurately model wires     ∧            accuracy each terminal component mod                               eled variables models com        ∧doutx  ∨ doutx    ponent attempting inﬂuence output roughly analo  gous current characterizes result usual modeling regime need model  roughly analogous voltage correctly functioning behavior nodes just pass signals  node voltagelike variables equal mu need explicit models sensed  tually inconsistent qualitative values inﬂuence digital value node determined drivers let  component node refer “drivers” rv resulting signal node sv collec                                                        tion drivers node example figure  sb    • d−∞  indicates direct short ground                                                        douta tdinbt nodes modeled follows    • pull ground                referred dominant models    • dr presents high draws little current passive • d−∞ ∈ svthenrvs      resistive load                                     • d∞ ∈ svthenrvs    •          pull power                    • ∈ svthenrvs    • d∞  indicates direct short power           • drivers known preceding  rules                                                                                   intuitively  qualitative values range apply   possible current sinkingsourcing behaviors component example node figure  modeled follows  terminal direct short ground draw large current  inﬂow direct power ground drive large current ¬abb →  outﬂow                                                   »    three possible qualitative values result douta  d−∞ → sbs  variable                                                            ∧dinbt  d−∞ → sbs    • result close ground sensed                                                            ∧                ∞  →      digital                                             douta   sbs                                                            ∧dinbt  d∞ → sbs    • sx result                                                              ∧douta  → sbs    •          result close power sensed ∧dinbt  → sbs      digital                                                             ∧douta  ∧ dinbt  → sb  different logic families different thresholds ∧douta  ∧ dinbt  dr → sb  termining example voltage vlevels                                                            ∧douta  dr ∧ dinbt  dr → sb  conventional ttl components corresponds                                                –   ≤        ≥                                   sx              ∧douta  dr ∧ dinbt  → sb  arises measurements used  component model needed component input  measured sx output determined laid groundwork new deﬁnition  model sx          nonintermittency deﬁnition raiman et al     exceptions correctly functioning digital devices  present high little current drawing resistive load deﬁnition  raiman et al  component behaves  inputs drive outputs unless noted nonintermittently outputs function inputs                                                    ijcai                                                                                                        simplest examples iscas test suite suppose                                                        test vector applied                                            measured  correct  figure  highlights                                                                                        component singlefaults simple gde models                                                        node models included node singlefault                                                                                input stuck ground figure  gate                                                  possibly faulted                                                          order model nodes fail model nodes                                                          components model described earlier ex                                                     ample figure  highlights probable node com                                                     ponent faults    figure  simplest circuit iscas test  suite inputs labeled “in” outputs “on” gates “gn”                                                                                                                                                                           corresponding internal nodes “nn”                                                                                                                                            deﬁnition succinctly captures intuition non                                       intermittency  component exactly output value                            particular set input values  cir                                                               cuit values change inputs yield                                                                                                                                                                    puts  inputs clearly identiﬁed — “hidden”  input effecting output value use  tuitions new deﬁnition notion “in  put” “output” changed                         figure  using expanded node model gate                                                        input shorted ground causing symptom  deﬁnition  causal inputs component signal   measured likely faulted gates  levels circuit nodes component connected  causal outputs component driving signals  wires nodes connects component  causally nonintermittent driving outputs func  tion sensed inputs                                                                                            deﬁnition “input gate”  sensed                                                                                                               inputs  driven outputs general deﬁnition captures                              possible faults input gate including ex  treme possibilities installing wrong gate installing                                                                                                                    backwards correctly functioning components drive                             outputs reference signal level  teleological output logic designer                                                                                                                                                                      “output”                                                                                                                                                                        figure  modeling nodes possibly faulted components                                                                                 highlighted components likely faulted                                                        given observations component faults darker shading                                                     likely connection faults lighter shading                                                  lower probability components nodes shaded                                                                                         prior fault probabilities components equal                                                     component probabilities case higher priors                                                                                                                               bridges shorts  figure  inputs symptom added output                                                      having laid causal modeling paradigm extension   measured  components fail equal needed model bridges shorts relatively straightfor  prior probability observing symptom ward add fault mode model node  likely faulted gates high                                                        node mode working correctly ¬ab  lighted                                             shorted unknown model node    consider slightly complex circuit figure  —           abn  → sn                                                      ijcai                                                          table  combined drivers nodes          table  combined drivers nodes                      io  gate  drive                                       io   gate drive                  output                                         driven                       input     dr                                      input     dr                   input     dr                                     output                          output                        input     dr                   input     dr                    table  upper diagonal matrix gives possible                                                        node shorts example explain symp                                                        toms brevity nodes indicated integers shorts  model unchanged described earlier ground power included  paper additional nodes power ground  output drivers d−∞ d∞ model shorts                power ground                                                                                                                                 each nodes shorted set sig                     nal level determined combined node  functioning overall mode example consider                                                                                                               candidate diagnosis circuit  shorted components nodes func  tion correctly table  lists drivers combined node                                                                                        nodemodel produce signal  propagates through produce  ob  served symptom nton short candidate  diagnosis explains symptoms            biguity                                                           ¬abg   →        table  combined drivers nodes          doutgt  ∨ doutgt                       io  gate  drive                                                        output driver d∞                  driven                        immediately inferred shorting does                   input     dr                    explain observed  instead                    input     dr                    shorts explain symptom shown table                   output                        interesting note majority possible shorts                   input     dr                                                                                                                        ruled just measuring output signal                    input     dr                    possible shorts explain evidence                                                          saw circuit surprisingly shorts explain    notice possible short node observations collected circuit ta  explains symptom short power assuming ble  shows compared possible candidates  components nodes working correctly output explain symptoms percentage shorted node candi  driver pull  node    dates relatively small    combinations shorts make causal sense  eliminated consequence models ad                                                        table  number possible shorts  nodes typical  ditional machinery required trivial instance non                                                        symptom worstcase  shorts equally  sensical short nodes drivers                                                        likely percentages characterize possi  combined node listed table  signal com                                                        ble  smaller candidates node shorts circuits come  bined node  produces inconsis                                                        iscas test suite channel interrupt  tency correct model nand gate                                                        controller bit singleerrorcorrectingcircuit  considered possible short assuming com                                                        bit arithmetic logic unit  ponents nodes working correctly short                                                              circuit components   nodes  shorts   happened physical circuit circuit probably os                                                                                              cillate modeling oscillation inconsistency  guarantee candidate diagnosis include                           short                                                                            finally consider case nodes                           shorted observations figure  drivers  combined node listed table  gates  appear loop signal levels nodes  tristate opencollector devices  determined considering driver modeling paradigm distinguishes signal levels  values fortunately nand model resolves drivers simple model tristate device pos                                                    ijcai                                                     
