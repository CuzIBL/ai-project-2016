               prediction probability survival critically ill patients                           optimizing area roc curve∗                         oscar luacesjose´   quevedo francisco taboada†                             guillermo albaiceta† antonio bahamonde             artiﬁcial intelligence center        †hospital univ central asturias huca             university oviedo gijon´                    university oviedo                    asturias  spain                             asturias  spain                        abstract                          ing functional limitations major comorbidities treatment                                                        location immediately prior icu admission      paper presents support vector method es  prognostic models mainly used measure      timating probabilities real world problem efﬁciency icu treatments risk stratiﬁcation pa      prediction probability survival critically ill tients allows comparison observed outcomes versus      patients standard procedure support vec accepted standards provided score functions icu assess      tors machines uses platt’s method ﬁt sigmoid ment important estimated endoflife      transforms continuous outputs probabili care consumes   healthcare costs      ties method proposed exploits differ  average daily cost patient icus      ence maximizing auc minimiz       usa provonost angus      ing error rate binary classiﬁcation tasks hand literature shows prognoses      conclusion preferable optimize constituted important dimension critical care patients      auc ﬁrst using multivariate svm ﬁt  families seek predictions duration      sigmoid provide experimental evidence fa  come illness lemeshow et al       vor proposal purpose used data paper propose new method learning proba      collected general icus  hospitals spain bilities tested probabilities survival       include coronary patients icu patients method makes intensive use       treat coronary diseases total number called support vector machines svm powerful family      patients considered study      algorithms learning classiﬁcation regression tasks                                                        used binary classiﬁcation svm learn hypotheses    introduction                                       return continuous numbers positive values cases                                                        class negative class  available models predicting outcomes intensive hand measure performance predic  care units icu usually scoring systems estimate tions medicine general classes  probability hospital mortality critically ill adults balanced misclassiﬁcation rate accuracy usually  case apache acute physiology chronic inadequate frequently area receiver operat  health evaluation knaus et al  saps simpliﬁed ing characteristic roc curve auc short used  acute physiology score le gall et al  mpm interpreted degree coherence  mortality probability models lemeshow et al  continuous output probability continuous  score functions predictors induced data output svm binary classiﬁcation important  thousands patients using logistic regression data emphasize coherence established terms  quired systems come monitoring devices clin derings purpose continuous outputs scores  ical analysis demographic diagnostic features pa used rank available cases classes icu prob  tients apache iii includes age  acute physiologic lem codiﬁed ‘’ patient survived  variables use worst value ﬁrst  hours ‘−’  icu temperature heart rate blood pressure respira context hanley mcneil  showed  tory rate oxygenation acidbase status serum sodium serum auc probability correct ranking words  blood urea nitrogen serum creatinine serum albumin serum probability randomly chosen subject class  bilirrubin serum glucose white cell count hematocrit item ‘’ correctly ranked greater output randomly  ized glasgow coma scale score urine output preexist chosen subject class ‘−’ auc coincides    ∗the research reported supported grant value wilcoxonmannwhitney statistic  tin mec ministerio educacion´ ciencia additionally measures goodness  spain authors acknowledge work grecia group probability estimations instance brier score av  collection data                            erage quadratic deviations true predicted probabili                                                    ijcai                                                     ties relation auc brier scores studied shall assume true class probability  ikeda et al  relationship prtruey xis class yis  guaranteed restrictive conditions dif   ﬁcult check real world cases relationship general predictions discrete probability distri  direct case study reported ex butions basically standard loss function av  perimental section paper                     erage quadratic deviation possible outputs    learn probability distribution using svm crucial probability loss given  transform scores continuous outputs proba                                                                                                                     bilities method presented platt   Δprh           hx  −                                                                                     s            does core idea ﬁt sigmoid using maximum                        x ∈s  likelihood procedure novelty proposal reported                       paper postulate compute platt’s sig hypothesis returns estimation probabil  moid better look optimum auc ﬁrst ity hxpry pi stands observed                                                                                      true  minimize error rate classiﬁcation svm probability ith case pi  pr xi  reason section  shall discuss optimize measurement equation  frequently used  auc support vector method herbrich et al  medicine meteorology known brier   joachims                                       index score number possible outputs greater    rationale proposal quality estimated probabilities seen vector  sigmoid ﬁt depends quality ranking scores mean square euclidean mse distance  cases higher score given predicted observed probabilities used  class class greater task sigmoid stance melville et al  seen icu  easily accomplished performance ﬁnal problem mse  times brier score  probability nearly optimal    end paper provide experimental evidence  optimizing accuracy plus sigmoidal  favor proposal comparing alternative transformation  approaches purpose used data collected gen                                                        straightforward approach icu problem binary  eral icus  hospitals spain  include coro                                                        classiﬁcation svm followed sigmoid estimated using  nary patients  treat coronary dis                                                        platt’s method  given training set  eases total number patients considered study                                                        use transformation φ deﬁned input entries    did survive                                                        feature space classes separable                                                        means linear function known    predicting probabilities                           inner product    section shall start reviewing standard                                                                                             method learning probabilities based support vector           kxixj   φxiφxj             machines present proposal ﬁrst  realize performance classiﬁcation learners called kernel function transformation shall  satisfactory icu problem use rbf kernel deﬁned                                                                                             turn probabilities general situation medicine                    xi−xj                                                                                    −      ﬁelds accurate crisp predictions difﬁ      kxixje      σ                 cult make useful knowledge drawn  data                                                   work svm  consists solving following    section end description straight convex optimization problem  forward approach learning probabilities using regression                     n                                                                          method used baseline measuring mer   min    w w     ξi                                                                                 wξ    options                                                                                                                                  w         ≥   −    goodness probability predictions                     st yi  φ      ξi                                                                        ξ ≥  let  xyxnyn training set learn            ing task function hypothesis sought classiﬁcation accomplished hypothesis  able return outputs yi entries xi input space      important issue learning ﬁx               signwφxi               way going measure quality  sult fact given formally aim learning ﬁnd seen kernel vector α αi   hypothesis given hypothesis space minimizes lagrange multipliers deﬁne implementa  average loss extended set independently iden tion function  computed input space entries  tically distributed iid test sets s usually represented follows                                                                                                     Δh                                                                         n    icu problem training test examples  signwφx  bsign      α kx   xb                                                    −                                         probability attached labeled                                                                               ijcai                                                       according  aim function maxi each input space hypothesis  mize margin classes minimize train turns  ing loss fact sum socalled slack variables                                                                    fxwφx       α  kx   x−kx       ξi upper bound misclassiﬁcations                     ij             training set acknowledged function             yiyj  achieved good classiﬁcation accuracy unseen cases    order compute probabilistic outputs rid αij lagrange multipliers computed  sign function consider continuous optimizer  puts                                                    unfortunately approach leads dealing                            n                          straint each element dataset     facxwφx        αiyikxi xb                                                                    s¯  xi xj   yi yj  −                                  platt’s method ﬁts sigmoid estimate probabilities size number positive class  examples                                                        times number negatives pos×neg                                     hac pry                ·          size means applications                              eaac fac   bac                                                        intractable approach simpliﬁed    figure  depicts ﬁt sigmoid dataset version successfully used occasions  patients  available hospitals notice joachims  bahamonde et al   fac values follow bellshape distribution alleviate difﬁculties caused size data sets  dividuals having positive values means straightforward reformulate herbrich’s approach  survival prediction                                optimization problem small number constraints    optimizing auc ﬁrst                          main problem loss function auc                                                        equation  expressed sum disagreements  classiﬁcation predictions comparing val                                                        errors produced each input   ues returned patients’ descriptions rating function                                                                                                                       threshold classiﬁcation svm equation  following different procedure joachims  recently  performance predictions assessed proposed multivariate approach solve problem  ing auc according probabilistic interpretation convex optimization problem converges using  complementary auc used loss constraints  function hypothesis loss evaluated test optimization problem        set                                                                                                               min     w w  cξ                             Δauc  prgx      ≤ gx                                                                   ξ                                    x ≤ x                                                           ij yiyj                   st w      − φx  − φx ≥                                                                          ij                                                                             yiyj                              ij yiyj                                                                     ≥                     −    let stress explicit objective svm presented      Δauc  yij  ξ  preceding section minimize equation  cortes  ∀   ∈    −  pos·neg −                                                                           yij                    mohri  provide detailed statistical analysis  difference maximizing auc minimizing despite enormous potential number constraints  error rate binary classiﬁcation tasks             algorithm proposed joachims  converges poly    herbrich et al  presented direct implementation nomial time requires small set  solves general ranking problem applicable straints interesting result  maximizing auc core idea hypothesis lution problem  op         →                                  φ       linear fulﬁll fφ  timization problem  additionally slack variables       fφ yi yj                          cases related       fφxi fφxj ⇔ fφxi − φxj                                                                                                           ξ       ξ                     notice statement converts ordering constraints                     ij  classiﬁcation constraints class input                 yiyj  space x×xand each pair xi xj represented              −                                       finally multivariate svm returns function fauc  difference φ φ according approach form  aim ﬁnd hypothesis fxwφx                                                                                w      solves following convex optimization problem                     fauc      φ                                                                 min    w w         ξ                   platt’s method ﬁt sigmoid transform                                ij          ξ                                           fauc probability                          ijyiyj          st wφx −wφx   ≥  − ξ                                                                                      ij              xpry                                                                                   auc                         aauc ·fauc xbauc              ξij ≥  ∀i  yi yj                                                                                               ijcai                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  figure  ﬁt sigmoid dataset patients  horizontal axis represents outputs svm  each ‘’ mark average posterior probability examples falling bin width  sigmoidal function  estimation computed platt’s method  output values labeled left vertical side bellshaped  function histogram prfx examples frequencies labeled right      regression baseline approach                   experimental results  considering probabilities real numbers regression al using collection data sets survival probabilities crit  gorithms ﬁrst attempt learn pur ically ill patients carried experimental compar  pose training examples class − labeled  ison different learning approaches svm followed    order maintain uniformity approach pre platt’s ﬁt sigmoid accuracy optimizer described  ceding subsections considered regression based subsection  represented svmaccu  support vectors used socalled support vec multivariate version aimed optimizing auc sub  tor regression svr squares svr section  short svmauc ﬁnally regression  used standard version learner function approach svr subsection  fourth predictor used                   n                                   commercial apache iii used cus                        −                 ∗               α  − α  kx  xb          tomization described riverafernandez´ et al                                                developed improve performance spain                                                                            point unfair  rbf  kernel αi la comparison apache iii trained cohort  grange multipliers solution convex optimization  patients  different hospitals usa  problem                                              knaus et al  spanish version used records                            n                           patients  icus available data sets                w  w              −                 experiments included  patients          min              ξi  ξi                   wξ                                         comparison useful test scores                                            w         −   ≤                   achieved svm methods good considered           st   φ    yi    ξi            future learning tasks                  −  w         ≤      −                yi     φ     ξi              estimate performance algorithms described                   −                ξ ξ  ≥                     preceding section used data collected icus                                                     different spanish hospitals  include coronary    given forces fre  outputs patients acknowledged medical community    set hypothesis output  fre coronary diseases generally lower mortality risk  turns values   fre values  sym critical illnesses learning perspective  bols ﬁnally hypothesis                   makes sense differentiate icus                                                        coronary patients                                              hre max     min fre              data organized  different training sets                                                    ijcai                                                                                     svmauc          svmaccu            svr            apache iii       patients  hospitals      bs    auc      bs     auc      bs    auc      bs     auc                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               averages                                                                                                                                                                             table  brier scores bs auc estimated fold crossvalidation three learners described text  commercial apache iii differences svmauc signiﬁcant according tail ttest  threshold considering results  hospitals ease reading auc scores represented percentages    each single hospital collecting data coro svr − σ − multivariate  narycoronary icus respectively containing svmauc worth noting svm svr  data each patient data sets described parameter search aimed minimizing brier score  set variables used apache iii multivariate svm aimed maximizing  given variables discrete values auc  transform handled svmbased systems table  shows results obtained brier score auc  codiﬁed each discrete variable using new experimental setting described focusing  binary variables values   number pos results obtained three support vector algorithms  sible values original variable setting variable observe general best performance lowest bs  corresponding discrete value actually taken orig highest auc achieved multivariate svmauc  inal variable ‘’                                 differences statistically signiﬁcant according    performance estimations using fold strat tail ttest threshold surpris  iﬁed crossvalidation each data sets al ing auc measure algorithm specially  gorithms apache iii trained devised optimize measure outperforms  different data set used available data test svm svr terms brier score parameters  predictions additionally data standardized accord set optimize score  ing mean deviation observed each training fold let stress optimization problem posed    important recall auc achieved svr precisely minimization distance  spanish version apache iii experiments  true predicted probabilities large data  percentage similar reported rivera quired tie scores svmauc brier score  fernandez´ et al   fact supports rep underlying reason explaining behavior  resentativeness sample critically ill patients consid hypothesis space used svr adequate induce  ered experiments described               probability distributions reduced set training data    usual dealing svm parameter setting rbf kernel  stage important set regularization parameter regards data sets used experiments support  optimization problems section  rbf kernel vector machines yielded worst performance ﬁrst  parameter σ eq  three support vector based three data sets smallest svr performance par  algorithms performed grid search validation set ticularly poor data sets considering rows  formed patients  hospitals hospital table  ascending order size data set trend  coronary patients   coronary patients   indicates performance improved train  table  ranges searched following ing cases available fact data set included  tested values −  varying exponent available patients’ records results obtained simi  steps  σ tested values −  varying lar yielded apache iii recall trained  exponent steps  promis data sets times bigger  ing values  σ −   svmaccu    hand observe survival predictions                                                    ijcai                                                     
