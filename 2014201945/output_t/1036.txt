                               variable resolution particle filter                               vandi verma sebastian thrun reid simmons                                          carnegie mellon university                                      forbes ave pittsbugh pa                                        vandi thrun reidscscmuedu                            abstract                          bayesian posterior limit number samples                                                          infinity realtime state estimation impractical     particle filters used extensively tracking state infinitely large number particles small number     nonlinear dynamic systems paper presents particles variance particle based estimate     new particle filter maintains samples state high particularly large number possible     space dynamically varying resolution computa• state transitions     tional efficiency resolution siatespace varies                                                            paper presents new particle filter variable res•    region depending belief true state lies                                                          olution particle filter vrpf tracking large state spaces     each region belief strong resolution                                                          efficiently low computation basic idea rep•    fine belief low resolution coarse abstract•                                                         resent set states  single state single     ing multiple similar states resolution                                                                    particle increase number states hypothe•    statespace dynamically updated belief changes                                                          ses tracked number particles     proposed algorithm makes explicit biasvariance                                                          makes possible track larger number states     tradeoff select maintaining samples bi•                                                         computation results loss information     ased generalization region state space versus                                                          differentiates states lumped     high variance specialization fine resolution sam•                                                         tracked abstraction formalize tradeoff terms     ples maintained coarser resolution bias bias variance tracking abstraction coarser res•    introduced generalization coarse resolution olution introduces bias tracking finer resolution     outweighed gain terms reduction variance reduces variance estimator given limited     finer resolution maintaining sam• number samples dynamically varying resolution     ples abstraction prevents potential hypotheses different parts state space minimize biasvariance     eliminated prematurely lack sufficient error finite set samples used highly efficient man•    number particles empirical results show vari• ner initial experimental results support analysis show     able resolution particle filter requires significantly lower bias compensated reduction     computation performance comparable classical variance eliminating potential hypotheses prema•    particle filter                                     turely lack sufficient number particles    introduction                                                           bayesian filtering   number problems al robotics require estima•  tion state changes time denote multivariate state time xt measure•  sequence measurements provide noisy ments observations ot commonly case   partial information state particle filters concentrate discrete time order markov formu•  extensively used bayesian state estimation nonlinear lation dynamic state estimation problem   systems noisy measurements isard blake  state time sufficient statistic history mea•  fox et al  doucet et al   bayesian approach surements pxtxoti  pxtxt obser•  dynamic state estimation computes posterior probability vations depend current state potxot    distribution states based sequence measure• potxt bayesian framework posterior distribu•  ments probabilistic models change state time tion time pxtt includes available infor•  state transition model relationship mea• mation upto time provides optimal solution   surements state capture noise inherent state estimation problem paper interested   domains computing posterior real time estimating recursively time marginal distribution   intractable particle filters approximate posterior distri• filtering distribution pxtoit measurements  bution states set particles drawn   posterior particle approximation converges true regions continuous state space                                                                                    probabilistic inference come available based markovian assumption re•  cursive filter derived follows                                                               variable resolution particle filter                                                            known problem particle filters large num•                                                         ber particles needed obtain reasonable ap•                                                         proximation posterior distribution realtime state                                                          estimation maintaining large number particles     process known bayesian filtering optimal filter• typically practical variance particle   ing stochastic filtering characterized three based estimate high limited number samples   distributions  transition model  ob•       particularly process stochastic parts   servation model  initial prior distribu•    state space transition parts low   tion number applications state space  zero probability consider problem diagnosing loco•  large compute posterior reasonable time par• motion faults robot probability stalled motor   ticle filters popular method computing tractable ap• low wheels side generate similar observa•  proximations posterior                        tions motors wheels stall time                                                          particle filter produces estimate high variance    classical particle filter                                                          likely result identifying arbitrary wheel fault   particle filter pf metropolis ulam  gordon side identifying correct fault   et al  kanazawa ex  monte carlo ap•  proximation posterior bayes filter pfs non variable resolution particle filter introduces notion   parametric represent arbitrary distributions pfs ap• abstract particle particles represent in•  proximate posterior set fully instantiated state dividual states sets states method single                                                          abstract particle simultaneously tracks multiple states lim•  samples particles follows                      ited number samples sufficient represent•                                                         ing large state spaces biasvariance tradeoff                                                       dynamically refine abstract states change resolu•                                                         tion abstracting set states generalizing                                                          samples specializing samples state indi•  denotes dirac delta function shown vidual states represents result reasonable poste•  approximation  approaches true   rior estimates obtained relatively small number   posterior density doucet crisan  general samples example vrpf wheel   difficult draw samples instead sam•       faults side rover aggregated to•  ples drawn tractable distribution called gether abstract fault given fault abstract state   proposal importance distribution each particle as• representing side fault occurs   signed weight account fact sam• high likelihood samples state assigned   ples drawn different distribution rubin  high importance weight result multiple copies   rubinstein  large number possible samples resampling proportional weight   choices proposal distribution condition be• sufficient particles populate refined states   ing support include posterior represented abstract state resolution state   common practice sample transition probability changed states representing individual               case importance weight equal wheel faults stage correct hypothesis likely   likelihood experiments paper     included particle based approximation level   performed using proposal distribution pf algorithm individual states correct fault likely                                                      detected                                                            variable resolution particle filter need                                                           variable resolution state space model defines relation•                                                         ship states different resolutions  algorithm                                                          state estimation given fixed resolution state space                                                           basis evaluating resolutions state space model                                                           algorithm dynamically altering resolution                                                          state space       probabilistic inference                                                                                  variable resolution state space model               biasvariance tradeoff                                                          loss  particle based approximationof   use directed acyclic graph dag represent true distribution   variable resolution state space model consider   possible combination abstractstates aggre•  gate split make state space exponen•  tially large constrain possible com•  binations states consider number   ways experiments paper use                                                  multilayered hierarchy each physical nonabstract bias andis variance   state exists single branch sets states posterior belief state estimate tracking states   similar state transition observation models aggregated resolution physical states introduces bias   each level hierarchy addition phys• variance estimate high specially small   ical state set variable resolution model consists sample sizes approximation sample variance   set abstract states represent sets states resolution physical states computed follows   abstract states                                                                                                                                                                                                                         loss abstract state computed weighted                                                          sum loss physical states  follows    figure  shows arbitrary markov model figure                                            shows arbitrary variable resolution model figure                                              shows model different resolution     denote measurement time se•     generalization abstract states biases distribution   quence measurement dynamics            physical states stationary distribution             measurement probabilities com•        words abstract state information relative   pute stationary distribution markov chain invariant distri• posterior likelihood given data states repre•  bution physical states behrends        sents abstraction instead uses stationary distribution                                                          project posterior physical layer projection    belief state estimation fixed resolution      posterior distribution abstract state                                                          resolution physical layer computed   section describes algorithm estimating distri• follows   bution state space given fixed resolution each   state different states different fixed resolu•                                           tions each particle physical state sample drawn   predictive model state      assigned weight proportional likelihood mea• consequence algorithm computing pos•  surement given prediction each particle    terior distribution abstract states described section    abstract state physical states unbiased posterior physical states available   represents abstraction selected proportional prob• extra computation shown equation  bias   ability physical state stationary distribution introduced representing set physical states         predictive measurement models phys• abstraction approximated follows   ical state used obtain weighted posterior sample   particles resampled proportional weight                                           based number resulting particles each physical   state bayes estimate dirichletl prior obtained weighed sum squared difference   follows                                               unbiased posterior  computed resolution                                                          physical states biased posterior computed                                                       resolution abstract state                                                            approximation variance abstract state sj                                                          computed weighted sum projection physical   represents number samples physi•  states follows   cal state represents total number particles   particle filter distribution abstract state   time estimated                                                                                                                                                                   relative importancecost physical states                                                          included weight                                                                                    probabilistic inference                   example           variable resolution       finer resolution                                           model     figure  aarbitrary markov model arbitrary variable resolution model corresponding markov model circles enclose   circles represent abstract states abstract states states form abstraction hierarchy states   form abstraction hierarchy states highest level abstraction sl model   states  finer resolution     loss tracking set states resolu•  experimental results   tion physical states                                                         problem domain experiments involves diagnos•                                                    ing locomotion faults physics based simulation                                                         wheel rover figure shows snapshot rover                                                         darwink leger  simulator   loss tracking set states abstraction experiment formulated terms estimating dis•                                                    crete fault operational modes robot contin•                                                        uous control inputs noisy sensor readings discrete                                                                                                           state represents particular fault operational mode   gain terms reduction variance gener• continuous variables provide noisy measurements   alizing tracking abstraction results increase change rover position orientation particle set   bias tradeoff bias variance refers                                                         pt consists tv particles each particle   process accepting certain increase term hypothesis current state   larger reduction total error words number discrete fault operational                                                         states particle transition based transition    dynamically varying resolution                                                         model each discrete fault state different observation   variable resolution particle filter uses biasvariance predictive model continuous dynamics prob•  tradeoff make decision vary resolution state ability state determined density samples   space decision abstract coarser resolution ab• state   stract state state space currently markov model representing discrete state transi•  resolution states combination bias vari• tions consists  states shown figure normal   ance abstract state combination bias driving nd state transition normal driv•  variance children  shown   ing state fault states right rf                                                         right middle rm right rear rr left lf left mid•                                                        dle lm left rear lr wheel stuck each faults                                                         cause change rover dynamics faults each   hand state space currently reso• side right left similar dynamics   lution abstract state reverse equation  given three wheels each side rover   true decision refine finer resolution states similar dynamics constructed hierarchy clusters     resolution state left unaltered fault states each side figure shows hier•  biasvariance combination parent chil• archical model abstract states right side fault rs   dren avoid hysteresis abstraction decisions con• left side fault ls represent sets states   sidered refinement decisions              respectively highest level abstrac•    each time new measurement obtained distribution tion consists nodes figure   particles state space updated alters shows state space figure refined   bias variance tradeoff states explicitly represented bias abstract state rs given number parti•  current resolution state space each evaluated cles outweighs reduction variance specialized   gain abstraction refinement change states rf rm rr finer resolution   current resolution state space recursively evaluated particle filtering performed variable reso•  change direction             lution particle filter particles initialized highest       probabilistic inference                                                                                figure  snapshot dynamic simulation wheel rocker bogie rover simulator example showing normal   trajectory nd change trajectory fault each wheel original discrete state transition model discrete   states normal driving nd right left middle rear wheel faulty rf rm rr lf lm lr abstract discrete slate   transition model states rf rm rr aggregated right side wheel faulty states similarly lf lm lr   left side wheel faulty states rs ls state space model rs refined states self transitions   excluded clarity     level abstraction hierarchyie abstract states nd perior classical filter small sample sizes   rs ls say rf fault occurs likely result addition figure shows kldivergence axis   high likelihood samples rs samples mul• wall clock time axis filters coded   tiply result bias rs exceeding matlab share functions possible   reduction variance rs rf rm rr favor•  ing tracking finer resolution additional observations  discussion future work   assign high likelihood rf                                                          paper presents novel approach state abstraction     model based realworld                                                          particle filters allows efficient tracking large discrete   stochastic does allow transitions fault states                                                          continuous hybrid state spaces advantage ap•  fault states example rf fault does tran•                                                         proach makes efficient use available computa•  sition rm fault does exclude transitions                                                          tion selecting resolution state space based   multiple fault states model included multiple faults                                                          explicit biasvariance tradeoff performs worse   transition rf rm fault dif•                                                         classical particle filter infinite number particles    ferent rm fault samples                                                                                                         limited particles show performance   actual fault state samples end fault states                                                          considerably superior vrpf does prematurely elim•  dynamics similar actual fault state end                                                          inate potential hypotheses lack sufficient number   identified fault state hierarchical approach                                                          particles maintains particles abstraction   tracks state abstract level does commit                                                          sufficient number particles provide low variance esti•  identifying particular specialized fault state                                                          mate lower resolution   sufficient evidence likely identify   correct fault state                                     vrpf generalizes current samples unsampled                                                          regions state space regions state space     figure shows comparison error moni• samples time acquire samples time    toring state using classical particle filter tracks abstraction provides additional robustness noise   state space vrpf varies resolution resulted eliminating likely hypothesis koller   state space axis shows number particles fratkina  addresses using time sam•  used axis shows kl divergence approxi• ples input density estimation algorithm learns   mation true posterior computed using large number distribution states time samples time   samples  samples used compute approxima•                                                         generated using generalized distribution ng et al   tion true distribution kl divergence computed                                                           uses factored representation allow similar mix•  entire length data sequence averaged                                                          ing particles vrpf uses biasvariance tradeoff   multiple runs data set  data set in•                                                        generalize selectively efficiently   cluded normal operation each faults figure                                                            presented variable resolution particle filter   demonstrates performance vrpf su                                                         discrete state space plan extend continuous        results average   runs repetitions minor overhead terms evaluating resolution   decreasing sample size increased           state space                                                                                    probabilistic inference 
