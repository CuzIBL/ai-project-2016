              scalable diagnosability checking eventdriven systems∗                        anika schumann                               yannick pencole´             australian national university        national center scientiﬁc research                   national ict australia                        laascnrs france                anikaschumannanueduau                      yannickpencolelaasfr                          abstract                          diagnosis provide ambiguous                                                        useless explanation consequently diagnosability analy      diagnosability systems essential property                                                        ses performed diagnostic      determines accurate diagnostic rea                                                        reasoning diagnosability results help choosing      soning given sequence                                                        type diagnostic algorithm performed      observations generally literature dy                                                        provide information change      namic eventdriven systems diagnosability analy                                                        make diagnosable pencol´e       sis performed algorithms consider sys      tem response pos  paper propose formal framework check      itive answer counter example paper ing diagnosability eventdriven systems mainly      present original framework diagnosabil motivated facts hand checking di      ity checking diagnosability problem solved agnosability means determining existence      distributed way order account haviours distinguishablehow      distributed nature realistic problems op realistic systems combinatorial explosion      posed approaches algorithm search space forbids practical use classical                                                                                                         provides exhaustive synthetic view  centralised diagnosability checking methods sampath                                                                                                reasons diagnosable finally et al  like twin plant method jiang et al                                                                                    presented algorithm scalable practice yoo lafortune   hand case      provides approximate useful solution nondiagnosable checking diagnosability      computational resources sufﬁcient        sufﬁcient diagnosability analysis provide                                                        reasons diagnosable given rea                                                        sons speciﬁcation redesigned diagnos    introduction                                       tic reasoning improved taking account fact  nowadays monitoring diagnosing complex communi  diagnosis fault ambiguous  cating eventdriven systems huge economic impact proposal makes three contributions diagnosabil  ensuring better reliability maintenance safety lamperti ity problem ﬁrst deﬁnition new theoreti  zanella  diagnostic capabilities cal framework diagnosability problem described  stance required aeronautic ghelam et al  au distributed search problem instead searching  tomotive systems telecommunications pencol´eandcordier distinguishable behaviours global twin plant propose   electronic commerce yan et al formany distribute search based local twin plants  years problem automated fault diagnosis kinds termine global behaviours computing  systems received constant considerable attention global twin plant second contribution comprises  researchers ﬁelds artiﬁcial intelligence nature feedback case faults diagnos  control given monitor continuously receiving observa able search distributed  tions automated diagnosis methods aim analysis provides exhaustive synthetic view  tecting possible faults explain observations diagnosability analysis given fault    resulting diagnosis depends diagnos diagnosable contribution practical use  ability sampath et al  algorithm diagnosability analysis problem  strongly diagnosable diagnostic process ﬁnd accu complex complete analysis possible  rate explanation possible set observations lack computational resources distributed    ∗                                                   search makes computation scalable sense     research supported national ict australia  nicta framework supercom project modelbased algorithm able provide approximate exhaustive  supervision composite systems nicta funded through solution diagnosability problem computa  australian government’s backing australia’s ability initiative tional resources  through australian national research council  paper organised follows section  presents                                                    ijcai                                                     background diagnosability eventdriven systems sec • ∈sthen state xxntheevent  tion  introduces theoretical framework diagnosabil occur exists machine mj                                                                                  ity checking section  presents scalable algorithm dis exists transition xj −→ xj  tributed diagnosability checking section  related works  compared discussed                             models components operation sync deﬁne                                                        decentralized model global model    background                                         results synchronised product compo                                                        nents gi shared events synchronised    diagnosability discreteevent systems                                                                                        n      modelled using classical automata                                                                   sync  ggn    Σsi   malism aimed modelling discrete event                                                                                          multiple faults sampath et al  fault  critical event event occurrence monitoring agent behaviour represented  aims identify suppose fault observable transition path starting initial state                                                                      occurs component modelling xn following path  modular each component local model syn denote transition path starting initial state  chronisation operator sync deﬁned order implicitly sampath et al  observable behaviour  represent global model             supposed live means                                                        inﬁnite path sequence observable events  deﬁnition  model component       model    associated denoted obsp inﬁnite   component     ﬁnite state machine      classical diagnosability property  gi  xi Σixi tiwhere                                                        global property deﬁned paths sampath et al    •                                                                               xi set states xi xi xmi        twopathsp      distinguishable iff                                                                            • Σi set events                          obs    obs letp     pf sf denote path                                                        pf path ending occurrence fault state    •        initial state                     xf sf subpath initial state xf  diag    • ti transition set ti ⊆ xi × Σi × xi     nosability fault deﬁned follows                  Σ                              Σ    set events divided disjoint parts oi deﬁnition  diagnosable iff    set observable events Σsi set events shared  components represent communications         ∀p  pf sf  ∃l ∈ obssf  l⇒  components Σf set unobservable fault events                                                                                                ∀p obspobsp occurs   Σui set unobservable events                                                          fault diagnosable diagnostic algorithm                                                     diagnose occurrence certainty based ﬁnite se                                                                                                   quence observations diagnosability checking                                                                                                                              quires search inﬁnite path  path containing                                                                               cycle obspobsp pthe                                                        pair p called critical pair cimatti et al                                                                                   twin plant method checking diagnosability                                            recall centralised method check di                                                    agnosable twin plant method jiang et al                                                         sake clarity rest paper twin plant                                                        method presented original manner based  figure  model deﬁned components centralised model instead global model  solid lines denote observable transitions dashed lines shared  transitions dotted lines failure transitions     deﬁnition  local diagnoser local diagnoser                                                        component gi nondeterministic ﬁnite state machine                                                             Σ         figure  illustrates composed local mod gi xi xi  ti    els deﬁned synchronisation operation                                          Σf                                                          • xi set states xi ⊆ xi ×fwith f⊆   noted syncmmn classical synchronisa                                                                            tion operation ﬁnite state machines based • Σi set events Σi Σoi ∪ Σsi   set shared events stheresultm synchroni                                                          • xi xi  ∅ initial state  sation subset cartesian product × × mn                                                                                                     σ  restricted following rules                    • ti ⊆  xi ×  Σi × xi transition set −→                                                                  • ∈sthen state xxntheevent            exists transition sequence                                                                σ         σm       σ                       occur machines mj occur  −→   ··· −−→ xm   −→   gi Σi                                                                                                                                                                   m⊆Σf    ∪ Σu       f∪Σ    ∩ Σf       exists mj transition xj −→ xj              σ σ                                                                             ijcai                                                                                                                                 ˆ ˆ        ˆ       figure  depicts local diagnoser extension state xj xjω called    basic idea twin plant build machine compares nondiagnosable exists state xˆjm locally                        pair paths  fnondiagnosable                                         observable behaviour obspobsp alocal twin   synchronisation operation sync commutative  plant essentially type machine paths              Σl  Σr      Σ                                                        associative si  si oi disjoint sets  local component local twin plant based deﬁnition ωcoupled twin plant                              l          r  synchronisation instances gi left gi right obtained ﬁrst synchronising local diagnosers    diagnoser based observable events Σoi  set shared events obtain diagnoser ω followed  Σl Σr   oi    oi  observable behaviours compared synchronisation instances later set  shared events distinguishable instances observable events  l      r                  ∈ Σ                                                              gi resp gi  shared event σ si gi renamed consequently considering ω                                                             lσ ∈ Σs resp rσ ∈ Σs                              coupled twin plant represents exactly global twin plant                                                    gtp short paths  deﬁnition  local twin plant local twin plant gi observable behaviour compared follow  ﬁnite state machine                            ing fundamental result                                                     ˆ          l r                        theorem     diagnosable iff gcoupled twin               gi  sync  gi gi  Σoi                                                                                                plant path cycle containing    state local twin plant couple xˆ     observable event nondiagnosable state  xl xr represents possible diagnoses                                                          path represents critical pair   inthefol  left right given observable se                                                                         lowing called critical path twin plant method  quence belongs ∪f ∩f                                                        searches path gtp  diagnosed state certainty case  state xˆ called fnondiagnosable called  fdiagnosable figure  illustrates local twin plant  theoretical framework  diagnoser shown ﬁgure state labels show distribute diagnosability check                                    l            r  composed state labels middle fault computing gtp compo  circular nodes denote fnondiagnosable states nent occur denoted gf following                                                        terms diagnosable nondiagnosable respectively                                                        note fdiagnosable fnondiagnosablefurthermore                                                                                                        sync     denotes ambiguity product ﬁ                                                                                                               nite state machines synchronised shared events                                                                                                                                          ˆ      ˆ                                     considering set local twin plants ggn                                                                   ˆ                                                     ﬁned section  gf contains diagnosability informa                                                        tion  main idea distributed checking                                       xˆ              propagate ﬁrstly diagnosability information                                        rs                                   ls           local twin plants propagation possible                                                 xˆ                    xˆ      xˆ                                                      cide locally parts local twin plants relevant               rs       xˆ      xˆ                                          ls                                solve diagnosability problem finally each local               rs                           xˆ        xˆ      xˆ                        twin plant reduced twin plant computed removing                                ls  rs xˆ                                                          irrelevant parts                                                                                                                                                 propagation diagnosability information                                                                                                       ˆ  figure  local diagnoser twin plant propagation diagnosability information gf  ˆ                                                     local twin plants based connectivity  component showninfigure                        ˆ                                                        respect gf     following ω represents set components gω  deﬁnition  αconnectivity conα γ set                               ≥   gj gjω ω theωcoupled    ﬁnite state machines connected ﬁnite state ma  twin plant twin plant ω obtained synchronisation chine γ distance α recursively deﬁned follows  local twin plants                              conγγ                                                         conα γγ   ∃γ  ∈ conα − γ  deﬁnition  ωcoupled twin plant ωcoupled twin                                                                           γ γ share event  plant                                                                           γ ∈ conβ γ βα                                jω                                                       ∈           ˆ           ˆ       ˆ                          components γ γ connected γ    γ         ω                    Σ   ∪ Σ           sync    ω    si    si         set transconγ denotes set components                                 ij                   behaviour possibly inﬂuence γ transconγ                                                    ijcai                                                     n−   α conα γwheren   number components proof                                            ⇒                          ˆ ˆ      ˆ                              ˆ                              suppose exists state xxn gtp    reducing local twin plant gi consists ﬁnding set xˆ nondiagnosable state xˆi               ˆ                                                ˆ                               ˆ  states denoted gi  possibly involved xˆi ∈ pgi cond  def  implies gi  nondiagnosable states gtp possibly nondiagnos  transcon ˆ        ˆ                       ˆ              ˆ                                                      gf  sincex nondiagnosable state xf  able states determined analysing connectiv   ˆ                                                          gf  contained xˆ nondiagnosable fol  ity component gi component gf                         ˆ                           ˆ                                                            lows xˆf ∈ pgf  cond  def  gi  deﬁnition  possibly nondiagnosable states set       transcon ˆ   ˆ                                ˆ                                    gf    gf   exists  possibly nondiagnosable states pgi local twin plant             ˆ  ∈    ˆ   ˆ                                                         α    gi     α gf    gi determined follows                              cond  def  ensures twin plant        ˆ             ˆ                                      ˆ               ˆ                       pgix     ∈ xi   nondiagnosable gi ∈     gj ∈ conα  −  gf  states xˆjforwhich      congf   gi  gf                                             ˆ   ˆ                    ˆ                                                            ˆxj  xˆi syncgj gi belong pgj        ˆ      ˆ                                                                                    ˆ    pgiyi   gi ∈ conα gf  α ∈         gtp results synchronisation gj                        ˆ                                    ˆ                     ˆ                    ˆ      states yˆ ∈ yi connected twin plants  gi means xˆi ∈ pgi implies xˆj ∈ pgj         ∈  −                     ˆi ˆj                                     ˆ              α       exists state     xˆj denotes state gj contained xˆ                        ˆ ˆ          ˆ      twin plant sync gi gj xj possibly   previous reasoning led existence state      nondiagnosable                                                              ˆ     ˆ             ˆ                                                            xˆi ˆyα twin plant gi  hα ∈ conα  gf       ˆ  ˆ      ∈ transcon ˆ                                     ˆ      gi    xi gi          gf                         yˆα ∈ phα existence state xˆj ˆyα−                                                                          ˆ     ˆ                  ˆ    deﬁnition extended state xˆ    twin plant gj  hα− ∈ conα −  gf   ˆ      ˆ                                                          ˆ   xj xjω ωcoupled twin plant            yˆα− ∈ pgα− recursively applying α −  times                    ˆ  ˆ        ˆ                        reasoning follows exists twin  deﬁnition  state   xj xjω ωcoupled           ˆ                    ˆ           ˆ                                                plant belonging gf  state yˆ  twin plant gω possibly nondiagnosable iff               ˆ                              ˆ         ˆ                                                             belonging xˆ yˆ ∈ phsincegf             ∀  ∈        ˆ ∈ ˆ                                              ˆ                   ω  xji   gji                    element gf  def  means                                                                 ˆ           ˆ    example propagate diagnosability information actually gf yˆ ˆxf  ﬁnally follows                                           ˆ                    ˆ  ∈ ˆ   figure  compute gthelo     xf   gf   contradiction  cal nondiagnosable states figure  ﬁnally twin ⇐ suppose exists state xˆ ∈ pgt  containing       ˆ                     ˆ      ˆ                                       ˆ  plant figure  share events local state xˆf ∈ gf xˆ diagnosable                               ˆ ∈   ˆ                                 ˆ  ls rs connected           implies xˆf ∈ pgf  xˆ ∈ pgt             ˆ                      ˆ     ˆ  obtain pg synchronisation leading def  contradicts assumption     ˆ                          ˆ   required figure  states xˆ yˆand                                   ˆ  xˆ yˆ composed state pg state  distributed diagnosability veriﬁcation                                         ˆ  yˆ possibly nondiagnosable show exploit theorem  ﬁrstly                                 ˆ  connected twin plant −  need duce size twin plants removing states  consider local twin plants check yˆ irrelevant diagnosability test lemma       ˆ  pg set possibly nondiagnosable states secondly distribute diagnosability test set twin    ˆ      ˆ  pgyˆ                                 plants                                                        deﬁnition  reduced twin plant twin plant reduced                yˆ             rs              rs          ls     rs             states initial path target                      xˆ  yˆ ls xˆ  yˆ rs xˆ  yˆ xˆ  yˆ      ls yˆ                              ls  rsrs                                   state possibly nondiagnosable   yˆ           yˆ                                                                      ˆ                                                       following rg denotes twin plant ob                                                                                  ˆ ∈  ˆ   ˆ                          ˆ                             tained removing states   figure  twin plant left component lead possibly nondiagnosable state simplify syn                               ˆ  figure  synchronisation right chronisation reduced twin plants event set lat  ˆ                                                                            ˆ     ˆ                   ˆ  depicted figure                               ter remains unchanged rΣ  Σ rg                                                        does contain transitions labelled σˆ ∈ Σˆtheevent    state possibly nondiagnosable certainly belongs event set following equivalence  diagnosable results following relationship                                 ˆ  ˆ                                                        holds twin plants gˆgˆ  rsyncg    tween nondiagnosable possibly nondiagnosable states ˆ ˆ  gtp                                                sync            def                                                                                     ˆ          ˆ       ˆ  theorem  state xˆ gtp nondiagnosable iff lemma  global twin plant  syncggn  possibly nondiagnosable                              contains exactly critical paths rgˆ                                                    ijcai                                                      proof target state critical path gˆ opnc pairwise synchronisation reduc   cycle containing nondiagnosable state tion resulting twin plant computed using function                                                                           ˆ   xˆ theorem  state leads xˆ redpairwisesyncg line  selection pairs   state entirely composed possibly nondiagnosable synchronise important strong impact   states path rgˆ algorithm efﬁciency different selection heuris   path rgˆ path gˆ follows rgˆ contains tics lamperti zanella  pencol´eandcordier   critical paths deﬁned gˆ                 common rule respected pair twin plants                                                         synchronise connected synchronisa                                                         tion remove opncs     show decide diagnosability prob synchronisation operation repeated step step   lem based set distributed twin plants requiring algorithm stops following causes   computation gtp                             twin plants gˆ contains opnc                                                                          theorem  fault diagnosable iff  partition determined veriﬁes                                 gˆ    ˆ       ˆ          fault diagnosable theorem    exists set reduced twin plants gω gωk                                                 twin plant contains opnc removed     ωωk partition components   synchronisations case        k                                                   duced gtp computed involves com           ωi  ωi ∩ ωj  ∅ ωi  ωj                                                         ponents                 ˆ     plant gr contains observable possibly nondi                                                    σˆ     ﬁnite computational resources algorithm       agnosable cycle opnc short path ˆx −→ stop case returns set twin plants                          σˆ                                              opncs provides possible reasons       xˆ ··· −−→ xˆ possibly nondiagnosable       state observable transition label           diagnosable level nondiag                                                             nosability certain deduced   proof                                                    subset components involved element  ⇒ suppose diagnosable does exist partition sufﬁcient diagnose certainty       set gr gtp satisﬁes cond  contains       opnc observable nondiagnosable cycle algorithm  distributed diagnosability check       theorem  implies diagnosable                                                           input       theorem  contradicts assumption                                                              component models ggn                                           ⇐ suppose exists set faultf occur component gf       diagnosable nondiagnosability follows  initialisations       exists observable nondiagnosable cycle gˆ ←∅                  set relevant twin plants                                                                                   ˆ       gtp opnc observable event  compute local twin plants gi components gi         ∈ Σ                                                           ˆ       σ     oi theorem  based synchronisa   add       tion operation page  means ωcoupled gˆ ←                 gˆ ˆ                 ˆ                                              getnondiagstatelab      gf                 ω       ∈                                                      ˆ       twin plant  ω contains opnc ev   reduce twin plants       ery set satisfying cond  involving gi                ˆ                       ˆ                                                           existsopncg sufﬁcientmemorygand       does satisfy cond  does exists            ˆ               gr                                           nrelementsg         set  contradicts assumption           ˆ                      ˆ                                                             ←  redpairwisesyncg                                                           end                                                                          ˆ     algorithm                                            existsopncgisfalsethen                                                            return “f diagnosable”   section presents scalable algorithm exploits                                                            orem  reduce search space diagnosability anal ˆ cyc                    ˆ                                                              ←  gett sw ithop ncg   ysis distributing reduced twin plants     gˆ cyc   set reduced twin plants gr represents partition  return   components challenge ﬁnd  end   contains opncs proves diagnos   able opncs removed synchronising connected   case  diagnosable critical paths   twin plants operation basis dis returned provide complete diagnosability analy   tributed diagnosability check algorithm       sis undistinguishable behaviours cause nondi     algorithm performs follows initialisa agnosability  information contains synthetic   tion computation local reduced twin plants view nondiagnosability    line  basic idea synchronise pairwise extracting synthetic view opncs                                ˆi   using function syncrgˆ  rg  synchroni consists considering  nondiagnosable state                                  ˆi   ˆi       ˆ   ˆ         ˆ              sation performed               xj xjω      xj   xj                                                       ijcai                                                      
