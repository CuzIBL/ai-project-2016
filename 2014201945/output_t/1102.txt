    knowledgebased programs graded beliefbased programs ii                                           offline reasoning                         noël laverny                                 jérôme lang                             irit                                         irit                    université paul sabatier                     université paul sabatier                 toulouse cedex france                  toulouse cedex france                        lavernyiritfr                                langiritfr                        abstract                          answers fully reliable normally cor                                                        rect each time gets direction conﬁrming resp contra      beliefbased programs generalize knowledge       dicting current belief belief stronger resp      based programs fagin et al  allowing   weaker assumption answers normally cor      incorrect beliefs unreliable observations   rect implies instance got  “right”      branching conditions refer implicit   “left” answer likely “right”      graded beliefs “while belief “left” plausibility getting observation      direction railway station strong depends current state      ask   someone”  show           coping issue results natural way second      reason offline possible executions order uncertainty projecting belief state bbp      beliefbased program calls introducing example agent able predict      secondorder uncertainty model            thing like “after asking  pedestrians normally i’ll                                                        ﬁrm belief direction station                                                        totally exclude possibility i’ll    introduction                                       weak totally void belief” complex belief  knowledgebased programs kbps fagin et al  state belief state future belief states  powerful notion expressing action policies secondorder belief state main concern pa  branching conditions refer knowledge agent priori reasoning possible states  acts according knows typically belief produced executing program uncertainty                kϕ   π π                  states belief result represented  epistemic usually modality π π ranking states belief  subprograms branching conditions kbps  recalling background section  beliefbased  refer possibly erroneous beliefs graded programs introduced section  section  deals  lief “repeat ask way complex belief states progression actions  railway station belief direction programs section  show compute progres  strong enough” recently laverny lang  sion syntactically related work discussed section   ﬁrst step reasoning beliefbased pro  grams bbps knowledge modalities kbps  background  placed graded belief modalities semantics relies section brieﬂy recall notions laverny  belief states deﬁned ranking functions lang  let ﬁnite set propositional sym  revised observations progressed physical actions bols lp nonmodal propositional language gener  enables agent maintain current belief state ated usual connectives boolean  world executing bbp note bbps ex stants  ⊥  set states associated  tend restricted class kbps single formulas lp said objective ϕ ∈ lp  agent agent perfect recall branching modϕ  ∈ ss  ϕ ⊆ orma  ditions concern agent’s knowledge present state objective formula unique logical equivalence  world                                         modf orma     laverny lang  deal belief states identiﬁed ordinal conditional func  line reasoning effects beliefbased program tions ocf spohn  belief state function κ   assume instance agent looking way −→  n∪∞ mins∈s κs    railway station foreign town initial belief state κ lifted lp κϕ  min κs   ϕ  void follows plan consisting sequentially asking convention min∅  ∞ use conven  pedestrians direction follow tion paper recalling κs  acquired sufﬁcient level certainty assume seen exceptionality degree particular κs  means normal state κs  ∞ bnϕn ∧    ∧ bϕ loss generality  tally impossible ϕ ∈ lp belief state κϕ sume ϕi  ϕi b∞ϕ∞ ∧ bnϕn ∧    ∧ bϕ                                               ϕ                   equivalent b∞ϕ∞ ∧ bnϕ∞   ∧ ϕn ∧    ∧ bϕ∞ ∧  deﬁned κϕs                    particular κ                     ∞      ¬ϕ                  ϕn ∧    ∧ ϕ onetoone correspondance                                                        tween belief states satisﬁable pc formulas modulo log  void belief state ∀s κs      beliefs expressed syntactically graded extension ical equivalence each κ pc formula gκ  Φκ                                                        deﬁned b∞ϕ∞  ∧ bnϕn  ∧    ∧ bϕ   kdg  kd language lp deﬁned fol                                                  ∗  lows                                                 maxk   ∞ ∃s κs  ∈     ϕ ∈ lp bϕ bϕ     b∞ϕ lp ϕi  orms κs  note ﬁnite    Φ Ψ lp ¬Φ Φ ∨ Ψ Φ ∧ Ψ lp ﬁnite min κ   instance let κa                                                         note lp considers subjective ﬂat formulas  κa ¬b   κ¬a   κ¬a ¬b  ∞  formulas lps denoted capital greek letters Φ Ψ Φκ  b∞a∨b∧ba∧ba∧ba∧b – equivalent  objective formulas denoted small greek let b∞a ∨ ∧ ba ∧ bb conversely each satisﬁable  ters ϕ ψ biϕ intuitively means agent believes ϕ pc formula Ψ belief state κΨ  hΨ  strength larger stronger belief expressed ghΨ ≡ Ψ gκ represents agent believes κ  bi b∞ knowledge true belief modality  make following slight abuse nota    truth formula lps belief state κ deﬁned tion pc formula Ψ equivalent shorter                                                                                                                        pc formula Ψ  write κΨ instead κΨ instance                                                                  Ψ    ϕ   ∧  ∧ ∧    ϕ objective ∈ κ  biϕ iff κ¬ϕ  pc formula   ∞  ∞                 equivalent    κ  Φ ∨ Ψ iff κ  Φ κ  Ψ                br write κbr instead κΨ    κ  Φ ∧ Ψ iff κ  Φ κ  Ψ    κ  ¬Φ iff κ  Φ                               beliefbased programs    κ  biϕ holds soon countermodel ϕ  exceptional degree equivalently beliefbased programs bbp built set ac  states κs  models ϕ particular tions act program constructors  bϕ satisﬁed normal states satisfy ϕ b∞ϕ • plan λ bbp  satisﬁed possible states degree models                                                          •        α ∈ act  α  ϕ                                                              bbp                                                                                         observation belief state κobs representing • π π bbps π π  bbp  observe getting observation observations                                                          • π   π bbp    Φ   ∈       incomplete partially unreliable laverny lang                                     ps                                                             Φ   π   π Φ   π   examples agent revises current belief state                                                            bbps  observation combining revision κ  κobs undeﬁned minsκ  κobs  ∞ bbp program branching conditions  belief state deﬁned                         doxastically interpretable agent decide                                                        believes given degree formula true   ∀s ∈ κ ⊕ κobss  κs  κobss − minκ  κobs                                                      generally unable decide given objective                                                        mula true actual world instance agent  particular κ ⊕ κobs  κobs κ ⊕ κϕ  κϕ  κϕ spohn’s conditioning spohn    forming bpp    physical action α feedbackfree action                                                             π     ¬br ∨ ¬b¬r   ask  possibly changes state world does                                                                    br   goright  goleft  feedback deﬁned transition model consisting col                                           lection belief states καs ∈ καs ex performs sensing action ask belief  ceptionality degree outcome performing α ﬁrm degree  way follow  state progression belief state κ α belief π guaranteed stop good question  state κ  α  κκ α deﬁned cf boutilier  progression revision laverny lang                                                       used maintaining agent’s current belief state  ∀s ∈ κ  αs  κsκ α  min κs   καss                                 s∈s                    program executed predicting future                                                        possible states resulting execution bbp    positive formula lps formula bi  started executed offline evaluation  appears scope negation positive conjunctive satisfactory way consider π  ask ask ask ask  pc formula lps formula form b∞ϕ∞ ∧   sisting asking sequence  pedestrians way                                                        station assume each occurrence ask send    restriction sake simplicity  possible consider nested modalities prove formalized extending language  case kd each formula equivalent ﬂat formula graded doxastic versions     o∞ knowing modality  issue relevance issues dealt paper levesque lakemeyer  oiϕ meaning  likewise combinations objective subjective formulas agent believes degree ϕ space limitations  play role expressing beliefbased programs omit detailsback obs  κbr obs  κb¬r corresponding respec deﬁnition  let obs ⊆ bs ﬁnite set possible ob  tively pedestrian telling station right servations recall observations belief states ob  resp left taken limited reliability sake servation model collection functions  simplicity exclude “don’t know” answers                                                                      κobss α  obs →  predict doing π agent                                                       α ∈ acts ∈   belief states κbr κb¬r κbr κb¬r κ   point obs obs considered  α ∈ acts ∈  likely each instance wish express         minobs∈obs κobsobss α    accurate observations frequent inaccurate  obs ∈ obs obss  ∞  ones observations ranked plau α ∈ acts κobsobss α  ∞  sibility occurrence given current state sensing                                                          κobsobss α exceptionality degree getting ob  action performed projection initial belief servation obs feedback executing sensing action  state program results secondorder complex α state deﬁnition ﬁrst appears boutilier et al  lief state example expect obtain  similar spirit correlation probabilities  asking persons normally agent tween states observations partially observable markov  lief state κ belief state κ  exceptionally           br                   b¬r                   decision processes condition  expresses                      κ  void belief state  issue developed normal observation condition  weak  section                                              sistency condition states observations obser                                                        vation totally excluding state occur state    complex belief states progression                                                        example     complex belief states                                                        let  ¬r obs  κbr obs  κb¬r let                                               deﬁnition  let set belief states  κ    obs ask   κ     obs ask    complex belief state cbs ordinal conditional func obs                   obs                                                               κobsobs¬r ask   κobsobs¬r ask    tion µ bs function µ  bs →                                                        observations impossible obs   minκ∈bs µκ                                                          obs obs κobss α  ∞ convention omit  µ secondorder belief state expressing beliefs specifying κs α means accurate obser  executing given program π future possible vations normal ones incorrect obervations  belief states resulting execution           exceptional  example  let  ¬r                                                        deﬁnition  let κ belief state α ∈ act  given                                                                                                                                                 obs ∈ obs plausibility obtaining obs α belief                κ              µκ                        ¬r                            state κ deﬁned                                                                                                                                                         κobsobsκ α  minκs  κobsobss α          µ    κ              µκ                                     s∈s                     ¬r                                                                    progression κ α  complex belief state                                                                                                                               progκ  α  µκ  α deﬁned κ ∈                                                                                                        κ              µκ                         ¬r                                  µκκ α  cbs convention belief state κ mentioned  minκobsobsκ α  obs ∈ obs κ  κ ⊕ obs  µκ  ∞ intuitively represents situation κ normal projected cbs  agent expects resulting belief state µκ α exists normal state normal ob  κ κ κ normal results κ servation obs given κ revision κ                                                        obs                                      κ  ⊕ obs  exceptional note κ  κ κ  κbr κ  κb¬r  condition  deﬁnition  guarantees                                                         deﬁned κobsobsκ α  ∞ ensures    deﬁne  µκ  degenerated cbs deﬁned                                                      µκ α cbs  µκκ   µκκ   ∞ κ  κ    note unlike bs ﬁnite cbss example  ﬁgure left resp right shows pro  ﬁnitely represented say µ ﬁnite support gression κ resp κ ask  iff ﬁnite number belief states ﬁnite plau                                                                                                  sibility κ ∈ bsµκ  ∞ ﬁnite case                                                                         κ                         κ   ¬r    deﬁne nµ simply ambiguity          ¬r    maxi  ∞   ∃κ µκ                                                             obs        obs             obs        obs    progression sensing actions  consider ﬁnite set act sensing actions send feed                                                                                                       agent form observations each sens                                                                                    κ           κ            κ            κ    ing action deﬁned statedependent plausibility assign ¬r     ¬r          ¬r         ¬r     ment possible observations                                                         µκ        µκ     µκ         µκ           notation κΦ introduced end section                                                                κ                      κ      µκ ask            µκ ask                 particular cases                 κ                      κ                                                           unobservable environment consists set physical    progression physical actions                  actions acts  ∅                                                          fully observable environment somewhat harder  addition sensing actions consider ﬁnite set act                                                      ﬁne formally separation physical  physical feedbackfree actions section  progres                                                        sensing actions prevents say actions send  sion belief state physical action deﬁned                                                        feedback cope assume act  belief state sake homogeneity                                                                                                      contains action sensex each propositional variable  deﬁne cbs progression µκ  α belief state                                                       returns truth value certainty  κ α ∈ act   deﬁned µκ  α  µ                                      κα           require program physical action α fol                            κ  κ  α              lowed actions sensex – means α           µκκ  α                                        ∞                   sequence sensing actions state known                                                        certainty program kind said admissible    progression beliefbased programs             initial state required known certainty  progression belief state κ bbp π complex proposition   belief state µκ π deﬁned inductively             unobservable environment κ pro                                                            gram π µκ π deﬁned exists    • π  λ µκ π  µκ                                                            lief state κ µκ π  µκ    • π  α µκ π deﬁned section  α ∈                                                           fully observable environment belief state      actp  section  α ∈ acts                                                            κ admissible program π µκ π    • π  π π                                  deﬁned µκκ  π  ∞ implies κ precise                                                                           µκ κ π  min  µκ κ π   µκ κ  π                      κ ∈bs                                belief state κ  κs ∈    • π  Φ π π                   µκκ π  κ  Φ      µκκ π                                         progression syntactical computation                    µκκ π                                                        applying progression deﬁned prohibitive    • π  Φ π                         complexity amounts iterating belief states                                             µκ κ π  π κ  Φ          states observations section      µκ κ π                           µκκ                     friendly syntactical way computing progression based    π contains construct deﬁnition compact representation complex belief states  wellfounded proved results sbs able reason resulting belief states  does depend order introduce new family modalities      rules applied constructs p∞ addition     b∞ bi modalities deal  recursive deﬁnition leads ﬁxpoint equation uncertainty current state      p∞  solution deﬁned taken ﬁxpoint deal secondorder uncertainty uncertainty  cbs necessarily case projected belief state respect program                                                            language deﬁned  consider κ  κ π   ask applying      deﬁnition leads µκκ π  ∞ κ • Φ formula lp piΦ formula                                                                  cbs µκ π deﬁned does lp  necessarily ﬁnite support                                                                                                                              • Θ Θ formulas lp Θ ∧ Θ  Θ ∨ Θ                                                                                    example                                                  ¬Θ formulas lp    • µκ ask ask  κ    κ    κ                                                          like bi modalities need consider nested pi    • µκ ask ask ask ask                     modalities heterogeneous combinations pi bi                                                                                                               κbr    κb¬r    κ    κ    κ   modalities resp objective formulas satisfaction lp                                                        formula cbs deﬁned    • π  ask ask br ∨ b¬r  λ  ask      µκ π  κ    κ   κ    κ   • µ  piΦ iff κ ∈ bs κ  ¬Φ implies µκ                                                                                             • π   ¬br  ∨ b¬r ask applying     • µ  Θ ∧ Θ iff µ  Θ µ  Θ      deﬁnition gives ﬁxpoint equation solution  similarly connectives      µκ  π   κ    κ                                                      validity satisﬁability logical consequence deﬁned                                                                               Φ    partition purely sensing purely physical ac usual way intuitively  means belief states  tions usual does induce loss generality satisfy Φ exceptional degree    question program run forever similar reasoning cbs mainly concerned  possible fair coin tossed repeatedly inferring positive formulas – inferring negative formulas                                                                                                          turns heads related ocf version law ¬piΦ somewhat derivative deﬁne positive lp  large numbers                                     formula follows  • Φ positive lp formula ∈ piΦ example  continued let Φ   br                      positive lp formula                            xΦask   obs xΦask   obs obs                                                         xnΦask  obs obs proposition  gives    • Θ Θ positive lp formulas Θ ∧ Θ                                                       rogΦ ask  pbr  ⊗ br ∧ p∞br  ⊗ br ∨      Θ ∨ Θ positive lp formula                                                      br ⊗ b¬r ≡ pbr ∧ p∞br  ∨ b∞  ≡ pbr  canonical lp formula lp formula  form Θ  pΦ ∧ pΦ ∧    ∧ pnΦn ∧ p∞Φ∞ Φ                                                       characterization physical actions easier      Φn Φ∞ positive lp formulas                                                   given cbs µ ﬁnite support canonical lp proposition  physical action α pc lp          mula µ  Θµ associated µ deﬁned        formula Φ rogΦ α ≡ p∞gκΦ  α                                                    gκΦ  α computed efﬁciently using                                      Θµ     pi      gκ ∧ p∞        gκ           proposition  laverny lang             µκi            µκ∞                  lastly progression positive conjunctive lp                                                                                                                                               mula Φ bbp π canonical lp formula rogΦ π   nµ gκ canonical lp formula cor deﬁned inductively follows  responding κ cf section   proposition  cbs µ ﬁnite support  • rogΦ λ  p∞Φ                       positive conjunctive lp formula Θ µ  Θ • rogΦ α deﬁned deﬁnition  α action  Θµ   Θ Θµ strongest positive conjunctive • rogΦ Ψ π π                                                                                         lp formula satisﬁed µ                                   rogΦ π  Φ  Ψ                                                                           example  continued                                          rogΦ π   Θµ    pbr ∨ b¬r ∧ p∞br ∨ b¬r ∨ b∞                                                          • rogΦ π π         ≡ pbr ∨ b¬r                                                                   position syntactical characteriza          tion progression                                             pi      rogp rogΦ πu πv                                                                 uvi  deﬁnition  let Φ positive conjunctive formula                                                                  ∧p∞p rogp rogΦ π∞ π∞  α action progression Φ α                                                                                     canonical lp formula rogΦ α corresponding • rogΦ Ψ  π    cbs µκΦ α                                       rogΦ π π Φ  Ψ                                                              rogΦ λ           rogΦ α  µκΦ α  ΘµκΦα    show formula rogΦ α com  puted ﬁrst generating corresponding µ                                                                                    canonical lp formula Θ Θi strongest  proposition                                              positive lp formula Ψ unique logical equiva  let α sensing action Φ  bϕ ∧  ∧bpϕp ∧b∞ϕ   lence Θ  piΨ   positive conjunctive lp formula deﬁne                                                           positive conjunctive lp formulas Φ                                 • obs ∈ obs ∈                            Φ   rogΦ ∨ Φ πi    rogΦ πi ∨      ψiobsα  orms ∈  µobsobss α          rogΦ πi    •      obs ∈ obs   ϕ ∧ ψ      ∨    ∨ ϕ ∧        iΦα                    iobsα             proposition  rogΦκ π  Θµκπ      ψobsα ≡ ⊥                                                        example     • x∞Φα  obs ∈ obs   ϕ ∧ ψ∞obsα ≡ ⊥                                                        let π  ask ask br ∨ b¬r λ   ask                                                                 • largest integer xiΦα x∞Φα π  ¬br ∨ b¬r  ask                                                           • rogb∞ ask ≡ p∞br  ∨ b¬r                                                                           • rogb   ask ask ≡ ∨ ¬r        rogΦ α   pi        Φ ⊗ Φobs                        ∞                                            obs∈xiΦα                       • rogb∞ π ≡ pbr∨b¬r∧p∞br∨b¬r                                                                                            ∧p∞          Φ ⊗ Φobs               • rogb∞ π  ≡ p∞br  ∨ b¬r                         obs∈x∞Φα  ⊗ syntactical revision operator proposition   related work  laverny lang  satisﬁes Φ ⊗ Φobs  partially observable markov decision processes  ghΦ  ⊕ obs                                       pomdps dominant approach acting partial                                                     observability including nondeterministic actions unreli     notice canonical lp formulas positive lp formulas  disjunction level pi modalities able observations relative plausibility observations  disjunctions appear scope pi modality course given states notion progressing belief state  scope bi modality                   action natural counterparts pomdps
