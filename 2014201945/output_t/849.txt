             tractable reasoning incomplete firstorder knowledge                    dynamic systems contextdependent actions                                  yongmei liu     hector levesque                                      department science                                           university toronto                                      toronto canada ms                                       yliu hectorcstorontoedu                        abstract                          holds sequence actions performed settings                                                        problem arises naturally planning      basic reasoning problem dynamic systems   highlevel program execution levesque et al apre      projection problem determine formula    requisite planning ability determine goal      holds sequence actions                                                       satisﬁed sequence actions execute high level      formed paper propose tractable robotic program “while block table      lution projection problem presence  pick block away” needs determine      incomplete ﬁrstorder knowledge context   various sequences actions block      dependent actions solution based     table      type progression progress ini                                                          practice ways deal projection      tial knowledge base kb wrt action sequence                                                        progress initial kb wrt action sequence      answer query resulting kb                                                        swer query resulting kb regress      form reasoning propose log                                                        query wrt action sequence answer resulting      ically sound logically complete                                                        query initial kb progression ad      query certain normal form agent                                                        vantages avoids duplication effort mul      complete knowledge context                                                        tiple queries need answered wrt action se      contextdependent actions                                                        quence especially sequence long second                                                        robotics setting robot use “mental idle time”    introduction                                       compute progression busy performing physical                                                        actions projection progression three main compu  area knowledge representation reasoning tational requirements new kb efﬁciently com  wellknown tradeoff expressiveness puted size linear size initial  representation language computational tractabil kb allow iterated progression pos  ity associated reasoning task extreme sible answer query efﬁciently new kb lin  databases queries efﬁciently evalu reiter  formal study progression  ated databases limited ai applica show progression ﬁrstorder deﬁnable  tions require complete knowledge identify important cases progression ﬁrstorder                          domains levesque   proposes generalization deﬁnable computationally tractable  database called proper kb allows limited form requirement addressed paper  incomplete knowledge equivalent possibly inﬁnite  sistent set ground literals deduction problem paper propose tractable sound  proper kbs undecidable levesque proposes evaluation complete solution projection problem presence  based reasoning procedure called logically sound incomplete ﬁrstorder knowledge contextdependent  query certain normal form called nf actions restrict attention actions “lo  logically complete later liu levesque cal” effects incomplete knowledge form                                                      proper kb deﬁne version progression    show despite incomplete knowledge database                                              techniques used implement efﬁciently     proper kb remains proper afterward applying    paper apply procedure reasoning progressed kb query returns value                                                        applying initial kb regressed query prove  dynamic systems state world changes                    nf  result actions agents applications basic query initial kb com  reasoning problem socalled projection problemgiven plete knowledge context contextdependent                                                        actions solution logically complete logically  action theory speciﬁes preconditions effects                 nf  actions initial kb determine formula complete query sensing ac                                                        tions provide dynamic information context    “tractable” mean “solvable polynomial time” relevant contextdependent actions  preliminaries                                         φ ground atom ewff φ ∈nf  section review proper kbs vandnf    φ ∈nfthen¬φ  ∈nf  brieﬂy review situation calculus formally deﬁne  φφn ∈nfandφφn logically sep  localeffect action theories regression     arable ∧φi ∈nf                                                           Γ ⊆nf  Γ logically separable φ    proper kbs  normal form nf                                                                                 Γφc    ∈cthen∀xφ ∈nf  use standard ﬁrstorder logical language equal                                                        intuition nf different parts formula  ity countably inﬁnite set constants  ccand                                                        logically independent simple example  function symbols restrict attention stan                                                        mula nf ∨¬pwherep atomic propo  dard interpretations equality identity                                                        sitional case cnf formula nf clauses non  bijection set constants domain dis                                                        tautologous closed resolution  course restriction captured set axioms                                                          liu levesque  show implemented  consisting axioms equality set formulas                                                        efﬁciently using database techniques projections joins  ci  cj   treat equality separately                                                        present cleaner variant result  say “predicate” “atom” “literal” exclude equality                                                          let  denote set formulas use    use ρ range atoms arguments distinct                                                        different variables let  ﬁnite set  variables use range ewffs quantiﬁerfree                                                        ntuples use ∈ denote   ∨ ∨   formulas equalities predicates use ∀φ                                                                          ¬p                   denote universal closure φ write φc denote deﬁnition  let predicate  φ free occurrences replaced constant cwe ewff deﬁning proper Σ denoted ξl disjunc                                                                        ∀ex ⊃ lx ∈ Σ           ξ  write Σ φ denote e∪Σ  φ                     tion                write                                                        form ∈ il ∨ el ∧ ∈ ol il ol                   Σ           e∪Σ                 Σ  deﬁnition  akb    proper   consistent   ﬁnite relations tuples possible el                                 ∀e ⊃ ρ  ∀e ⊃¬ρ  ﬁnite set formulas form             ewff esize Σ maximum size el Σ  hard problem determining corollary theorem  liu levesque   sentence logically entailed proper kb undecidable                                                        corollary  let Σ proper let φ ∈lkthenv Σφ  kb reduces classical valid                olmnk                  φ  ity levesque  proposes evaluationbased reasoning computed time  size                                                         esize Σ size Σ  procedure called instead given proper kb query  returns three values  known false  known true time complexity scales exponentially       unknown follows                            typical queries ordinary databases                                                       good expected                       ∀ex ⊃                                           Σ Σec     situation calculus      Σpc      ∀ex ⊃¬p                                                     account action change formulated lan                         Σ Σec                                                         guage situation calculus mccarthy hayes                                              reiter  language    Σc cif identical candotherwise note following components three disjoint                                                        sorts actions situations objects special    Σ ¬φ−  Σφ                                                        constant denoting initial situation    Σφ∨ ψmaxv   ΣφvΣψ                 actions occurred distinguished                                                                  doa                                Σ ∃xφmaxc∈h    Σφc whereh     binary function      denoting successor situation      union constants Σ φ extra constant resulting performing action relations truth val                                                        ues vary situation situation called relational ﬂu  procedure logically sound query                          nf                            ents denoted predicate symbols taking situation  certain normal form called  logically complete term argument special predicate  theorem  levesque  let Σ proper    possa stating action executable situation                                                          relate language situation calculus    φ ∈lifv Σφthen Σ φ                                                        follows set constants sort object      Σφthen Σ ¬φ                                                        constants situationindependent predicates    φ ∈nf Σφiff Σ φ            lational ﬂuents predicates lthatisifp      Σφiff  Σ ¬φ                       situationindependent predicate relational                                                        ﬂuent predicates    interested readers following deﬁnition                     nf  levesque                               extend language allowing equalities                                                        volving action functions let φ ∈landletτ situation                  Γ  deﬁnition  aset   sentences logically separable iff term use φτ denote situation calculus formula                                       ∪ Γ  consistent set ground literals obtained φ taking τ situation arguments                    ∪φ                     φ ∈ Γ  standard model     inconsistent    ﬂuents mentioned φweuseα  range ground ac  deﬁnition  normal form nf set tions use δ range sequences ground actionslet δ  hααniweusedoδ denote end sit blocks world example clearly localeffect  uation δthatisdoαndoαn−doαs     notion successor state axiom localeffect    particular domain application speciﬁed generalization strictly contextfree  basic action theory following form           ﬁned lin reiter  ssa strictly context                                                                         −                                                        free γf γf disjunctions formulas            dap ∪dss  ∪duna  ∪ds                                                         form ∃z  aywherea yandz    dap set action precondition axioms instance ssa ﬂuent strictly contextfree      each action function form possaxs ≡ ﬂuent eh                    Πaxs Πax ∈l                         using unique names axioms instantiation    dss set successor state axioms ssas localeffect ssa ground action signiﬁcantly sim                           doa ≡ Φ pliﬁed  suppose ssa localeffect let α  ac      each ﬂuent form                                                                  ∗                                                                               ∗       −       γ  α      Φf ∈l  usually Φf form ground action let                                                          equivalent formula following form                                  −               γf ∨ ∧¬γf                                                                                                          ∧ ψ ∨ ∨  dn ∧ ψn      ssas place socalled effect axioms                                                         di vector constants contained candψi      provide solution frame problem                              ∗                                                        sentence use γf αx denote formula      duna                                                                     ∗                            set unique names axioms actions write ψ ∈ γf α mean  ∧ ψ          ax  ay axay ⊃    disjuncts use Φf αx denote                                                        γαx ∨ ∧¬γ−αx                                                                             case blocks          distinct action functions      world instances ssas simpliﬁed follows      ds form φs  φ ∈ ΣwhereΣ ⊆l                                                        clearx domovecccs ≡  ∨      Σ called initial kb                                                              clearx ∧¬x   setting projection task deﬁned follows onx domovec ≡  ∧  ∨               φdoδ      φ ∈l       δ                                                determine                             onx ∧¬x  ∧   sequence ground actions                           ehx domovecccs ≡  ∧¬ehcs ∨                                                        running example use simple blocks world  ehx ∧¬x  ∧ ehcs  use single action movex moving block  block block treating table just block important computational mechanism reasoning  use three ﬂuents clearx sblockx blocks actions regression reiter  deﬁne  onx sblockx block ehx sthe onestep regression operator localeffect action theories                height block following action pre deﬁnition  let φ ∈lweuserαφ denote  condition axiom successor state axioms           mula obtained φ replacing each ﬂuent atom                                                             Φ  αt        φ              φ    α  possmovex zs ≡ clearx ∧ onx ∧ clearz      α   regression wrt   clearx doa ≡ ∃yza  moveyxz ∨          note rαφ remains lletδ  hααniwe                                                                        ◦···◦r        clearx ∧¬∃yza  moveyzx            use  δ denote α         αn  wenowstateasimple  onx doa ≡ ∃za  movex ∨          form regression theorem reiter  recall Σ        onx ∧¬∃za  movex            initial kb  ehx doa ≡ ∃yza  movex ∧¬ehzs ∨ theorem  regression theorem        ehx ∧¬∃yza  movex ∧ ehzs φ ∈l φdoδ iff Σ rδφ    local effect action theories regression      theorem shows regression sound complete                                                        solution projection problem paper prove  actions dynamic domains local effects results progression using regression bridge  sense action ac  changes truth value  atom dthend contained  contrasts  actions having universal effects exploding bomb  progression proper kbs  kills near deﬁne follows section deﬁne variant classical progression                                                        show compute localeffect action theories  deﬁnition  successor state axiom localeffect  γx   γ−x                                   consider classical progression suppose              disjunctions formulas kb Σletm possible state Σ model Σ  form ∃z  ay ∧ φywherea action function α                                                                       φ          let  ground action successor state wrt   contains   remaining variables called α model  ground ﬂuent atom   context formula quantiﬁerfree formula lan                                                                                             iff Φf αc akbΣ progression  action theory localeffect each ssa localeffect Σ wrt α models Σ exactly successor states    use slightly different notation reiter  models Σ wrt α basic property progression                                                                         omit leading universal quantiﬁers          suppose Σ progression Σ wrt α                                                                    justify concerns tractability reasoning φ ∈l Σ φ iff Σ rαφitisinthissensethatwe  reader imagine large number blocks say classical progression preserves classical entailment  nice classical progression proper kb pvδ φthende ¬φdoδ pv logi  proper use solve pro cally sound projection easy pαΣ  jection problem unfortunately case computed time size Σ corol  simple action theories consider following lary  following tractability result                                       example petrick levesque               theorem   let localeffect action theory                                                                              doa ≡  ∧ gs ∨ gdoa ≡ gs proper Σ let φ ∈l thenpvδ φ computed                                                        time opn  lmnkwherep length δ size  progression kb proper wrt φ esize Σ size Σ  action results disjunctive information ∨¬gand                                                        pv provides efﬁcient logically sound solution  longer proper propose vari                                                        projection problem despite incomplete knowledge  ant classical progression progression proper                                                        sections explore conditions  kb does remain proper progression preserves                                                        pv  logically complete  stead preserving classical entailment  deﬁnition  let Σ Σ proper say Σ  completeness result  weak progression Σ wrt ground action α                                                       pv uses  surprising need query  φ ∈l Σ φv  Σ rαφ                                                        normal form logical completeness sec    show localeffect action theories easy tion show thing need  compute weak progression proper kb         initial kb complete knowledge context  deﬁnition  let localeffect Σ proper    contextdependent actions                                                          precisely say kb Σ complete wrt set  deﬁne pαΣ set following sentences                                                        ground atoms ∈ Σ Σ ¬l    ∀ ∈ af ∨ ξf ∧ ∈ df ⊃          akbΣ   complete wrt predicate complete wrt    ∀ ∈ a¬f − d¬f  ∨ ξ¬f ∧ ∈ d¬f ⊃¬f ground atoms nowletΣ proper φ quantiﬁer                                                        free sentence Σ complete wrt atoms φthen                        ξ       ξ   ranges ﬂuents resp ¬f  ewff deﬁn easy Σφ    ing resp ¬f inΣ cf deﬁnition                                                         deﬁnition  akbΣ    contextcomplete wrt difitis          dψ  ∈ γα Σψ                                                                                      γ    γ−                                                     complete wrt predicate appearing       d¬f    dψ ∈ γf α Σψ                                                         Σ contextcomplete complete knowledge           dψ  ∈ γ−α Σψ     ¬f                                        predicates context contextdependent ac                       −      df    dψ ∈ γf α Σψ        tions example blocks world Σ context                                                                                  eh  following                            complete complete wrt  incomplete wrt                                                        clear contextcompleteness allows incom  theorem  let localeffect Σ proper      plete knowledge  pαΣ weak progression Σ wrt α            useful special cases context     δ  hααni       pδ         pα   ◦···◦pα      completeness ssa equalityonly predicate ap  let               weuse    denote                           −  simple induction φ ∈l   pears γf γf  obviously Σ contextcomplete  pδΣφv  Σ rδφ                            wrt equalityonly ssas ssas come                                                 intuition af d¬f simple ∈ af  equalityonly ssa contextfree ﬂuent appears                                                                −   true possible successor state γf γf  reasonable assume agent                                          add  Σford   ∈  d¬f    complete knowledge situationindependent predicates  come true possible successor state delete assumption Σ contextcomplete wrt  ¬f Σ  consider blocks world exam  contextfree ssas  ple let Σonccclearcclearcehcaf   logical completeness pv obtained show  ter action moveccc performed add clearc ing progression preserves contextcompleteness  ¬clearc onccand¬oncc Σ delete  contextcompleteness progression coincides  clearc ¬clearc oncc ¬oncc ehcand classical progression  ¬ehc      Σ           ehc           ehc            delete        holds   theorem   let Σ contextcomplete                  ehc   current state  false successor  pαΣ contextcomplete                       ¬ehc    state similarly delete                          pαΣ classical progression Σ    deﬁne reasoning procedure pv solve pro                                                                                              Σ  jection task using weak progression follows proof  prove model     α                                                        iff model st Σand  successor  deﬁnition  let localeffect action theory state wrt α onlyif direction construct  proper Σwedeﬁnepvδ φ pδΣφ            follows ﬂuent atom ifv Σfc                                                                  Σfc        ¬f   suppose pvδ φthenv     Σ rδφ                                                                                                               pδΣφ soundness  Σ rδφby            iff           proof uses                                                               Σγ∗ αc  ∈    ∗      −  regression theorem φdoδ similarly fact                  contextcompleteness progression preserves extend regression progression operators incorpo  classical entailment let Σ contextcomplete rate sensing ideas quite simple example  simple induction φ ∈l pδΣ φ iff regress formula clearc ∧ ehc wrt senseehc   Σ rδφnowletφ  ∈nf completeness   obtain clearc progress proper kb Σ  nf pδΣφiff pδΣ  φ iff Σ rδφ  wrt senseehc  obtain Σ ∪ehc  iff φdoδ initial kb context let α  ac  ground action let µ ∈   complete query normal form pv logically deﬁne rαµφ follows α ordinary ac  complete projection                              tion rαµφrαφ let sfa                                                        sfaxs ≡ sthenrαµφ formula ob    incorporating sensing                              tained φ replacing each atom   ∨f                                                                                    applications asking require com µ  ∧  µ wehave  plete knowledge initial kb context following extended regression theorem  contextdependent actions section follow gi theorem  let σ consistent history  acomo levesque  relax restriction d∪sensedσe φendσ iff Σ rσφ  ways ﬁrst need contextcompleteness relative  sequence actions query question second turn progression sensing let Σ proper                                                            α   ac                          µ ∈    achieve local contextcompleteness dynamically let       ground action let                                                                             Σ               α  sorting sensing actions actions knowledge deﬁne αµ follows ordinary ac  outside words show tion pαµΣ  pαΣ let sfa  history actions sensing results “justintime” sfaxs ≡ sthenpαΣ  Σ ∪f   normal form query pv logically complete pαΣ  Σ ∪¬f  following ex    ﬁrst extend account action change tended progression theorem  corporate sensing assume addition ordinary ac                                                        theorem   let σ consistent history  tions change world binary sensing ac  tions change world tell agent  e∪pσΣ consistent pσΣ proper                φ  condition  holds current situation use   φ ∈l pσΣφv Σ rσφ  predicate sfa characterize sensing ac  tion tells agent world basic ac concept need dependency set  tion theory extra component dsf  set deﬁnition  dependency set formula φ wrt  sensed ﬂuent axioms sfas each action form dinary action α denoted dsαφ set ground  sfaxs ≡ φaxs φa ∈l say dsf                           −                                                        atoms appear γf α γf α ﬂuent φ  atomic each φa atom    instance add three sensing actions example let α  movecccthendsαclearx                                                                          ds  ehx  ehc   blocks world example senseclearx senseonx yand set α                sense           sfsense   xs ≡ ehx       eh  theaxiom           eh                says   deﬁnition  let σ consistent history φ ∈lwe              sense               ehx  action  eh   tells agent    holds    say σ justintimehistory jithistory φ    sequence actions sensing results division σ · α µ · σ σ α ordinary  use notion history sequence pairs α µ                                                        action pσ Σ complete wrt dsαrσ φ  α ground action µ ∈  sensing  result α ordinary action simply let µ  intuitively σ jithistory φ performing  use endσ denote end situation history σand ordinary action α agent complete knowledge  sensedσ denote situation calculus formula stating context α wrt ﬂuents related φ complete  sensing results σ formally                   knowledge come sensing actions preceding α                                                        example let Σ  clearconccclearc    • endεswhereε   history                        sense    · movec        endσ · α µ  doα endσ                   history    eh                                                                            jit history formula ∃xclearx ∧ ehx note    • sensedεtrue                                   agent incomplete knowledge ﬂuents      sensedσ · α   sensedσ ∧ sfα endσ   clear eh jit history does require complete      sensedσ · α   sensedσ ∧¬sfα endσ   knowledge component ﬂuents query    naturally interested consistent histories proof essentially previous  histories reasonable sensing results formally section following result  deﬁnition  history σ consistent             theorem   let σ jithistory φ  e∪d∪sensedσ    consistent theory            pσΣ φ iff Σ rσφ    projection problem including sensing formu let σ jithistory φ ∈nfthenwehave  lated deciding d∪sensedσe φendσ pσΣφiff pσΣ  φ iff Σ rσφ iff  φ ∈landσ  consistent history                   d∪sensedσe     φendσ history    rest section assume dsf atomic justintime normal form query pv logically  prepare deﬁnition justintimehistory ﬁrst complete projection
