      dpslam fast robust simultaneous localization mapping                                            predetermined landmarks                                               austin eliazar ronald parr                                             department science                                                      duke university                                               eliazar parr csdukeedu                               abstract                               ical loop environment misalignment errors                                                                  result        present novel laser range finder based algorithm        simultaneous localization mapping slam        em algorithm provides principled approach        mobile robots slam addresses problem con•         problem involves expensive offline alignment        structing accurate map real time despite imperfect  phase burgard et ah  exist heuristic approaches          information robots trajectory through en•  problem fall short em        vironment unlike approaches assume prede•     complete solution require additional passes        termined landmarks deal resulting data  sensor data thrun  scan matching produce good        association problem algorithm purely laser based maps flu milios  gutmann konolige         algorithm uses particle filter represent robot                                                                  laser range finder data approaches typically        poses possible map configurations using new                                                                  explicitly look require additional effort close        map representation distributed particle        dp mapping able maintain update hun•     loops varying degrees approaches viewed        dreds candidate maps robot poses efficiently  partially separating localization mapping components        worstcase complexity algorithm laser sweep    slam        logquadratic number particles maintain     fastslam algorithm montemerlo et        linear area swept laser does require explicit loopclosing heuristics        practice run time usually recent slam approach great progress        technique contains essentially assumptions                                                                  field fastslam follows proposal murphy mur•       environment accurate close loops        length crisp perpendicular edges corri•   phy  using raoblackwellized particle filter sam•       dors minimal misalignment errors               ple robot poses track position fixed number                                                                  predetermined landmarks using kalman filter land•                                                                 mark positions conditionally independent given robot    introduction                                                 pose method mitigates challenges map•  availability relatively inexpensive laser range finders ping expense challenges landmark selection   development particle filter based algorithms   identification involve fairly complicated   led great strides recent years problem robot   data association problem recent progress   localization  determining robots position given known    addressing montemerlo thrun    map fox et al  initially maps used        present novel laser range finder based algorithm   methods constructed hand accuracy        called dpslam like fastslam exploits condi•  laser suggests use mapmaking lo•    tional independences noted murphy algo•  calization potential applications accurate mapmaking     rithm purely laser based makes landmark assump•  include search rescue operations space  tions avoid data association problem storing mul•  underwater subterranean exploration                       tiple detailed maps instead sparse landmarks sub•    accurate laser range finder mapmaking         suming association localization algorithm uses   presents difficult challenge precise position estimate particle filter represent robot poses possible map   required make consistent updates map good configurations using new map representation wc   map required reliable localization challenge si• distributed particle dp mapping able main•  multaneous localization mapping slam pro•     tain update hundreds thousands candidate maps   ducing accurate maps real time based single pass robot poses real time robot moves through en•  sensor data line correction phase straight• vironment worstcase complexity algorithm   forward approaches localize robot based par•   laser sweep logquadratic number particles   tial map update map based maximum     likelihood position robot tend produce maps er•    lthis approach heuristic does maintain joint   rors accumulate time robot closes phys•  probability distribution maps poses       robotics                                                                                                              maintain linear area swept laser how•   practice run time usually tech•   nique makes essentially assumptions environ•   ment accurate close loops length terms linear correction account consis•   crisp perpendicular edges corridors minimal   tent errors motion function returns random    misalignment errors accuracy achieved  noise normal distribution mean  standard    mapping process need explicit algorithms   deviation derived experimentally depend    correct loop temporally distant observations begin magnitudes   overlap fact dpslam complimented          simulation need weight particles based    inclusion existing algorithms closing loops robots current observations environment pure   addition unnecessary sufficient number par• localization robot stores map memory position   ticles used                                                described each particle corresponds distinct point                                                                  orientation map relatively simple de•   particle filters localization                        termine values sensors return given pose        mapping                                                   map standard assumption sensor errors                                                                  normally distributed obstruction   particle filter simulationbased method tracking   map line traced laser cast distance   partially observable state briefly review par• reported distance probability density observing   ticle filters refer reader excellent overviews discrepancy normally distributed mean    topic idoucet el ai  application      experiments assumed standard deviation laser   robotics thrun complete discussion         measurements cm given model pose each sen•     particle filter maintains weighted normalized set sor reading correctly treated independent observation   sampled states cahed particles each                     murphy  total posterior particle   step observing observation vector observa•  tions particle filter      samples new statesfrom                             difference expected per•       replacement                                              ceived distances sensor laser cast particle      propagates each new state through markovian transi•                                                                  particle filters slam        tion simulation model  entails sam•       pling new state conditional distribution  approaches slam using particle filters attempt        states given sampled previous state             maintain single map multiple robot poses thrun                                                                   approach avoid leads errors      weighs each new state according markovian obser•     accumulate time basic problem hid•       vation model                                             den state actually robot pose map      normalizes weights new set states          important consequence problem observations      particle filters arc easy implement used       arc longer compared single map presumed   track multimodal distributions practical prob•     correct instead observations compared   lems doucet et al                                      incomplete possibly incorrect map identified                                                                  particle question map created accu•   particle filters localization                          mulation observations environment estimates                                                                  robot positions   particle filter natural approach localization prob•  lem robot pose hidden state tracked     principle solves slam problem prac•  state transition robots movement observa•  tice replaces conceptual problem algorithmic   tions robots sensor readings noisy particles errors robot position estimates make er•                                                                 roneous additions maps error map     change state time handled mo•                                                                 turn cause error localization   tion model usually motion indicated odometry                                                                  step inaccuracies quickly compound   taken basis motion model reliable                                                                  number particles required slam typically   measure wheels turned                                                                  required localization price accumu•  odometry notoriously inaccurate measure actual robot                                                                  lated errors higher note pure localization   motion best environments slip shift                                                                  small errors position estimation absorbed   robots wheels unevenness terrain com•                                                                 noise motion model   bine significant errors quickly accumulate   motion model differs robots types terrain   algorithmic problem efficiently main•  generally consists linear shift account systematic taining large set particles obtain robust perfor•  errors gaussian noise odometer changes    mance each particle merely robot pose                                                                  pose map maps light weight data struc•    particle filter applies error model obtains                                                                  tures maintaining hundreds thousands maps   particle                                                                  poses challenge reasonable approach tam•                                                                 ing problem assume uncertainty map                                                                                                                 robotics represented simple parametric form essen• linear number iterations particle filter   tially approach taken fastslam map    challenge provide data structures permit   kalman filter set landmark positions cer• efficient updates map efficient localization queries   tainly right thing given set landmarks time complexity independent number   quickly unambiguously identified      iterations particle filter solution   show strong assumption required using     problem distributed particle mapping dpmapping   raw laser data combined occupancy grid efficient  explain terms data structures main•  data structures handle large number candidate     tained ancestry tree map   maps poses efficiently achieving robust performance                                                                  maintaining particle ancestry tree    dpslam                                                      basic idea particle ancestry tree fairly straight•                                                                 forward tree rooted initial particle   section motivate present main technical     particles progeny each particle maintains   contribution dpslam algorithm dpslam imple•          pointer parent assigned unique numerical id   ments essentially simple particle filter maps   finally each particle maintains list grid squares   robot poses uses technique called dis•      updated   tributed particle mapping dpmapping enables      details use ancestry tree local•  maintain large number maps efficiently              ization described subsequent section section                                                                  focus maintenance ancestry tree specifically    naive slam                                                 making certain tree bounded size regardless   using particle filter slam each particle corre•    number iterations particle filter   sponds specified trajectory through environment     maintain bounded size tree pruning away unnec•  specific map associated particle  essary nodes note certain particles   sampled entire map treated hidden children simply removed tree course   state tracked copied new parti• removal particle leave parent   cle map occupancy grid size particles children recursively prune away dead   maintained particle filter ignoring cost branches tree pruning obvious   localization omp operations performed merely        particles stored ancestry tree exactly   copying maps number particles sufficient achieve  particles ancestors current generation   precise localization reasonably sized environment    particles   naive approach require gigabytes worth data move•       somewhat information need   ment update                                              remember particle child ancestry                                                                  tree essentially remove collapsing branch    distributed particle mapping                               tree effect merging parents   astute reader likely observed     childs updates map process described subse•  naive approach doing work make clearer   quent section applying process entire tree   introduce notion particle ancestry    pruning obtain minimal ancestry tree   particle sampled iteration produce successor parti• desirable easily provable properties   cle iteration generation particle parent                                                                  proposition  independent number iterations   generation particle child children                                                                  particle filtering minimal ancestry tree particles   parent siblings concept par•  ticle ancestry extends naturally suppose laser sweeps   exactly leaves   area size consider siblings            branching factor    each sibling correspond different robot pose   make updates map inherits parent   depth   differ map positions         map representation      problem presented manner natural   challenge map representation devise data   reaction scientists propose record•   structure permits efficient updates efficient localiza•  ing diff maps recording list changes  tion naive approach complete map each parti•  each particle makes parents map cle inefficient somewhat naive approach   solve problem making efficient map updates    simply maintaining history each particles updates   create bad computational problem localization trac•     inefficient introduces dependency number   ing line map look obstacle re•    iterations particle filter   quire working through current particles entire ancestry     solution map representation problem asso•  consulting stored list differences each particle ciate particles maps instead associating maps   ancestry complexity operation     particles dpmapping maintains just single occupancy                                                                  grid particles distributed map unlike      addition theoretical analysis anecdotal comments   researchers area reinforce impracticality traditional occupancy grid each grid square stores balanced   approach                                                      tree redblack tree tree keyed ids       robotics                                                                                                              particles changes occupancy  total cost deleting childless particles amor•   square                                                       tized oadplgp      grid initialized matrix trees    remains shown housekeeping required    particle makes observation grid square inserts maintain ancestry tree reasonable cost specifically    id observation associated tree notice  need show cost collapsing childless ancestry    method recording maps actually allows each particle   tree nodes does exceed oadplgp    behave map check value   obvious successive collapsing operations    grid square particle checks each ancestors make set updated squares node ancestry tree    recent observation square large entire map argue amortized    ancestor entry particle treat cost changes oadplgp consider   position unknown                                     cost merging childs list modified squares      effects collapsing ancestor   parents list child modified squares   single child ancestry tree precisely perform nlgp operations balanced tree queries   set squares updated child merged par• parents key check childs entries parents   ents set second each square visited child    duplicates   change id key stored balanced tree match   final step required consists updating id   parent child parent update  childs map entries accomplished   square parents update replaced   deleting old id inserting new copy   childs child removed tree par• parents id cost nlgp consider   ents grandchildren direct children note each map entry stored particle ancestry tree po•  ensures number items stored balanced tree   tential steps collapsed total   each grid square                                   number nodes initial position root                                                                  new nodes added each itera•   computational complexity                                   tion particles each create new map entries potential                                                                  total potential each iteration oadplgp   nice thing naive approach keeping         computational complexity dpslam sum•  complete map each particle simplicity ig•    marized follows   nore cost block copying maps lookups changes   map constant time areas   proposition  particle filter maintains parti•  distributed particle mapping initially efficient cles laser sweeps grid squares ancestry   show dp maps fact asymptoti•       tree depth dpslam requires   cally superior naive approach                            • oadplgp operations localization arising      lookup dpmap requires comparison                                                                          particles checking grid squares   ancestry particle balanced tree grid   square let depth ancestry tree           lookup cost odlgp grid square   maximum length particles ancestry strictly speak•     • oaplgp operations insert new data tree   ing ancestry tree guaranteed balanced      arising   op practice   case  nature parti•                      particles inserting information grid squares   cle resampling lends balanced ancestry trees          insertion cost olgp new piece informa•  discussion following section          tion   point complete lookup just    • ancestry tree maintenance amortized cost   accesses balanced tree balanced tree    oadplgp arising   hold entries single search takes lgp   time accessing specific grid square map there•           cost olgp remove observation   fore odlgp time                                           level ancestry tree      localization each particle need make ac•          maximum potential adp introduced each   cesses map each particle needs access en•             iteration   tire observed space map need oap ac•  cesses giving localization dpmaps complexity        complexity comparison   oadplgp                                                     analysis shows amortized complexity     complete analysis handle remaining        dpslam oadplgp large     details cost inserting new information map   aplgp naive approach each map repre•  cost maintaining ancestry tree use  sented explicitly lookups constant time   balanced tree each grid square insertions deletions grid square localization step takes oap   map lgp entry each particle make     need updates ancestry tree map updates   new entries turn need   likewise oap time main bulk   removed procedure adding new entries     computation lies need copy entire map   accomplished oadlgp particle oadplgp        each particle require mp time                                                                                                                 robotics size map typically obviously            vironment attempt smooth   dominant term computation                       errors map loops closed precision      dpslam advantageous                           maps results directly robustness maintaining   worst case approaches  multiple maps   benefit high resolution occupancy grid   quite large grows quadratically linear mea•   robot robot model   sure environment grow cubically      robot used testing dpslam irobot atrv   consider height tiny fraction    jr equipped sick laser range finder attached   size course depend environ•        robot height cm readings   mental features sampling rate data impor• ° spaced degree apart effective dis•  tant note time complexity algorithm   tance error distance readings typically   does depend directly size map    mm   necessarily exist environments dpslam vastly       odometric readings atrv jrs shaft encoders   superior naive approach naive approach   unreliable particularly turning motion model as•  require block copying data exceed physical   sumes errors distributed gaussian manner   memory                                                        standard deviation  lateral motion  turns      initial experiments observed     turns quasiholonomic performed skid steering   surprisingly small suggesting practice advantage  obtained motion model using automated calibration   dpslam greater worstcase analysis        procedure worked positioning robot   suggests problems point advan•    smooth wall comparing odometry data move•  tageous use dpslam closer                       ment inferred laser readings   phenomenon discussed subse•  quent section                                                  test domains maps                                                                  tested algorithm loop hallway approximately    empirical results                                            new set observations recorded af•  implemented deployed dpslam algorithm           ter each cm motion approximately maps con•  real robot using data collected second floor structed resolution cm grid square providing   science building initial implementation   high resolution cross section world height   map representation binary occupancy grid par•     cm floor   ticle detects obstruction corresponding point     figure  shows highest probability map generated   occupancy grid marked fully occupied remains      completion loop using  particles   occupied successors particle probabilistic  test robot began middle hallway   approach updates grid natural avenue future  continued counterclockwise through rest map   work                                                         returning starting point      fast pc  ghz pentium  run time dp         example demonstrates accuracy dpslam   slam close data collection time algo• completing long loop difficult tasks   rithm run real time test domains   slam algorithms traveling robot   practice collected data log file using able observe section hallway   relatively slow robot processed   started point accumulated error readily be•  data later using faster machine speed things come apparent lead obvious misalignments   implemented novel particle culling technique avoid fully  corridor figure shows loop closed perfectly   evaluating posterior bad particles unlikely discernible misalignment   resampled works dividing sensor readings     underscore advantages maintaining multiple   each particle disjoint evenly distributed subsets   maps included results obtained using   posterior particles computed passes pass  single map number particles figure  shows   evaluates contribution subset end each    result processing sensor log file generating   pass particles significantly lower partially evaluated  particles each time step keeping single particle   posterior comparison assigned  proba•    highest posterior updating map based   bility removed consideration set   robots pose particle considerable mis•  hard threshold number particles allowed al•   alignment error loop closed map   gorithm culling typically set larger annotated versions maps shown    total number particles considered practice  maps generated different sensor logs avail•  cutoff used culling effectively re• able httpwwwesdukeeduparrdpslam   moved  particles proposed                                                                     earlier version paper presented map produced   value gave speedup approximately                     particles based different sensor log file run     results present important emphasize shown covers area reliable odometry   algorithm knows absolutely environ•      probably weaker battery illustrative bene•  ment existence loops assumptions en•   fits dpslam       robotics                                                                                                             
