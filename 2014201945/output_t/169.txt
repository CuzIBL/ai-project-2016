              gametree search combinatorially large belief states                                austin parker dana nau vs subrahmanian                         department science university maryland                                      college park md  usa                                   email austinjpnauvscsumdedu                          abstract                          kriegspiel chess civilization starcraft quake counter                                                        strike freeciv speciﬁcally      games kriegspiel chess chess variant      players direct knowledge op • beliefstate size bridge poker scrabble rela      ponent’s pieces’ locations belief state’s sizes tively small belief states start bridge hand      dwarf partial information games like size each player’s belief state       bridge scrabble poker–and easy    dummy’s cards exposed number      way generate states satisfying given observa decreases exponentially game proceeds      tions show statistical sampling approaches  like large number dwarfed      developed games          beliefstate sizes games example                                                          kriegspiel chess size each belief state mid      show necessary random                                                          game  small world map      sample consist game boards satisfy                                                          freeciv beliefstate size       each player’s observations      fact win  beginning     • uncertainty model uncertainty bridge poker      completely consistent boards gradually     scrabble external factors easily mod      switching game progressed boards   eled stochastically random deal cards bridge      merely consistent latest observation  poker random choice tile scrabble                                                          easy tell state consistent      surprising result explained noting                                                          belief state assign probability given      game progresses board consistent      likely    games kriegspiel chess uncertainty arises      consistent entire set observations lack observability opponent’s actions      idea sequence moves     uncertainty simple stochastic model instead      actually generated board                 telling state consistent current                                                          lief state means checking history                                                          sequence moves consistent leads    introduction                                         average case takes exponential time  biggest difﬁculties using gametree search al • simplifying approximations bridge poker usually  gorithms imperfectinformation games game statistical sampling game  trees huge branching factors usually beliefstate simpliﬁed approximation state space  size number current states consistent ev belief states smaller bridge approxima  erything player knows game combinatorially tion treating various sets states  large number moves opponent equivalent technique ﬁrst used game  able make number states moves sprouts applegate et al  poker linear  lead quite large                    programming approximation used billings et al                                                                   best known way circumvent problem     kriegspiel chess unclear  statistical sampling generate set random game approximation constructed  boards consistent current belief state perfect summarize objective determine make  information gametree search each game boards gametree search work successfully imperfectinformation  average minimax values worked games huge belief states simple stochastic  games bridge smith et al  ginsberg  model uncertainty obvious way construct sim  scrabble sheppard  poker billings et al  pliﬁed approximation game results    success statistical sampling games  relates conditions kriegspiel chess like ordinary chess player  hold various imperfectinformation games other’s pieces section  gives fuller description      procedure choosemoves                        sired number states statistical sample          ←  moves applicable states        moves players played far         ∈ ∈             • los  observation sampling fewer            vsm ← evaluateboardγs                                                        lastobservation consistent states let contain         return argmaxm∈m    s∈s vsmp                let contain states chosen                                                          random return choosemoves  figure  abstract statisticalsampling algorithm eval • aos observation sampling let  ∅ generate  uation evaluateboard perfectinformation search algorithm random history hs      history satisﬁes   alphabeta                                                                                 ij                                                          add si repeatedly  return                                                          choosemoves   algorithms generating random • aosp observation sampling pool aosp     sample game boards used tree search aosp  turns set states pool pj     generates game boards consistent entire use input aosp state     sequence observations player during pool consistent oij     game los requires consistency sume states pool let     observation oi hs behaves like aosp beginning pool aosp returned time      game game progresses gradually switches player’s possible responses pj’s let     behaving like los                              γs  ∈  ∈   applicable   analyze performance algorithms theoreti γs satisﬁes oij  let     cally surprisingly analysis suggests  let contain states chosen     cases los play hs better random let  choosemoves return     aosp                                           γs  ∈                                                        • hs  hybrid sampling like aosp hs returns   experimental tests game kriegspiel chess                                                          set states compute aosp     conﬁrm analysis’ hypotheses experiments                                                                                            let set −  random     timed los los time limit did better                                                                                           observation consistent states  ∅ let      random play timed aosp did better timed                                                                                                choosemoves   ∪s   return γs  ∈      los timed hs did better timed aosp                                                                                                        analyzing performance algorithms impos    gametree search statistical sampling         sible making simplifying assumptions                                                        set assumptions make  statistical sampling used gametree                                                        analyses based different sets assumptions  search imperfectinformation games need abstract                                                        differing assumptions lead differing conclusions  model kinds games used simplicity                                                        algorithm better  assume game zerosum players                                                        analysis  suppose each state exactly children  alternation    game progresses players’ moves generate constant suppose know pj’s moves                                                        player’s moves number states  sequence states si  hs   called game                                                        large   described earlier during  tory each state si each player pj able make                                                        early stages game number states grows expo  observation oij si usually oij include complete infor                                                                            bi                   mation pj’s position partial information nentially roughly possible states ’th                                                                                 player’s position si player pj’s observation history suppose each state player’s                                                                                    oij  hoj oj     oiji pj’s belief state bij  observation history ij eliminates aver                                                                         states satisfy oij                             age fraction player’s possible moves    sampling algorithms based following   number possible states i’th                                                                        properties state lastobservation consistent given oij bc  probability individual                                                                                                   consistent oij allobservation consistent state depth consistent oij   consistent oij                                  approaches  exponential rate increases    figure  shows abstract version statistical gametree game continues grow tree branch  search sample set states γs state pro ing factor analysis suggests following  duced performing state evaluateboard  perfectinformation gametreesearch algorithm • aos computationally intractable probability                                                          random history consistent bi likely  alphabeta probability distribution states           additional code added handle case like  order produce sam                                                                                                         applicable states ple size aos probably need generate ·  code tends gamespeciﬁc discuss histories taking exponential time  section                                          • aosp efﬁcient computationally aos    deﬁne different sampling algorithms sample set decrease size game pro  provide input choosemove each case gresses probability state s’s successors  consistent bi known sets assumptions represent extremal cases    consistent bi− time needed hypotheses games actual perfor    generate states does increase quickly mance likely hs    generated states random histories perform somewhat better aosp words    like aos does case game hypothesize games lastobservation consis    progresses soon small results tent boards included statistical sample later    statistical signiﬁcance aosp’s play game help hurt evaluations section    begin resemble random play                       describes experimental test hypothesis  • each board generated los unlikely consistent    current belief state values computed  kriegspiel chess    los likely close random               test domain chose game kriegspiel chess  • beginning game hs behave identically li   game like chess    aosp game proceeds size player other’s pieces player captures    creases hs randomly generated player y’s pieces referee announces heshe    boards making results noisy capture piece captured referee    hs’s quality play likely worse aosp’s moves captured piece y’s board does say                                                        piece captured tries make  analysis  possible states game illegal attempted pawn moving check  number moves each level continue grow tempting jump opponent’s piece referee announces  exponentially eventually ﬂatten game illegal puts y’s king  “tree” graph tree nodes check referee tells players y’s king check  each depth each possible state gives partial information check oc  edges each node depth nodes depth curred rank ﬁle long diagonal short diagonal    consistent given obser knight combination players hear  vation suppose edges random set nodes referee announcements  each state probability certain indepen moves kriegspiel chess game conservative  dence assumptions reachable moves estimate each node game tree current               i−             i−  min −   bcn −   words sequence observations consistent   probability randomly chosen state history board positions uncertainty kriegspiel chess  sistent oij approaches  exponentially suggests notoriously difﬁcult game win li    following                                        games end draws  • game proceeds time needed aos    eventually level upper bound times  implementation algorithms    time needed each classical choosemove’s evaluateboard subroutine took    gametree search algorithm                         gpl’ed chess program provided gnu modiﬁed  • degrading random play analysis  return minimax value particular board note    aosp’s quality play eventually level each ∈ evaluation function times    level depending number states avail number applicable moves  kriegspiel    able pool                                   exception case ∈  • game proceeds probability randomly gen legal state ∈ case omit    erated board consistent current belief state computing average value shown figure     increase  los produce increasingly return highest average value    good quality play play limited    fact good way assign relative probabil  algorithms time limits    ities randomly generated boards             order make fair comparisons los aosp  • beginning game hs behave identically hs implemented exact way described    aosp game proceeds aosp’s sample size section  modiﬁed inputs    decreases hs ﬁll rest sample ran algorithm time available decide    domly generated boards—but game proceeds algorithm    increasingly likely randomly chosen time modiﬁed algorithms—timed los    boards consistent current belief state timed aosp timed hs—are described    hs’s quality play likely better aosp’s implemented three algorithms using                                                        combination months  summary  ﬁrst set assumptions aosp likely tend make implementations publicly available  perform better los somewhat better opensource software kriegspielchess game server  hs second set assumptions unclear running web site  los aosp better hs likely perform timed los taking set input shown  better aos aosp los                       figure  timed los generates members ata time evaluates generated timed los  timed hs perform somewhat  generate evaluate boards during better timed aosp hypothesis caused  time available time returns controversy based notion  average value highest shown figure        authors believed computation time spent    timed aosp  timed aosp maintains pool states  troducing evaluating lastobservation consistent boards         sp known consistent better spent trying ﬁnd evaluate  current belief state using estimate long allobservation consistent boards  evaluateboard each board calculates test hypotheses played three algorithms  number boards kt evaluate during available each player moved random  time estimate deliberately little low try each player plays approximately half games white  timed aosp running overtime ensure half games black experiments run  time left attempt generate consistent xeon ghz chips  mb ram running linux  boards three cases                        each player allowed spend  seconds deciding each                                                        including moves decided attempted  •   ≥    kt  timed  aosp   calls choose                                                        illegal    moves     sk  returns recommended                                                        figure  shows results algorithms versus  •    kt timed aosp calls choosemovep     returns recommended                   random player figure  shows results headto                                                        head tests three algorithms results include  •   timed aosp returns random     winslossesdraws each player’s average material value  during remains available time aosp tries each game using standard chess value  generate histories consistent each piece observe following  history adds resultant board pool  three algorithms played better random  section                                       player conﬁrming ﬁrst hypothesis large number    each time referee makes announcement timed     draws unsurprising kriegspiel chess noto  aosp update pool consistent  riously difﬁcult game win  nouncement cause pool shrink  timed aosp told illegal grow  timed aosp timed hs played better  timed aosp told opponent moved com timed los conﬁrming second hypothesis  putation occurs beginning aosp’s turn       timed aosp timed hs played equally    pool allowed grow unchecked poten versus random player timed hs did signiﬁcantly  tially quite large limit size  boards better timed aosp played head  number boards pool goes higher tohead furthermore shown figure  timed hs did  remove boards number boards using substantial number lastobservation consis    second time limit allows tent boards game progressed  time choosemove set  boards  pool believed adequate             observation interesting suggests    timed hs  timed hs works timed aosp   hypothesis lastobservation consistent boards                                                        correct useful game progresses  exception  ≤  kt timed hs gen  erates set − random boards consistent likely consistent current                                                      belief state know probabilities  oij called lastobservation consistent boards calls  choosemovep  ∪ rules possibility assign line choosemove  having make random restricts provide useful information  time timed hs spend generating additional boards  pool                                    related work    consistent history generation                    bestknown work imperfectinformation games                                                                                        algorithm generating additional histories consistent cludes work games bridge smith et al  gins                                                                                                  does depth ﬁrst search through space game berg   scrabble sheppard   poker billings                                                        et al  discussed work section   histories each node known game history oij speci  ﬁes possible branches algorithm reaches existing literature kriegspiel chess small  node multiple branches corresponding oppo believe ﬁrst attempt create kriegspiel  nent’s hidden game history randomly orders chess program capable reasonable play en  branches proceeds searching according order tire game books written play                                                        kriegspiel chess li   wetherell et al                                                         implemented program act referee sees    experiments                                        entire kriegspielchess game board tells each player  experimental hypotheses based analyses sec information described second paragraph section  tion   timed los perform better  sakuta et al  implemented search strategy  random play  timed aosp perform better imperfectinformation games simpler                              los rand material graph                                                              aosp los material graph                                                                                                                                          los material white                                                              aosp material white                                          los material black                                                            aosp material black                                          rand material white                                                                 los material white                                        rand material black                                                               los material black                                                                                                                                                                                                                                                                                                                                                                                       material  value      material  value                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               aosp rand material graph                                                               hs los material graph                                                                                                                                        aosp material white                                                                   hs material white                                        aosp material black                                                                 hs material black                                          rand material white                                                                 los material white                                        rand material black                                                               los material black                                                                                                                                                                                                                                                                                                                                                                                       material  value      material  value                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                hs rand material graph                                                                hs aosp material graph                                                                                                                                            hs material white                                                                 hs material white                                            hs material black                                                               hs material black                                          rand material white                                                               aosp material white                                        rand material black                                                             aosp material black                                                                                                                                                                                                                                                                                                                                                                                       material  value      material  value                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     algorithms          win        loss         draw         runs               algorithms          win           loss          draw         runs       los rand            ±         ±            ±                          aosp los            ±          ±               ±                 aosp rand           ±         ±            ±                          hs los              ±             ±            ±                   hs rand             ±          ±         ±                          hs aosp             ±         ±         ±            figure      winslossesdraws percentages plus minus                    figure      winslossesdraws percentages plus minus   ﬁdence interval average material value each games                      ﬁdence interval average material value each head  timed los timed aosp timed hs random player                          tohead comparisons timed los timed aosp timed hs  material value heuristic measure player’s ability assign  material value follows queen worth  rook  bishop  knight   pawn  sum player’s pieces material value  particular player’s material value
