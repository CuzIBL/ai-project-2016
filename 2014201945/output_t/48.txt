              domain independent approaches finding diverse plans                          biplav srivastava†        tuan nguyen‡     alfonso gerevini¶                                              ∗                    subbarao kambhampati           minh binh do§         ivan serina¶                     †ibm india research laboratory new delhi bangalore india sbiplavinibmcom                              arizona state university tempe az usa  raoasuedu                       ‡university natural sciences ho chi minh vietnam natuanﬁthcmunseduvn                                  §palo alto research center usa minhdoparccom                                ¶university brescia italy gereviniserinaingunibsit                        abstract                          domainspeciﬁc approaches section  exam                                                        ple myers myers  lee  expects domain model      planning situations planner required ers provide “metatheory” domain addition      return diverse set plans satisfying domain transition model terms actions ef      goals used external systems  fects paper focus domainindependent means      collectively domainindependent ap    ﬁnding comparing diverse plans immediately      proach solving problem propose differ brings issue basis plans com      ent domain independent distance functions   pared ﬁrst contribution paper proposal      plans provide meaningful insights  spectrum distance measures capture plan characteris      diversity plan set tics terms actions behaviors states result      representative stateoftheart domain indepen plan execution causal structures      dent planning approaches – based compila    distance measures place turn      tion csp based heuristic local issue automatically generating sets plans      search – adapted produce diverse plans desired diversity terms distance measures naive      present empirical evidence demonstrating   approach let planner generate multi      effectiveness approaches                  ple solutions ﬁlter solutions satisfy                                                        required diversity ﬁltering approach                                                        promising particularly given fact set plans    introduction                                       given problem principle inﬁnite boddy  typical automated planner takes input speciﬁcations et al  use type ﬁltering technique  initial goal states set available ac trusion detection domain explicitly acknowledge need  tions ﬁnds plan satisfy goals efﬁciently approaches diversity constraints account during  searching space possible state conﬁgurations ac search actively  tion orderings plans planning situations planner second contribution paper investiga  required return set diverse plans satisfy tion effective approaches using distance measures  ing goals used external systems bias planner’s search ﬁnd diverse plans efﬁciently  collectively example adaptive web services compo technical details biasing search depend  sition web service engine wants set diverse tails underlying planner broader understand  plans compositions failure exe ing decided investigate representative stateofthe  cuting composition alternative used art planning approaches ﬁrst gpcsp typiﬁes issues  likely failing simultaneouslychaﬂe et al  involved generating diverse plans bounded horizon com  user helping selecting compositions pilation approaches second lpg typiﬁes issues  planner ﬁrst asked set diverse plans involved modifying heuristic search planners  selects planner asked ﬁnd vestigations gpcsp allow compare relative dif  plans similar selected example ﬁculties enforcing diversity each three distance  using planning intrusion detection boddy et al  measures ﬁnd using actionbased distance measures  aim detect diverse ways possible intrusion ﬁnd diverse plans usually results plans di  attacks represented plans                       verse respect behavior causal structures    need ﬁnding similar different plans likely permutations lpg focus  noticed past little concrete work actionbased distance treated nat  formalizing solving problem little ural way relatively simple modiﬁcation heuristic  concentrated ﬁnding similar plansfox et al  function explore scaleup issues ﬁnd proposed                                                        distance measures make lpg effective solving di    ∗kambhampati’s research supported ibm faculty verse plans large problem instances  award nsf grant iis– onr grant  lockheed martin subcontract tt asu note inﬁnitely nonminimal  darpa integrated learning program             variations single plan                                                    ijcai                                                         basis    pros              cons                               basis    computation       actions  does require  problem information           δ δa actions setdifference                problem information used                        δ     actions  preﬁxes neighbourhood       states   dependent speciﬁc needs execution    δ δs states  setdifference                plan representation simulator identify states   δ     states   preﬁxes neighbourhood       causal links considers causal proximity requires domain theory δ δc causal links setdifference                state transitions action                      δ     causal links preﬁxes neighbourhood                positional                physical proximity                                                        table  spectrum distance functions based different  table  pros cons different bases characterize bases way computations  plans                                                actual states execution plan consid    rest paper start formalizing problem ered compare plans different repre  propose different plan distance functions sentations  plans ﬁrst deterministic plan  propose methods ﬁnd diverse plans demonstrate second contingent plan hierarchical plan  effectiveness using gpcsp lpg end discus fourth policy encoding probabilistic behavior  sion related work main results            causal links used basis comparison causal                                                        proximity actions considered just    distance measures                                  physical proximity plan  talk formally generation diverse plans need aggregating distances basis plan comparison  start notion distance plans let δsisj chosen different choices aggregating dis  →    denote distance function pair plans tances example interested action based com  value  represents complete similarity plans  parison plans view plans sets  represents complete diversity following convention bags actions consider set bag difference  hebrard et al foragivensets plans plans ii consider plans sequences actions                 max                        min       consider measures “hamming distance” sen  ﬁne maxδ  sisj ∈s δ sisj minδ  sisj ∈s                                                        sitive position actions table   distance  δsisj problem ﬁnding diverse similar plans  problem pp set plans represented functions presented use  different bases  dif  planpp stated                       ferent ways computation use δ δ δ refer                                                        δa δs δc respectively rest paper      ddistantkset resp   dclosekset       ⊆ planpp    minδ ≥                             nalae           alae      resp maxδ ≤                                  pendn     heart tackling problem issue deﬁning  criteria plans compared mentioned  earlier focus domainindependent measures  comparing plans compare plans terms                                  plan     actions present plans                                                           plan al aalan      behaviors resulting execution plans            behavior captured terms sequence       states agent goes through                                                                                                                      plan                                                                           causal structures plans measured terms           causal links representing actions contribute                                                                             goals achieved                                                                                                                 table  gives pros cons using different com           parison methods note actions plans used                          plan   basis comparison additional problem domain  theory information needed plan behaviors used figure  example illustrating bases distance measures  basis comparison representation plans                                                        ai ag denote dummy actions producing initial state  bring state transition irrelevant consuming goal state respectively                                                       example     issue complicated fact plans com figure  three plans shown planning prob  pared generated automated planner                                                        lem initial state ppp goal state  ways given manually manipulated getting    plannersrivastava vanhatalo  koehler  ggg  action models causal structures  consider generated plans distance measures apply plans shown left plans  provences make apriori assumption plans actions different ordering structures par  like each goal single causal support structure allel actions sequence plan                                                     →                                 like plans actions different     causal link       records predicate produced     consumed causal chain sequence causal achieves goals                                 pn−  links form → aa →  an− → anweuse action based plan comparison method uses  causal links analysis refer plan’s causal links causal positionbased distance aggregation ﬁnd  chains possible convenience           different three plans                                                    ijcai                                                    different sets action preﬁxes instead action second complication arises causalbased distance                                                                       formation used set differencing causal link → actions indi  identical                             cates supports precondition ahoweverthe    state based comparison method uses csp assignment p a provides ﬁrst half each  given computation choice ﬁnd causallink complete causallink need look  identical different values assignments identify action oc  states transition cur later level planning graph  identical hand trivially precondition  ﬁrst states intermediate states    causal link based comparison method uses set dif  making gpcsp return set solutions  ferencing ﬁnd  different causal links goals make gpcsp return set solutions satisfying  different   ddistantkset constraint using three distances                                                        add “global” constraints each original encoding en    finding diverse plans gpcsp                  force ddiversity pair solutions each                                                        global constraint called normal forward check  gpcsp plannerdo  kambhampati  converts   ing arcconsistency checking procedures inside  graphplan’s planning graph csp encoding solves fault solver check distance solutions  using standard csp solver solution encoding predeﬁned value ﬁrst map each set assign  represents valid plan original planning problem ments actual set actions actionbased predicates  encoding csp variables correspond predicates true different plansteps statebased causal  achieved different levels planning links causalbased using method discussed previ  graph different planning steps possible values ous section process mapping var value  actions support predicates each csp vari csp assignments action sets using planning  able representing predicate special values graph outside csp solver works closely  ⊥ indicates predicate supported action general purpose csp solver gpcspthecom  false particular levelplanningstep ii “noop” parison implementation global  dicates predicate true given level constraint decide plans diverse  true previous level jiand    investigate different ways use global  action deletes constraints encode straints  parallel strategy return set solutions  lations predicates actions  mutual exclusion  greedy strategy return  relations predicates actions  causal parallel approach create encoding  relationships actions preconditions contains identical copies each original planning encod                                                        ing created using gpcsp planner copies connected    adapting gpcsp different distance bases      using kk −  pairwise global constraints each  planning encoding solved standard global constraint th th copies ensures                                                                                     csp solver return solution containing var value plans represented solutions copies                        form  xy   xnyn  collection xi distant each each copy      ⊥  yi    represents facts true different time variables constraint involves variables  steps plan trajectory used basis state                                   ⊥ ∧              greedy approach copies setup par  based distance measure set yi   yi   noop     allel upfront sequentially add ith copy  represents set actions plan used                                         th  actionbased distance measure lastly assignments global constraint enforce solution copy                                                        ddiverse −  solutions  xiyi represent causal relations  used causalbased distance measure           advantage greedy approach each csp encoding    complications need signiﬁcantly smaller terms number variables                                                        vs k∗n smaller terms number global constraints  come speciﬁc distance measure plans      −    computed action represented  vs   each global constraint contains                                                                                   ∗     different values domains different variables lesser number variables vs each encoding  sider simple example facts greedy approach easier solve  supported actions awhenset   each solution depends previously solutions  ting csp encoding assume csp variables encoding unsolvable previously solutions  areusedtorepresentp domains  comprise bad initial solution set  vv vv representing  actions aa order assignments  empirical evaluation  xv xv xv xv dis implemented parallel greedy approaches dis  tance  traditional csp different values cussed earlier three distance measures tested  signed each variable rep benchmark set logistics problems provided  resent action set aa lead plan blackbox plannerkautz  selman  experi  distance  use actionbased distance plan ments run linux pentium  ghz machine  comparison ﬁrst need translate set  values assignments set action instances each constraint complicated en  doing comparison using actionbased distance codes previously solutions                                                    ijcai                                                              prob prob  prob prob  prob  prob               prob  prob prob prob prob prob      δa                                   δs                                                                                                      δc                                                                                    random                                                                                                                                                                  table  average solving time seconds ﬁnd plan          ing greedy ﬁrst  rows random row approaches                                                                                                                                                                            prob  prob   prob   prob   prob   prob                               δa                    δs                              δc                                                                table  each given value each cell shows largest  table  comparison diversity solution sets solvable each three distance measures δa δsand  turned random greedy approaches            δc order maximum values cells bold                                                        proach returns diverse solutions                                mb ram each problem   test different random approach δa δs δc respectively  values ranging     increases analysis different distancebases overall   maximum value gpcsp able solve  combinations three distance mea  ﬁnd solutions plan horizon horizon par sures δaδsδc using greedy approach particu  allel plan steps limit                         larly interested investigating following issues    greedy approach outperformed paral •  easy difﬁcult ﬁnd set diverse  lel approach solved signiﬁcantly higher number prob lutions using different distance measures   lems focus greedy approach values distance measure  each combination given distance measure difﬁcult time consuming solve  given en  record solving time output averageminmax coding horizon limit high value  pairwise distances solution sets                  ﬁnd set solutions given problem  baseline comparison baseline comparison    using different distance measures  implemented random approach approach •  use global constraints use random value ordering  correlationsensitivity  csp solver generate different solutions different distance measures diverse                                                            lutions returned using distance measure δ ac  enforcing pairwise ddistance apart each dis                          ∈         tance continue running random algorithm cording δ δ δ δ  δaδsδc   ﬁnd kmax solutions kmax maximum value regarding table  shows highest solvable value  solve greedy approach particular each distance base δa δsandδcforagivend  value general want compare approach pair enforcing δa appears difﬁcult δsand  using global constraint random approach δc easiest gpcsp able solve     effectively generate diverse set solutions looking  combinations respectively δa δs δc gpcsp  average time ﬁnd solution solution set solves ddistantkset problems easily δs δc   maximumaverage pairwise distances ≥  δa fact solutions different ac  randomly generated solutions                         tion sets diverse regard δa likely cause different  figure  shows comparison average solving time trajectories causal structures diverse regard δs  ﬁnd solution greedy random approaches δc δs δc δc solves problems eas  results show average random approach takes ier instances problems  harder instances  signiﬁcantly time ﬁnd single solution regardless shown table  conjecture solutions  distance measure used greedy approach assess actions bigger problems causal  diversity solution sets table  shows compar dependencies actions harder reorder  ison  average pairwise minimum distance actions create different causalstructure  solutions sets returned random approach  running time comparisons  combinations  maximum greedy approach ﬁnd solved three distance measures gp  set diverse plans comparisons three csp takes time δa  combinations  distance measures example ﬁrst cell   δs  combinations  δc ﬁrst three lines  table  implies minimum pairwise distance av table  show average time ﬁnd solution  eraged solvable ≥  using random approach diverse kset each problem using δa δs δc     diverse ta ts tc respectively general ta small  greedy approach using δa distance measure  est ts tc problems harder  cases using global constraints enforce minimum pairwise enforce δa δs δc indicated table   distance solutions helps gpcsp return signiﬁcantly encodings three distances solved given  diverse set solutions average greedy ap kthenδa takes time tighter                                                        straints pruning power global constraints    logeasyprob rocketaprob loga  prob logb  prob simpler global constraint setting  logcprob logdprob                               test table  show crossvalidation         increments     tween different distance measures δa δsandδcinthistable                                                    ijcai                                                                         δa   δs   δc                                                        reference plan π each cost term computed                  δa                          δs                         using relaxed temporal plan πr gerevini saetti  serina                  δc                                                                                   πr plans computed algorithm called  table  crossvalidation distance measures δa δsandδc laxedplan formally described illustrated gerevini                                                                          cell row column  δ δ  indicates combina saetti  serina   slightly modiﬁed pe                                                  nalize selection actions decreasing plan distance  tions solved distance δ  average value                                  relaxedplan  d d distance measured according δ δ reference plan speciﬁc change  respectively   ≥  example    means    computing diverse plans similar change                             δsδa                                           combinations solvable δ  each scribed fox et al   concerns heuristic                                                      function selecting actions achieving subgoals  average distance solutions measured δa                                       relaxed   ∗  results indicate enforce relaxed plans modiﬁed function                                                      plan extra  term penalizes action  δa likely ﬁnd diverse solution sets accord                               ing δ  ∗ andδ  ∗  πr addition decreases distance π πr π                                                plan repair context investigated fox et al   enforce δs δc likely ﬁnd  diverse set solutions measured distance penalized addition increases distance                                                          term modiﬁed evaluation function  measures enforcing using δc likely                                  ∗                  measure decrease plan distance caused adding  comparable diverse degree δs   dc vice versa                                                                                                 removing π − π ∩ πr π − π − ∩ πrwhereπr  observe ds highly dependent difference  parallel lengths plans set contains new action atheαcoefﬁcients eterms                                                      used weigh relative importance values  smallest ds da dcwhenallk plans  samesimilar number time steps consistent ﬁrst  terms automatically derived expression                                                                                            fact δ δ depend steps plan deﬁning plan metric problem gerevini saetti                                                     serina  coefﬁcient fourth new term  execution trajectory δs does                                                        αd automatically set during search value propor                                                        tional dδaπ πwhereπ current partial plan    finding diverse plans lpg                     construction general idea dynamically increase  lpg localsearchbased planner incrementally mod value αd according number plans  iﬁes partial plan search plan contains generated far higher search  ﬂaws gerevini saetti  serina  behavior process consists ﬁnding solutions  lpg controlled evaluation function used diversiﬁcation importance eterm  select different plan candidates neighborhood increase  generated local search each search step elements  search neighborhood current partial plan π  making lpg return set plans  alternative possible plans repairing selected ﬂaw π order compute set kddistant plans solving  elements neighborhood evaluated according ddistancekset problem run lpg search multiple  action evaluation function gerevini saetti  serina times problem solved following ad   function used estimate cost ditional changes standard version lpg pre  adding removing action node partial plan processing phase computing mutex relations reach  π generated subsections present ability information exploited during relaxed plan  modiﬁcations lpg computing diverse plans using struction runs ii maintain  actionbased plan distance                       incremental set valid plans dynamically select                                                        reference plan π search concern    revised evaluation function diverse plans    ing ii let   sn set valid plans                                                                                             order manage ddistancekset problems function computed far cplans si subset  extended include additional evaluation term containing plans distance greater equal  purpose penalizing insertion removal reference plan si ∈  reference plan π  actions decrease distance current partial plan used modiﬁed heuristic function plan smax ∈  π adaptation reference plan π general maximal set diverse plans   consists weighted terms evaluating aspects                                                                                     cplans    quality current plan affected addition smax  argmaxsi∈p             si                      orremovale   ofa                            smax  incrementally computed each time local search                                                 ea  αe ·execution costa αt ·temporal costa  ﬁnds new solution addition used identify                                                    reference plan smax used deﬁning initial              αs · search costa  αd ·π − π ∩ πr state partial plan search process speciﬁcally ini    ear  α ·execution costarα ·temporal costar tialize search using partial plan obtained randomly                                                    removing actions randomly selected plan          α · search costar  α ·π − π − ∩ πr                                                 set cplanssmax ∪smax                                                          process generating diverse plans starting dy  ﬁrst three terms forms unchanged namically chosen reference plan continues  standard behavior lpg fourth term used  computing diverse plans new term estimating coefﬁcients normalized value   using  proposed plan modiﬁcation affect distance method described gerevini saetti  serina                                                     ijcai                                                    
