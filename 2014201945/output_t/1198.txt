      automatic decision piano fingering based hidden markov models                yuichiro yonebayashi hirokazu kameoka shigeki sagayama                          graduate school information science technology                                          university tokyo                           yonebayashikameokasagayamahiltutokyoacjp                          abstract                            past research automatic ﬁngering decision                                                        focus scoretoﬁngering conversion instead fo      paper proposes hidden markov model         cus aspect ﬁngeringtoperformanceconversion      hmmbased algorithm automatic decision   easily formulated mathematically introduc      piano ﬁngering represent positions    ing probabilistic approach      forms hands ﬁngers hmm  states      model resulted sequence performed notes    automatic decision piano fingering      emissions associated hmm transitions opti      mal ﬁngering decision formulated viterbi  formulation piano fingering      search ﬁnd likely sequence state tran automatic decision piano ﬁngering formulated      sitions proposed algorithm models    problem ﬁnd likely ﬁngering adopted      quired efforts pressing key ﬁnger fol trained piano players essentially involves probabilistic      lowed key ﬁnger   modeling piano performance      twodimensional positioning ﬁngers piano  process piano performer plays sequence      keyboard diatonic chromatic keys funda notes given score midi format considered      mental functionality algorithm veriﬁed consisting following three steps      through experiments real piano pieces    read input “score”      framework extended polyphonic music       decide “ﬁngering”      containing chords                                  produce music sounds “performance”                                                        direct scoretoﬁngering conversion                                                          face difﬁculty ﬁnding reasonable local objective func    introduction                                       tion representing ease playing example sum  paper proposes algorithm automatic decision ﬁngering costs hart et al  kasimi et al   piano ﬁngering based hidden markov models hmms   lacks mathematical welldeﬁned meanings  huang et al  goal formulate reason contrast focus natural order  able hand motion piano performance achieving ﬁngeringtoperformance conversion    highly reliable decision piano ﬁngering algorithm design ﬁngering model incorporate var  expected utilized presenting model performance ious probabilistic factors representing physical constraints  piano learners estimating required playing skill piano ﬁngering design local objective function mathe  pieces considered motion planning matically considering imaginary piano performance  robot piano player proposed approach paper determine likely ﬁngering producing  widely applicable general robot’s manipulation imaginary performance through maximum posteriori  tasks using robot ﬁngers                             map approach imaginary performance perfectly cor    number existing papers piano ﬁngering decision responds given score overall function au  dealt monophonic melodies single hand through tomatic ﬁngering decision given score  statistical methods noguchi et al  ﬁngering cost  functions deﬁned notes hart et al   mathematical model fingering hmm  kasimi et al  rulebased methods hayashida fingering problem unless music notes pre  mizutani inkasimi et al  chords poly ceded andor followed notes fingering actually  phonic melodies single hand studied problem note notes played  statistical method presented noguchi et al  time note length  quired score data tagged ﬁngering information assigned preceding notes implies ﬁngering  rulebased approach hayashida mizutani  needed essentially problem ﬁnding optimal sequence  handle conﬂict resolution applicable rules smooth state transition typically state ﬁnger                                                    ijcai                                                    pressing key corresponding note pitch state  ﬁnger pressing key piano performance  interpreted process generating sequence  performed notes sequence states posi  tion form hands ﬁngers contains various  information duration key pressing note strength  tone pitch note length    conversely automatic ﬁngering decision considered  problem estimating ﬁngering ideal  adopt likely given sequence  performed notes purpose model ap  proximation described later factorize sequence  performed notes triplet sequence yotwheret  sequence note lengths sequence pitches  sequence information include  note strength tone problem solved  calculate ﬁngering maximizes syot  given sequence yot    important probability player  make smooth transition current note  note state transition current state figure  piano ﬁngering model using hmm  state hands ﬁngers assuming state  hands ﬁngers each note ni yioiti depends  state previous note ni− note length probabilistic structures learning process al  ti− probability ﬁngering used se ways essential consider physical constraints ﬁngering  quence yot   performed notes approximated reasonable parameter values examine model  bayes’ theorem follows                           using formulation possible handle                                                        expressive performances given imaginary expressive     syot ∝ yotsp                                                      music performance likely ﬁngering pro       ≈      yioiti−sisi− sisi−  duced performance estimated according                                                        posteriori probability maximization principle  · denotes probability    consequently arcemission hmm mealy machine ﬁt  model approximation  ﬁngering decision model states ﬁngering decision model described typically  hands ﬁngers hidden states sequence contain large number model parameters pa  performed notes results state transition process ﬁrst step introduce following three approxi    output probability function transiting mations narrow parameters small number  state state represented bss  →    set possible note transitions simplifying states hands note    function bss indicates likelihood given ﬁngering information  transition → playing respective note transi suppose ﬁnger set ﬁngers playing note  tions example let state using th ﬁnger set notes point time hidden state  right hand th ﬁnger consider ﬁngering pitch transition f→g output  transition th th fact perfor words ignore thatis  mance f→g natural a→g shown                                                           syot  figure                                                                                                                                           ∝     yioiti−sisi− sisi−    model formulation through hmms                                              using hmms ﬁngering decision looked       ≈     yififi− fifi−         probabilistic inverse problem estimating ﬁngering hid  den sequence performed notes paral fi ﬁnger set ﬁngers playing ith note set  lel principle modern speech recognition fingering notes through approximation set introduced  decision formulated problem calculating section  considered set possible pitch  maximizes posteriori probability syot transitions  formula  viterbi search huang et al  approximation intended recognize funda    stated main purpose paper mental functionality decision model limiting  probabilistically formulate ﬁngeringtoperformance pro putoutput data pitches primary input ﬁngering  cess ﬁts hidden markov models hmms decision ﬁngers primary output decided  misunderstood hmm represents class expect following drawbacks                                                    ijcai                                                      • limiting note information affects ﬁngering      pitches miss important factors ﬁnger      ing decision example decision note      lengths account decision accuracy      decrease    • impossible decide ﬁngering broad sense      positionform hands elbow motion      limiting decided information ﬁngers      position narrow range possible applications      algorithm estimating required playing      skill piano scores based ﬁngering information    problem expected solved including    note information parameters function bss    →  ∞ expected solved deﬁning  possible ﬁngerings broad sense each point time  discrete set deﬁning state transitions inside set  ignoring octave position                               figure  distribution output probability function  ignore octave position pitches deﬁning set                                               →     means example pitch transition  setting model parameters  performed middle keyboard supposed  performed right side keyboard necessary structure parameters  keys equally easy play       ﬁngering decision model speciﬁc values    approximation intended reduce domain taken model parameters reasonably explain mo                                                        tion structure hands ﬁngers piano perfor  output probability function bss  →  ∞  difﬁculty playing lowhigh pitch keys mance important choose values  rightleft hand considered ﬁngering model parameters reﬂect physical structure  cision model negative effect deciding human hand conventions actual ﬁnger  hand used play note possible way ing decision example concerning physical structure  deal problem adjust output probability func ﬁnger lengths tendency stretch  tions bs each octave position pitch transitions st ﬁnger thumb ﬁngers eas                                                      ier nd rd th th ﬁngers  adjustment each bss  range keys easily played differ accord taken account decision conven  ing ﬁnger used                                tions model fact distance ﬁnger                                                        pair usually corresponds distance key pair  simplifying output probability function           ﬁngercrossing occurs                                                        speciﬁcally decide values model pa  express pitch−→ transition set  dimensional vector key position order rameters based following ideas  consider twodimensional rightleft backfore ﬁnger • horizontaldirection element mean  position keyboard suppose output prob probability function close distance    ability function bss  →  ∞ deﬁned contin key pair corresponding distance ﬁnger  uous space follows twodimensional gaussian distribu pair example transition rd ﬁnger  tion                                                     th ﬁnger corresponds twice width white      figure  shows example distribution bss key  shows origin plane played • depthdirection element mean output             rd ﬁnger   right hand note played probability function close difference                     th ﬁnger   right hand likely tween distances wrist ﬁngertips  mean distribution                                                          •    approximation intended decrease number tendency stretch st ﬁnger  parameters enter deﬁnition function ﬁngers easier reﬂected                                                            choosing larger value variance corre  bss  →   ∞ given hidden state transition  →                                                  sponding output probability function    strongly constrains form function • fact ﬁngercrossing likely occurs transi    bss example bss locally adjusted tion st ﬁnger ﬁngers  fore accuracy improvement parameter learning  reﬂected choosing corresponding output  limited possible way solve problem relax probability function distinct peaks  constraint way example replacing gaus peaks correspond normal ﬁngering ﬁnger  sian distribution distribution polygonal form  crossing respectively                                                    ijcai                                                      • fact ﬁngering making transition      rdth thth ﬁngers avoided      cause limited independency ﬁnger pairs      reﬂected choosing smaller value      corresponding state transition probability    experiments  chapter describes experiment performed show  fundamental functionality proposed algorithm    conditions  used piano scores monophonic melodies single  hand speciﬁcally righthand monophonic melodies  bach’s inventions   include  notes  total three approximations introduced  section  larger piano scores  used experimental evaluations plan increase figure  reasonable parts decided ﬁngering  sample data current paper focuses formu  lating ﬁngering decision problem leaving parameter  learning issues future study    initially set values model parameters  scribed section  tuned manually  decided ﬁngering likely possible  manual tuning model parameters regarded  primitive learning process suppose little risk  overﬁtting parameters involved  manual adjustment    results  decided ﬁngering reasonable places  seen figure   distance key pair corresponds      ﬁnger pair                                           figure  problematic parts decided ﬁngering  fingercrossing introduced appropriate places  difﬁculty playing black key st ﬁnger  analysis      reﬂected                                      reasonable parts a–c decided ﬁngering  decided ﬁngering problematic places considered resulted appropriate choice model  shown figure                                  parameters described section  prob  difﬁcult play key consecutively lematic places considered      ﬁnger note lengths                 approximations introduced section  speciﬁcally   distance key pair corresponds problem comes fact note length infor      ﬁnger pair hand motion awkward            mation ignored sequence yot                                                         problem comes fact set hidden                                                            states lacking model parameters representing  table  experimental values state transition probabil hand motion  ities                                                        problem caused assumption                                                        section  current state hands ﬁngers does                                                        depend states notes previous note                                                          manuallyadjusted model parameters                                                        far values given parameter setting                                                        guidelines described section  values reproduced                                                        tables    particular tendency avoid                                                        ﬁngerings limited independency                                                        involved ﬁnger pair achieved through corresponding state                                                        transition probabilities lower approximately                                                         percents state transition probabilities                                                    ijcai                                                      table  values mean gaussian distribution output probability functions      table  values covariance gaussian distribution output probability functions                          figure  various cases ﬁngering decision                                         ijcai                                       
