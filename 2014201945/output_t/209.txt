              qcsp practical virtue restricted quantiﬁcation                          marco benedetti∗ arnaud lallouet jer´    emie´ vautard                                        lifo  university orleans´                                bp  – orleans´   cedex  france                                       namesurnameunivorleansfr                          abstract                          ∃x∈  ∀y∈ ∃z∈  xy∧xy  ∧z x                                                                                                             qcsp    language introduce extends      true intuitive way entering new sce      framework quantiﬁed constraint satisfaction    nario thinking game players      problems qcsps enabling neatly ex     player associated existential quantiﬁer—we      press restricted quantiﬁcations chain nested ∃player—the related universal quantiﬁer      csps interpreted alternately conjuncted  ∀player goal ∃player satisfy each      disjuncted restricted quantiﬁers turn straint satisfy csp goal ∀      convenient solution crippling modeling player violate constraint overcoming      issues encounter qcsp and—surprisingly—     opponent’s effort players play each      help reuse propagation technology                                                       turn ﬁnite ﬁxed number rounds moves      prune search space qcsp solver—which     consist assigning values variables vari      handles arithmetic global constraints—   ables assigned each step statically decided      exhibits stateoftheart performances           lefttoright order preﬁx problem exam                                                        ple preﬁx “∃x ∈  ∀y ∈ ∃z ∈  ”    introduction                                          ∃player plays ﬁrst given chance  extend qcsp quantiﬁed constraint satisfaction choose value time ∀player  problem framework introducing new language called assign value variable finally ∃player assigns  qcsp extension motivated difﬁculties game terminates satisfaction set  experienced modelling solving nontrivial prob straints evaluated say quantiﬁed csp qcsp  lems plain qcsps let start describing qcsp true ∃player winning strategy—ie  order point modeling weaknesses manage satisfy constraint universal op    csp search problem established giving set ponent does—and false example  true  variables ranging ﬁnite domains conjunction false change preﬁx ∀x∃y∀zas  constraints mentioning variables example given opposed purely existential csp case order quan  ∈   ∈  ∈   csp    tiﬁers important ﬂipping  play                                                                 ∃ ∃ ∀                    ∧         ∧                    preﬁx existential player looses game               xy                              qcsp widely believed strictly “powerful”  solved selecting possible value each variable csp entire hierarchy qcsp problems exists  satisfy three constraints example equivalent csp formulation written “com    valid solution   pactly” qcsp pspacecomplete csp npcomplete   csp formulations naturally suited model problems openly perceived games hu  realworld problems countless applications exist mans board games underlying game    sake paper csp problem best viewed structure camouﬂaged section   decision problem variables quanti despite expectation engendered strength  ﬁed existentially existence single consistent language ﬁnd literature single account real  assignment sufﬁces answer problem positively world model actually solved qcsp solver  ∃x∈  ∃y∈ ∃z∈  xy∧xy  ∧z x   partial explanation qcsp solvers                                                        fancy miss quantiﬁed constraint propagators  seemengly inconsequential amendment making quan forward inference rules vital cut search space  tiﬁers explicit leads play entirely new ﬁeld bor  deaux monfroy  variables realworld model mean model designed cap  quantiﬁed universally example means ture preexisting humanintelligible semantics                                                       problem—eg ones section —as opposed random models    ∗this author supported “le studium ” france obey merely syntactical generation patterns                                                    ijcai                                                     limitation discourages prevents people invest all” reshape formula prenex qcsp  ing production realistic models realize “such that” connective stays  recently built fullﬂedged qcsp solver benedetti et al junction ∃player involved implication  manages constraints models ∀player concerned actually ask                                                                   ∀        ∃        ∀        ∃  “natural” cases stay surprisingly difﬁcult devise ∀xl →∃yl ∧∀xl →∃yl ∧       pinpoint problem let step qcsp equivalent prenex form explicit disjunction  game ∃ ∀ let observe games                                                              ∀   ∃  ∀  ∃    ∀ ∨  ∃ ∧  ∀ ∨  ∃ ∧   invariably come rules choices pre                      cluded function previous choices player statement  shows natural way express  opponent elementary example prohibi stricted quantiﬁers extend language handle  tion board games play cell occupied disjunctions shift general nonconjunctive csps  qcsp game means players hamper critical opportunity inherit huge  general assign variables arbitrary ways set propagators implemented purely  legal choices dynamically restricted game lifespan conjunctive case fall inability ex  relation moves occurred comply ercise csp tools real problems having nice formalism  underlying game discipline observance disci just proofofconcept implementation  pline precisely plain qcsps ﬁnd difﬁcult enforce solution design limited disjunctive extension    support dynamic ranges variables provided qcsp formalism express  preﬁx  ranges    whichever values disjunctions originating use restricted universal  chosen embed game dis quantiﬁcations ii capable inheriting exer  cipline constraints matter stating cising reasoning core standard qcsp solvers    player chooses forbidden value combination values ∀x   fol perspective syntactic shape  looses immediately threat promptly posed       problems introduce—the qcsp prob  ∃player consider membership set →     lems generalizing example —is chain  legal moves just additional constraint ∃player                                                           ∀        nested alternated quantiﬁcations  cheats makes constraint false looses game    strictions depicted aside language                                         ∀                    ∃    similar expedient used player    cognitively adequate represent gamewith  game loss constraints satisﬁed     rules scenarios modeler’s viewpoint section  thing simply imposed just conjunct    ∧      time amenable  ing additional constraint solve ∀  discipline problem slightly modify ∃     cided reusing existing technology solver’s                                                                 viewpoint section  each restric  malization reformulationbased approach pre ∀x  sented ansotegui´ et al  case twoplayers  tion rule standard csp inside  qbf games reasons discussed section    →     usual propagation procedures capital  comes unsatisfactory remedy problem          ized designed exter  let introduce different solution based handling ∀    nal searchguiding mechanism evaluates  game rules explicitly shall shortly qcsp    truth value alternated chain csps  plainly state new formalization lacks                                                               ∃xn  function truth value leaves  support disjunctions constraint sets consider    ii interleaf propagation scheme  following problem rules provisionally absent                                                               ∧    reconciles separate csps makes             ∀x∃y∀x∃ycxxyy                         share information sound way ﬁnal                                                           l∃  let uppercase letters denote sets variables    note let observe “gamewithrules”    single variable domains shown suppose legal cxyxnyn scenario target deﬁnitely marginal  opening moves ∀player characterized set     modeling case contrary usage                 ∀  straints csp assignment variables restricted quantiﬁers natural section                                               ∀  legal opening iff solution ends wondering nontrivial problems mod  classical csp sense ∃player’s reply second step eled plain qcsps relation approach                            ∃  constrained csp xy choices recent contributions close ﬁeld qbf decision pro  ∀player’s side known assigment cedures discussed section  implementation                                     ∃  considered solves  likewise rules fullﬂedged solver experiments quantiﬁed models   ∀                ∃  xyx xyxy provided cap presented section  section  summarize  ture scenario introduce restricted quantiﬁers qxl tributions present directions future work  ∈∃ ∀ quantify span  assignments comply cspbased   motivating examples  rule compact notation example written concepts involved modeling following com         ∀          ∃              ∀   ∀xl ∃yl xy ∀xl xyx   mon problems naturally captured conjunction                 ∃                                      straints questions ask require universal            ∃yl xyxycxxyy                                                        quantiﬁers disjunctions exactly qcsp style                                                   ∀   reads “for assignments problem  suppose partial ordering   established                                        ∃  holds exists assignment holds rank solutions given csp  csp                                                    ijcai                                                     compactly characterize best solutions wrt problem  conformant scheduling consider tasks              qcsp   gives problem elegant onemove game duration δ δn requiring resource rn  formulation ∃xp ∀y              subject ordering constraints o⊆n×n                                                         j∈o means task end task starts  following example cadoli et al  solutions want schedule tasks ﬁnish time  ii  csp represent sets ⊆ relation creates preferences comply iii instantaneous resource  example  strategic companies given collec sumption exceeds ﬁxed capacity global                                                              cumulative                      tion companies set goods relation prod⊆ straint   tδrtnδnrn provided  c×g  specify goods each company produces com csp solvers check condition  panies reciprocal ﬁnancial participations subset degree uncertainty actual resources required     ⊆c  owns  c∈c said each task hostile environment impact sub                                                                               em           controlling set company controlling ject certain constraints rrn  possible                                                      devise adversarysafe schedule  sets represented relation contr⊆ ×ca                  ⊆  set companies “productionpreserving”—written ∃ttn∧ij∈otiδi ≤ tj  ∀rrnemrrn  pp             —if covers goods cumulat cumulativer tδrtnδnrn ∧ maxtiδi ≤  ing goods  g∈prod ∈ obtain  ii closed controlling relation          ∈            ⊆        ∈                    example   consider three tasks completed  each   contrifc     sastrategic set                                              subsetminimal productionpreserving set pp time surpassing capacity   property lost each proper subset strategic set δ  δ  δ     task   company ∈ strategic intuition sold ﬁnish task  starts seek attacksafe schedule  impact overall portfolio goods                          assump  trolled companies belongs strategic set                           tion en                                               ∀ss ⊆ ∧ pps ∧ ∈ ∃s pps  ∧ x∈ ⊂                                  vironment add                                                                                          unit cost  prod contr relations deﬁned easily                                tasks  expressed propositional logic adopted restricted                             picture aside  version enable direct comparison boolean reason                              shows opti  ers section  realistic models—mentioning explicit                              mal schedule  amounts goods capacity production percentage                              subject critical  participations—still ﬁt nicely csp vocabulary attacks linear schedule exceeds  solution  lay outside natural reach propositional logic qcsp instance meets requirements  problem  game strategy let set variables xi                                        scribe state step evolving al  formalizing deciding qcsp                               ∀     ∃  ternate moves opponents  selected let set variables dvv∈v family  ﬁnite set possibilities game deﬁned tuple   pa ssa  i                                         domains tacitly assume underlying           csps state pos                              ⊆                  sible precondition axiom pax satisﬁed global version  denote                                                             Π  leads new state deﬁned successor state axiom set v∈w dv tuples  projection tuple            ssax initial winning conditions recog set tuples  variable set variables                                                                                                         nized ix gp respectively ∈p∀p∃ denoted  constraint couple                                                               ⊆          ⊆                           let ∀ denote ∃ viceversa ﬁrst player p∃ wins    noted var  game rounds ∃xixws∃  solcacsps set constraints csp note                                                        varc  c∈c varc variables solcc∈c     wsqiqximi  paxi−mi ∧ gpqxi−∧                                                                           ssa            wsq        solc solutions where—for ⊆  ⊆                            xi−ximi                                       ∪u                                                        ⊆  —it   t∈d     tw ∈a ∧ tu ∈bwe  ik wsqigpqxi−          range ⊆ function domain  example shows qcsp escaping intricacies associates each ∈ subset rv ⊆ dv  game formalization ﬁnd gent rowley  deﬁnition  restricted quantiﬁer restricted quantiﬁer                                                 n×m  example  connect n×m−k let bij ∈p∀p∃     tuple qwrc ∈∃ ∀ set  matrix variables representing board state gen variables range  csp                                    ×  eralized connect game played board                           tempt align signs existence winning strategy deﬁnition  qcsp  qcsp free variables  ﬁrst player modeled posing pabxbnx  couple qsg quantiﬁcation structure qs  x∈m column current using ﬁnite possibly sequence qqn restricted                                                      quantiﬁers qi qivirici holds  ∧i∈nj∈mbij bij  ↔ jx ∧ bij ∧ bij ∧ bi−j                                                           • ∀i ∈ nvi ∩  ∅  ⇒ vi ∩ vj  ∅               ssabb  ∈p∀p∃ current player                                                                                    • varci ⊆ wi ∪ wi  j≤i vj  initial condition ib ∧ij bij  csp  junction alldifferent constraints excluding each alignment csp called goal varg ⊆ wn ∪ iff  ∅                                                        qcsp problem said closed                                                    ijcai                                                     consistently examples presented com base case cascadeg   ⊥ ∈                                                                                             pactly denote qcsp writing                       v∅  propgr                                                              cascade              qv ∈ cqnvn ∈ rn cng                                                                                     inductive case let qwrcqsg    closed qcsp   quantiﬁcation                                         ⊥                            propc  ∈ ∪   structure exists           denotes          csp ⊥  stands csp contains       v∅  cascadep    ∀                                                           cascade  ⊥  q∃  constraint given qcsp     problem                            range                                                                      cascade          qs   qvrc qnvnrncng free vari                 wr                                                                       qs  cascadeqs     ables  result assigning value a∈dv variable                computed using                                                                                             ∪     qs    ∈  written  deﬁned qvrcv  new range free variables   aqnvnrncnv  agv  assign intuition propagation level each restricted  ment csp turn obtained collecting result quantiﬁer qwrc “authoritative” source infor  assignments each constraint given constraint mation new ranges  conversely variables  itiscv  ac v∈                                                          var private temporary version ranges em   cv  aw    ∈    ployed prunings realized dominating scopes                     ∃t ∈  tw  ∧ tv notion extends natu cumulated collective result ﬂows through chain                                               rally tupleassignments  ⊆  t∈d authoritative propagations boost vanishes                                                                                      ⊆  ∈  range  let write alternated structure qcsp endows cascade prop  t∈w mean ∀v ∈ wtv ∈ rv                       agation intrinsic advantage usual quanti  deﬁnition  evaluation qcsp closed qcsp  ﬁed arcconsistency qcsp turns global consistency  qsg evaluates value truefalse follows check values universal domains local property           eval  true  eval  ⊥false      decidable level single constraints csp rule  base case                                     restricted quantiﬁers way expunge values                                               inductive case let qs qwrc qsitis    universal existential domains symmetrically just      evalqsg  true iff  ∀ ∈ reusing quantiﬁcationunaware csp propagators                                                                                                            t∈solcitisevalqs gw  trueor validity preserving mapping op  qcsp →                                                                                         ii q∃ exists t∈w t∈solc qcsp        ∀p ∈ qcsp     evalp evalopp                                                                                                      evalqs gw  true                       say op contractor ∀p qsg ∈                                                                                                                                                   qcsp    qs  opp  qs ≤qs ii  decision procedure implement closely mimics                  eval                                       varp  ⊆ varp  iii qwrc ∈qs  deﬁnition   based classical depthﬁrst                              cursive search andor tree associated quantiﬁcation  ∈qsifv ∈ ∩ ⊆ rv  structure csp solvers form forwardinference theorem  cascade propagation validitypreserving  called propagation key importance prune search contractor qcsp problems  space exercised each search node peculiar  qcsp exactly way propagation operates property guarantees soundness termination  way builds standard csp propagation decision procedure performs cascade propagation                                                                                                             model csp propagation scheme parametric func each search node details benedetti et al       prop ·  tion     —where parameter csp—whose     discussion related works  main codomain families ranges varp                                                        concerns unsuitability qcsp model real cases  result  propp propagation meant                                                        raised far current random models  contract range each variable reduce                                           branching factor search preserving solu clash issues addressed paper qcsp  tions  means variable ∈ varp  designed fact provide crucial beneﬁts         ⊆ rv time each solution coming development realistic models                                                                          ∀  ∈ solp iftv ∈ rv tv ∈ propagation existence “ discipline” issue quantiﬁed  computed chaotic iteration greatest common ﬁx junctive languages recently identiﬁed qbf  point domainreduction operators associated each community ansotegui´ et al  static version  constraint ∈  operator prunes values question discussed case qbf encod  fail local consistency check apt  ings multivalued qcsp variables boolean mapping                                                                                                         range range ∩ needs avoid “illegal” combinations gent et al     ∅ deﬁne   rvrv ∈   problem impacts qcsp remarkably  rvrv ∈ note projections ranges qbf does bother mod                                                   eler’s viewpoint required human write  subdomains     analogous propagation qcsp follows understand qbf speciﬁcation qbf obtained                                                        through computerassisted compilation starts  deﬁnition  cascade propagation given propagation                                             scheme prop qcsp problem  range                                                              weakness quickly realized witnessed  free variables  qcsp problem cascadep  ob independent proposal framework focusing simplifying  tained cascade propagation deﬁned follows qcsp modeling twoplayer games bessiere verger                                                     ijcai                                                     higherlevel language terminates process called  cnfization consists casting meaning  structured formula cnf conjuncting clause  based local meaning each subformula through help  auxiliary variables plaisted greenbaum  natural workaround discipline problem comes  mechanism reduce conjunctive matrix entire  meaning  trick adopted—  tacitly—in qbf models reason library  realworld instances exists giunchiglia et al     structured qbf encoding technique—applied  twoplayer games—has proposed ansotegui´ et al   indicator variables introduced connect  suited qbf satplan propositional encoding pre  conditions effects kautz selman   approach shown lead searchbased solvers ex figure  running time comparison “strategic company”  plore artiﬁcially enlarged search spaces effect family example  section  axis gives number com                                                        panies set compare qecode stateoftheart qbf  mitigated employing encodings tuned trigger                                 synergy topdown search boolean inference solvers qbf formulation qbf  mechanisms feeding solver information plicitly deﬁned table constraints viable solution ex  special role indicator variables recently dnf rep                                                        ists c− usually happen sets  resentations boolean constraints adopted possibly arithmeticglobal constraints option                                                    duce search space sabharwal et al  zhang   use reiﬁed version each constraint bordeaux     approaches involve intricate details intro reiﬁed version cx consistent constraint                                                                                                    duce explicitly languagesemantics demand search ∈  satisﬁed                                                                                    based solvers exploit booleanonly concepts dnf cx consistent   focus humanlevel games general                                                                                      write ∃x∀y∃a bcx ∧ cx ∧ cx ∧ ¬a ∨  issue modeling concepts through quantiﬁed constraints generalized version rewrite shows qcsp    conversely restricted quantiﬁcation fairly general pspace inescapable complications arise practice  neat solution inspired analogous forms quantiﬁcation reiﬁed version provided csp environment  modeling languages qual constraints ii shift reiﬁed version  iﬁed description logic bounded logic programming considerably detrimental solver’s viewpoint  restricted quantiﬁcation logic semantics theory reiﬁed constraints prune values domains    restricted quantiﬁers—which allow reuse propaga long don’t know value parameter  tion technology exclusively designed search  based reasoners—can fully “back ported” realm  implementation models experiments                               qbf yield qbf language deﬁned implemented decision procedure qcsp sys  restriction qcsp boolean variables clausal                                                       tem built csp solver gecode schulte tack  straints qbf studied forthcoming paper  solver—called qecode—accepts wide set  ﬁrst application presented section    constraints input language publically available    qbfinspired techniques mentioned benedetti et al present  terpreted workarounds bypass restricted quantiﬁers accepts constraint language expressive qecode does  qbf ﬁrst evidences suggest cfr section suited public domain model exists  stricted quantiﬁers equally rewarding qbf contribute initial test suite devising qcsp gen  introduction qcsp supported compelling arguments erators examples section  example    major obstacles prevent adapting solutions rely nonboolean variablesconstraints straight  modeler responsible captur translation qbf qbf generators produce  ing semantics alternating structure  equivalent propositional formulations enables  threatens fundamental assumptions qcsp exercise qbf solvers noticed  models humanwritable readable second comparison relative signiﬁcance biased  qcsp constraints undergo arbitrary syntactic manipu favor qbf solvers does leverage strengths  lations clauses illustrate problem let consider qecode                                                              nonboolean variables propagators  qcsp  formula ∃xcx∀y cx cx  complex semantics important weakness exposed  way attain qcsp version formula data structures tailored boolean reasoning  deﬁne single constraint ∪ meaning results shown figure   “strategic  cx ∧ cx  ∨ cx  processed companies” case comes qbf solver  quantiﬁed extension gacscheme nightingale   heavily demanding space time depending actually latest version gecode knows  technique employed feasible small ex eschew restricted quantiﬁers modeling                                                    ijcai                                                     
