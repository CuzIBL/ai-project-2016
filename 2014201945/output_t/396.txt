                   diagnosability testing        satisﬁability algorithms                                      jussi rintanen alban grastien                       national ict australia australian national university                                             canberra australia                          abstract                            structure paper follows section                                                         present transition framework formally deﬁne      show testing diagnos  diagnosable section  contains main      able reduced satisﬁability problem contribution work encoding diagnosabil      satisﬁability algorithms yield efﬁcient ity problem formula classical propositional logic      approach testing diagnosability               section  show formulae used      diagnosability question demonstrate diagnosable opposed      possible know given ex   showing section  contains demonstra      hibited failure behavior basic question tion scalability approach transition systems      underlies diagnosis closely large state spaces sections   conclude      lated general questions possibil paper discussing related work pointing future      ity know given facts behavior    research directions      work combines twin plant construct      jiang et al basis diagnosability   preliminaries      testing systems enumerative represen  deﬁne transition systems following sampath et al       tation satbased techniques ai planning      form promising approach ﬁnding    deﬁnition  transition systems transition      paths large transition graphs            tuple  x Σo Σu Σf δs                                                          •  set states    introduction                                         • Σo set observable events  faults dynamic systems diagnosed observing • Σu set unobservable events  sequence events taking place inferring • Σf set failure events  occurrence unobservable failure events sampath et al                                                          • δ ⊆ × Σo ∪ Σu ∪ Σf  × transition relation   main question arising setting                                                          •  ∈  possible infer failure occurred sys    initial state  tem property diagnosable diagnosability                                                          transition initially state sandan  question transition systems graph representation                                                        event sequence een− takes through se  solved polynomial time jiang et al                                                         quence sssn states sieisi ∈ δ    systems exhibit regularities best captured repre                                                        ∈n−  note state si event ei  senting terms state variables makes necessarily determine successor state si uniquely  possible represent systems large state spaces suc let  x Σo Σu Σf δs transition  cinctly representing each state explicitly num say een− sequence events  ber states succinctly represented ex states ssn sieisi ∈ δ ∈  ponential size representation makes n−   diagnosability problem pspacecomplete rintanen  state sequence unobservable failure  diagnosability problem similar pspace events observed deciding failure  complete problems like ai planning ltl modelchecking occurred sequence observable events available  reduces ﬁnding paths graph efﬁ  let σ ∈ Σo ∪ Σu ∪ Σf ∗ sequence events  cient approach solving ai planning modelchecking deﬁne projection πσ observable events recursively  problems reduce satisﬁability problem follows  classical propositional logic kautz selman            π  biere et al  suggests similar approach diag     πeσπσ      ∈ Σo  nosability testing pursue work          πeσeπσ      ∈ Σo                                                    ijcai                                                       sampath et al  deﬁnition diagnosability event ∈ Σo ∪ Σu ∪ Σf described set pairs  adapt notation                       φ c indicate event associated                                                        changes states satisfy condition φ                                                        mally event ∈ Σo ∪ Σu ∪ Σf possible state  deﬁnition  diagnosability transition                                                          φ φ c∈δewhene takes place  x Σo Σu Σf δs diagnosable                                                        pairs φ c∈δe satisfying  φ chosen  sequence σ events ends failure event                                                      effect event literals true  sequences σ  σσ σ πσ ≥d                                                          let state consistent set literals deﬁne  πσπσ σ includes failure event                                                                                  successor state  succs respect                                                                 diagnosable  afor ∈ ∈  inﬁnite event sequences observable  safor ∈ ¬a ∈ cand  events contains failure event  sasa ∈ occur  words inﬁnite continuation  event sequence failure distinguishable succinct transition mapped transition  inﬁnite event sequence failure             follows    constant called delay failures                                                                          a Σ  Σ  Σ δs   detected immediately taken place deﬁnition  let        succinct                                                                                                         lay expresses events observed transition deﬁne transition                                                        rt    rt x  Σ  Σ  Σ δs   certain failure taken place                                                                                     set valuations                                                                 succinct representation                      δ  succs ∈ × Σo ∪ Σu ∪ Σf  ×  structure systems highly regular φ c∈δes φ  practical represent states terms state variables  relations corresponding events terms changes  simultaneous events  values state variables makes possi important factor efﬁcient satbased planning kautz  ble represent large systems compactly        selman  notion parallel partially    set states consists valuations dered plans means independent actions  state variables ﬁnite set paper restrict taken simultaneously advantage  twovalued boolean state variables state  necessary consider total orderings independent  →   total function state variables events mutual ordering does matter  constants  true  false literal state variable dependence deﬁned through notion interference  negation set literals  a∪¬aa ∈ pairs φc φc interfere ∈  language consists formulae occurs positivelynegatively negativelypositively  formed connectives ∨ ¬weusethe    φ positivelynegatively nega  standard deﬁnitions connectives φ ∧ ψ ≡¬¬φ ∨ tivelypositively φ  ¬ψ φ→ψ  ≡¬φ  ∨ ψ φ ↔ ψ ≡ φ→ψ   ∧ ψ →φ        events een place simultaneously ∈                                                        δe ∈  δe       o    main design decision succinct transition systems           interfere                                                        o⊆o           o  represent transition relations possible              use arbitrary propositional formulae powerful consider diagnosability testing sequences                                                                                  general representation intention utilize inde  possibly sets event occur                                                                                        pendence events obtaining efﬁcient diagnosability rences members mutually non                                                                                             s    testing decided use restricted representa interfering deﬁne successor state                                                                      tion makes possible deﬁne does mean spect set noninterfering event occurrences                                                        s             events place simultaneously             succ     φc∈e                                                           let σ ∈ Σo∪Σu∪Σf ∗ sequence sets events                                                        projection πσ observable events deﬁned follows  deﬁnition  succinct transition systems succinct  transition tuple a Σo Σu Σf δs              π                                                                      πeσe      ∩ Σoπσ    • ﬁnite set state variables                                                          succinct transition say een−    • Σo set observable events                                                        sequence parallel events states    • Σu set unobservable events               ssn ∈n −  si                                                         succsie  ook    • Σf set failure events                                                         ∈ δeok ∈  δek ei   eek                         l×l                                                         ∈k    • δ Σo ∪ Σu ∪ Σf →      assigns each event set interfere                                                                 ∈kh      pairs φ c                                                                                                            diagnosability succinct transition systems simul    • initial state valuation        taneous events deﬁned analogously deﬁnition                                                     ijcai                                                     length een sequences sets parallel events propositional variables hat aˆ represent event occur                   n  deﬁned sum ei cardinalities sets rences values state variables second event se  small technical difference caused fact projec quence does contain failure events propositional                                                                  tion πeen sequences parallel events variables occurrence observable events si  results sequence length multaneously event sequences  event sets shown deﬁnitions equivalent given event  interpreting set parallel events total ordering occurs event possible current state  events                                           effects                                                                                                                                  eo →φ  φ c∈δe                                                                          diagnosability satisﬁability problem                  eo →  l∈c   φ c∈δe  jiang et al  shown diagnosability test value state variable changes rea  reduced ﬁnding path graph test based son change                                                                                                making deﬁnition diagnosability deﬁnition  ﬁnite                                                                                        ∧¬a    →    ∨···∨e  constructing product transition called                           kok  twin plant states pairs sˆ states                                                        ∈  φcok  φkck  original transition events represent unobservable                                                        event occurrences ¬a ∈ ci eek  events components state pairs                                                        respective events oi ∈ δei change false  observable events shared components                                                        true formulae deﬁned similarly interchanging  event sequence ss sˆ                                                        ¬a  includes failure event ﬁrst component                                                          event occur way events  second nonempty event sequence                                                        simultaneous interfere  sˆ failures second component pair                                                                                                inﬁnite event sequences witnessing nondiagnosability exists ¬eo ∧ eo  ∈ Σo ∪ Σu ∪ Σf ⊆δe                                                                                    reformulation deﬁnition  reduces inﬁnite event se                                                                     t             quences cycles graph                          ¬eo ∧ eo  ∈Σo ∪ Σu ∪ Σf ∈ δe                                                                                                 diagnosability test formulated satisﬁabil      ∈ δe  interfere  ity problem classical propositional logic similarly formulae step event se  path ﬁnding problems ai planning kautz sel quence need represent event sequences  man  construct formula satisﬁable copy formulae propo  valuations correspond pairs ssn ˆssˆn          et                    aˆt   eˆt                       ˆs                            sitional variables replaced  state sequences       correspond pairs respectively second sequence restricted events     eˆ eˆ            n−          n−   event sequences Σo ∪ Σu key idea diagnosability test                         ˆ      ˆ  πeen−πeen−   makes possible identify sequences events  contains failure event does observable events ﬁrst  loop si sˆithatissn  si sˆn ˆsi contains failure event  ∈n−   formula given event sequence formulae connect event sequences require  length satisﬁable possible detect observable events place sequences  occurrence failure event                    place                                                                         encoding state event sequences similar                et  ↔ et    ∈ Σ                                                                     o∈δe         encoding planning propositional logic kautz               eˆt  ↔ et   ∈ Σ  selman  projections sequences           o∈δe         observable events coincide guaranteed forcing each avoid trivial cycles require time point  observable event place sequences simultane event takes place  ously essentially each observable event joint event                                                                                              et ∨             et ∨          eˆt  sequences                                                                                                                                              e∈Σ    deﬁne formula diagnosability testing          e∈Σu∪Σf o∈δe  e∈Σuo∈δe                               a Σ  Σ  Σ δs   succinct transition                    conjunction formulae given                             events each time point described formula denoted  formula initial state                                                                    parameterized  propositional variables                                                                                     a ∧ aˆ ∈ sa  occurring formula superscripts referring dif                    ferent times points following                             ∧  ¬a  ∧¬aˆ ∈ sa    • aˆt ∈ ∈n          deﬁne formula ﬁnds pair inﬁnite executions                                                        form cycle observable events    • et       ∈ Σ  ∪ Σ  ∪ Σ       ∈ δe    ∈                                failure execution      n−                                                                                                     Φn      ∧t  ∧···∧tn  − n∧                                                                  n−          • eˆ      ∈ Σo ∪ Σu ∈ δe  ∈n−                                                                                                          eo∧                                                                    t  e∈Σf  o∈δe    • et      ∈ Σ     ∈n−                                n−                                                                            a∈a ↔   ∧ ˆa ↔ aˆ                                                     ijcai                                                                                                                                      parallel events πσπˆσ σ                                                        tains failure event σˆ does let sss                                                        sˆ sˆ sˆbe corresponding state sequences                                                          ﬁnite number states  figure  parameter diagnosability test mnand sn  sm sˆn ˆsm  potential cycle lengths                               Σf ∩ ek   ∅ ∈n  −                                                                                  eˆ eˆ                                                          n− contains failure event    n−                                                        does sequences satisfy requirements                                                        right hand side equivalence lemma                                                         condition  satisﬁed deleting ei                                                         ˆ              ˆ    figure  parameters diagnosability test ei ei ∪ ei  ∅                                                          implication right left assume right                                                        hand side lemma  holds sequences  possible cycles represented Φt illustrated fig             ˆ      ˆ                                                      een−  een− yield inﬁnite se  ure  parameter controls number states                                                        quences σ   een−emen−   σˆ   sequence state equal preceding eˆ eˆ  eˆ eˆ  πσπˆσ  states cycle formed                             n−        n−                                                                      σ contains failure event σˆ does di    diagnosability question formalized                                              ﬁxed starting point cycle figure        agnosable               Φmn      ∧t  ∧···∧tn − n∧            search proof nondiagnosability formulae                  n−                                          et ∧                Φt  leads onedimensional search problem value                  t   e∈Σf  o∈δe                                                                             Φt                   a∈a ↔    ∧ ˆa ↔ aˆ           mn problem twodimensional                                                        standard solution method onedimensional case                                                                                    show formulae Φn perform diagnosability test satisﬁability Φ thenΦ satisﬁ                         test correctly proofs Φmn analogous        able formula parallelized algorithms                                                        ﬁnd satisﬁable formula faster se  lemma   let   a Σo Σu Σf δs succinct quential method rintanen et al   transition positive integer formula    Φn  satisﬁable sequences σ   showing diagnosability                         ˆ      ˆ  een− σˆ een− parallel events actually diagnosable formulae                                         previous section practical showing diagnos    ∪···∪en−  ∩ Σf  ∅                        ability simple way guarantee                                                                      eˆ ∪···∪eˆ     ∩ Σ  ∅                          parameter  high reachable states               n−                                failure event covered obvious upper           ˆ                                                        ei ∪ ei  ∅ ∈n−              bound  cardinality set states                                                                                      πσπˆσ                                        impractically high state variables                                                 forced consider solutions problem    executions ssn σ sˆsˆn σˆ proposed sheeran et al  work spe      ˆs sm  sn sˆm ˆsn ciﬁc types transition systems step outside      ∈n−                              sat framework mcmillan                                                           cases necessary include  proof sketch proof equivalence left right                                                      complete reachability test sufﬁcient use  demonstration valuation satisﬁes Φn ρ           σ σˆ                sˆ sˆ      mula   gives upper bound set state pairs  mapped   executions            sˆ twin plant reached event se  satisfy required properties                                                       ˆ      ˆ                                                        quences σ eek  σˆ eek    proof right left constructing valuation      ˆ         ˆ                                                      πσπˆσ     ∪···∪ek  ∩ Σf   ∅  propositional variables Φn based σ σˆ execu                               tions ssn sˆsˆn showing each possible show state pair satisfying                                                      ρ  conjunct Φn satisﬁed valuation          event sequence starting failure event                                                        ﬁrst component event sequence fail                                                        ure events starting second component sequences                                          Φt          observable events tested  theorem  succinct transition  sat using following formula increasing values  isﬁable ≥  diagnosable                                                                                           tρ                                                                                                     Ψ    ρ ∧t  ∧···∧tn  − ∧            eo  proof sketch show diagnosable iff                              e∈Σf o∈δe  right hand side equivalence lemma  holds formula satisﬁable iff failure ﬁrst com    assume diagnosable inﬁnite ponent twin plant second event se                                       ˆ   ˆ  ˆ  sequences σ eee σˆ  quence length observable events                                                    ijcai                                                     components place formula unsatis cnval          vars   clauses     runtime                                                                                                      ﬁable behavior failure necessarily differs                behavior failure diagnosable                                                                                                                            incompleteness test caused approx                                          imate nature ρifρ represents unreachable                                                                                                                               states twin plant appear distinguish                  ing behavior failure possible                                                                                                                      unsatisﬁability formula sufﬁcient                                                                                                                    necessary condition diagnosability                                                             complete positive negative test diagnosability                                                      Φt                                                             obtained testing satisﬁability increas                                                               tρ                                                    ing interleaved testing satisﬁability Ψn                                                                               increasing increasingly strong upper approximations ρ                                                                                                                      reachable state pairs twin plant                                                       alternative ways formulae ρ ap                                                                                                                          proximating reachability twin plant derived                 approach polynomial time algorithms comput                                                                                                                        ing sets literal clauses true reachable                                      states rintanen  state twin plant does                                                                                                                    satisfy ρ  unreachable initial state                                                              ρ                                                      approaches deriving tighter upper bounds                    based techniques knowledge compilation selman                                                                                                                         kautz  obdds bryant  dnnf dar                                            wiche                                                                   experiments                                        table  runtimes diagnosability testing number                                                        components path length  algorithm jiang et al  impractical  relies explicit enumeration pairs states                                                     transition states twin plant consists mula computed  cent conﬁdence intervals  states starting   size twin plant mean using standard bootstrapping method  high practically running algorithm     shown column table  runtime    demonstrate better scalability approach unsurprisingly appears exponential growth  section  using consists identical runtimes nondiagnosability  terconnected components each component  states detected easily systems   compo  number states components                                                      nents astronomic number states propositional    dependencies formulae big thousand proposi  states neighboring components means tional variables million clauses efﬁcient  state combinations actually possible twin plant                                                     sat solvers utilize regularity transition sys  diagnosability test quadratic number  states tems ﬁnd cyclic path twin plant efﬁciently  infeasible explicit state enumeration start systems components complicated  ing components                        cycles witnessing nondiagnosability longer    each component  events  observable approach probably does scale quite far  tested diagnosability faulty event com  ponent obtain bigger bigger problems increased  number components parameter proving    related work  nondiagnosability  irrespective meaning approach ﬁnding paths graphs compactly rep  shortest path cycle length               resented terms state variables based ordered bi    statistics formulae representing diagnosability prob nary decision diagrams obdds bryant  obdds  lem given table  formulae unsat popular computeraided veriﬁcation especially  isﬁable satisﬁable ﬁrst modelchecking burch et al  introduction  columns value formula sat based techniques biere et al  following  satisﬁable number propositional success ai planning kautz selman themain  variables clauses formula ﬁnally time disadvantage obdds fast growth number  took sat solver test satisﬁability              state variables increases main advantages gen    experiments run  ghz pentium  com erality ﬂexibility instance easy detect  puter siege sat solver version  ryan  obdd represents reachable states difﬁcult  siege randomizing sat solver runtimes forsatasdiscussedinsection  vary different runs ran  times each cimatti et al  expressed narrow diagnosabil                                                    ijcai                                                     
