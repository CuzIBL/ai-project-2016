                      efficient symmetry breaking boolean satisfiability                 fadi aloul karem sakallah igor markov                             department electrical engineering science                                                  university michigan                                                ann arbor mi                                        faloul karem imarkoveecsumichedu                                abstract                            hand knowledge symmetries used                                                                  significantly prune search space symmetries stud•     identifying breaking symmetries cnf for•                                                                 ied abstract algebra terms groups assume      mulae shown lead significant reductions                                                                  reader familiar basics group theory par•     search times paper sys•                                                                 ticular assume familiarity permutation groups      tematic efficient construction symmetrybreak•                                                                 representation terms irredundant sets genera•     ing predicates sbps particular use cycle                                                                  tors good reference subject fraleigh       structure symmetry generators typically                                                                     rest paper organized sections      involve variables drastically reduce                                                                  section  provides brief review permutations per•     size sbps furthermore new sbp construction                                                                  mutation groups section  describes pervious work sym•     grows linearly number relevant variables                                                                  metry breaking sat main contribution efficient      opposed previous quadratic constructions                                                                  constructions symmetrybreaking predicates detailed      empirical data suggest improvements reduce                                                                  section  constructions evaluated empirically      search run times orders magnitude                                                                  section  end conclusions section       wide variety benchmarks symmetries                                                                   notation preliminaries    introduction     modern boolean satisfiability sat solvers based back•  track search capable attacking instances   thousands variables millions clauses velev   bryant  routinely deployed wide   range industrial applications biere et al  nam et   al  stephan et  success cred•  ited combinational recent algorithmic advances   carefullytuned implementations silva sakallah    moskewicz et al   goldberg novikov    problem instances remain   reach sat solvers      aspect intractability presence symmetry   conjunctive normal form cnf sat instance   intuitively symmetry discrete object transforma•  tion permutation components leaves   object intact symmetries cnf formula permu•  tations literals variables negations result   reordering clauses literals clauses   changing formula symmetries induce   equivalence relation set variable assignments   assignments equivalent   formula assumes truth value   each   assignments search algorithm oblivious   existence symmetries end wastefully          permutations expressed tabular form   exploring set equivalent unsatisfying assignments  cyclic notation example   moving promising region search space       constraints                                                                                                                                                                           laid crawford et al  framework                                                               extended later aloul et  account phase                                                                 shift symmetries advantage cycle structure    denotes permutation maps per­            permutations consider generators group    mutation expressed set disjoint cycles symmetries outline procedure consists follow­                                                                 ing steps                                                                 convert cnf formula colored graph sym­   cycle shortcut maps     metries isomorphic symmetries formula    maps   maps length cycle     symmetries graph terms set irre­   equal number literals refer cycle  dundant generators using suitable graph    length kcycle define support       automorphism program mckay  spitznagel    permutation  supp  set indices appearing              cyclic representation                            map graph symmetries symmetries                                                                     formula                                                                construct appropriate symmetrybreaking predicate    number cycles permutation Π denoted       sbp conjoint formula    cyclesπ define phaseshiftr index   solve using suitable sat solver moskewicz et    smallest variable according assumed total order­         ing mapped complement tt                     concern paper step  noting group                                                                  symmetries induces equivalence relation set       phascshift π  min inxπ                  assignments ndimensional boolean space basic                                                                  idea construct filter picks single represen­   note phaseshift permutation                                                                  tative each equivalence class particular choosing    phaseshift cycles length cycles                                                                  lexicographically smallest representative—according    form  finally define ends follows                                                                  assumed total ordering variables—leads fol­      ends  largest index variable              lowing lexleader sbp crawford et al                          nonphaseshift cycle                                                                                                                                permutation group group elements   permutations finite set binary operation    function composition referred permutation mul­                                                            tiplication order group number ele­  ments subgroup group denoted    subset closed groups binary operation                                                          cyclic subgroup denoted sub­  group consisting integer powers                    index set    equal ln                                                                  equations lexleader sbp expressed conjunction                                                               permutation predicates pps each conjunc­                                                                 tion bit predicates bps  introducing auxiliary equal­  said generate  set permutations                                                                                                           ity variables     xπ makes possible express              generates subgroup resulting                                                                                            ith bp  lliteral cnf clause leads cnf   taking possible products integer powers                                                                  representation pp  clauses total   permutations equal permutations                                                                  literal count    additionally each intro­                 called generators set genera­                                                                                         duced equality constraints yields  literal clauses bringing   tors irredundant possible express                                                                  total cnf size    permutations product powers permuta­  tions set irredundant generators serves implicit      clausesppr    representation group generates general guar­                                                                                                                           literalsppr      antees exponential compression size representa­                              tion note set irredundant generators group    present form lexleader sbp   lead   closed multiplication taking inverse exponentially large cnf formula order   sequel set permutations necessarily symmetry group exponential number   closed indicated placing hat variable    variables value pruning search space   denoting set additionally slight     negated need sat solver process   abuse notation indicate group gener­ larger cnf formula remedy problem crawford et   ated writing                                           al  suggested construction symmetry tree                                                                  eliminate redundant permutations    previous work                                                worst case number symmetries tree remains                                                                  exponential empirical evidence aloul et al    basic framework utilizing symmetries cnf   instance prune search space explored sat solver     note  bit predicate means implies                                                                                                             constraints        bit predicates according  bps enclosed boxes square corners arc tautologous π maps corre­         sponding bits bps enclosed boxes rounded corners tautologous correspond cycle          ends bps bits   tautologous maps bit  complement       showed symmetry breaking insuring    size linear quadratic figure    sbp selects lexleader each equivalence class   provides example illustrating refinements   necessary obtain significant pruning search                                                                  elimination redundant bps careful analysis    space sbp breaks necessarily                                                                  reveals three cases bp tautologous   symmetries formula fact provide better                                                                  redundant corresponds bits mapped   spacetime tradeoff during search accomplished                                                                  permutation  —  makes   replacing group symmetries  suitable                                         Π                                                                     consequent implication    smaller set permutations                                                                  bit predicate unconditionally true removal bps                                                              easily accomplished setting index set                                                                     suppr  sparse permutations per­  particular aloul et ai  advocated use set mutations suppr  change   generators returned graph automorphism pro­        account reduction cnf size pp   gram step                                                    second case corresponds bp bit                                                                  each cycle Π refers assumed total    efficient formulation permutation                         ordering variables assume cycle involving vari­        predicate                                                ables xjij €  index set let  max                                                                    small number permutations used   constructing sbp  corresponding cnf for­  mula large each pp requires cnf                                                              formula size quadratic number variables   section introduce refinements lead   smaller pps refinement utilizes cycle      causing corresponding bit predicate bpπ tau­  structure permutation eliminate redundant bit predi­   tologous elimination bps accomplished   cates viewed replacing        restricting index set    just   smaller number represents comprehensive       suppr  endsr corresponds reduction   systematic treatment cycles aloul et al      number bps  suppr  cyclesr    second refinement takes advantage recur­        case corresponds bps   sive bitbybit structure  yield cnf formula       bits occur phaseshifted variable let                                                                  index variable xi  xi       constraints                                                                                                                    form  experimental evaluation    making unconditionally true                                                                  conducted number experiments evaluate effec­      taken redundant bps corresponding    three cases easily eliminated setting index set tiveness symmetry breaking constructions described                                                reducing search times ran experiments                                                                  representative cnf instances following seven                                                                  benchmark families                                                                    holen unsatisfiable pigeonhole instances dimacs    sequel refer bits index set  urq unsatisfiable randomized instances based    irredundant bits note presence phase        expander graphs urquhart     shifted variable early total order lead drastic  groute difficult satisfiable instances model global    reduction number irredundant bits example     wire routing integrated circuits aloul et al      π  ppr simply  regardless    fpgaroute chnlroute large satisfiable unsat­   variables moved π                         isfiable instances model routing wires    linear construction pps through chaining pp           channels fieldprogrammable integrated circuits nam      recursive structure utilized   et al     produce cnf formula size linear qua­   xor various exclusiveor chains sat     dratic cardinality index set  specifically  pipe difficult unsatisfiable instances model    introduce ordering predicates xi xπ           functional correctness requirements modern outof                                                                    order microprocessor cpus velev bryant     gi  xi  xi algebraic manipulation write    following equivalent expressions permutation predi­   each benchmarks converted colored graph    cate                                                         described aloul et al  processed graph                                                                  automorphism program nauty version  mckay                                                                   using gap package version  release  spitznagel                                                                   symmetries returned nauty mapped                                                              symmetries benchmark appropriate sbps                                                                  constructed added mchaff sat solver moskcwiez                                                                  et al  run original sbpaug                                                                 mented versions each benchmark experiments           succk   noting   run linux workstation ghz amd athlon pro­   index set used parenthesized expres­ cessor gb ram timeout limit  seconds    sion second line equation identical set runs run time results represent averages    expression line introduce sequence    independent runs    chaining predicates pii €  defined according             table  lists each benchmark family number                                                                  instances tested col  total cnf sizes cols                                                                order symmetry groups col  total number                                                                  generators returned nauty col  number                                                                  include phase shifts col  columns   list    succi    recursive                                                                  cardinality generators support degree    structure  makes possible express each                                                                  sparsity present generators remaining columns    chaining predicate terms follows                                                                  table list cnf sizes three sbp constructions                                                                  based generators                                                                  • quadratic construction using extra equality variables    yields following alternative representation per­  based bits represents previous stateofthe   mutation predicate                                              art                                                                  • quadratic construction based irredundant bits                                                                  • linear construction using extra chanining variables                                                                     based irredundant bits                                                                     observations data    simplified replacing equalities   table  number symmetries benchmarks    oneway implications leading finally                 large symmetries including phase shifts bench­                                                                 mark families urq xor pipe represented                                                                  fairly small sets generators generators returned                                                                  nauty appear sparse average typical generator    cnf representation each conjunct  obtained   affects small number variables explains    substituting definitions  variables  reduction  ordersofmagnitude size symme­   using distributive law using construction trybreaking predicates column  construction    permutation predicate requires  additional variables    versus column  crawford et al  number    chaining predicates consists   literal   variables number literals reduced    literal clauses total  literals                construction column  slightly extends qua                                                                                                            constraints draticsize construction aloul et al      cases takes time symmetries   advanced linearsize construction column  offers        cnf instance solve pipe instances   additional reduction order magnitude note     exception believe advances symmetry  number variables unchanged—the         finding rectify exception second allbits qua•  extra variables added constructions different  dratic construction crawford et al„  dramati•  function mapped each onetoone          cally slower variants based cycle structure      table  empirically compares effectiveness       linearsized construction provides speedup   symmetrybreaking predicates described table    exceptions holen benchmarks difference                                                                  constructions small pipe bench•                                                                 marks quadraticsized sbps led shorter run    experiments clearly confirm generators exist     finding function graph automorphism program times despite thirteen times larger     used nauty black box clear expla• investigation showed sideeffect mchaffs     nation causes nauty sparse generators  vsids decision heuristic tended choose auxil•    sparser generators nauty iary variables occur clauses     cases return sparse generators            original instance variables using berkmin gold      constraints                                                                                                           
