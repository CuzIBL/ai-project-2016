    combining topological directional information spatial reasoning                        ∗                                                  sanjiang li       department science technology tsinghua university beijing  china         institut f¨ur informatik albertludwigsuniversit¨at freiburg freiburg germany                                        lisanjiangtsinghuaeducn                          abstract                          calculus rcc randell et al  directional                                                        lations wellknown formalisms frank      current research qualitative spatial representa  goyal egenhofer       tion reasoning usually focuses single natural language practical applications topo      pect space real world applications logical directional relations used exam      aspects involved pa ple describing location titisee famous tourist      extends wellknown rcc constraint lan   sight germany say “titisee black forest      guage deal topological directional east town freiburg”      information investigates interaction      kinds information given       paper extend rcc constraint language      topological rcc constraint network di   deal topological directional information      rectional constraint network ask joint ﬁrst formalize cardinal directional relations      network satisﬁable show topo plane regions viz west east north south deﬁne      logical network three maximal  basic relations using usual relational operations      tractable subclasses rcc problem  intersection complementation      reduced satisﬁability problems rcc al important reasoning problems decide net      gebra rectangle algebra ra  work topological directional constraints satisﬁable      reasoning techniques developed rcc ra    consistent given network topological rcc                                                               Θ                                   Δ      used solve satisﬁability problem straints network directional constraints wetry                                                                                    Θ  Δ      joint network                                    decide joint network  satisﬁable                                                          topological directional information inde                                                        pendent Θ  Δ unsatisﬁable despite Θ    introduction                                       Δ  satisﬁable main result states topological  originating allen’s work temporal interval algebra constraints three maximal tractable sub  ia allen  qualitative approach temporal classes rcc renz  satisﬁability  spatial information popular artiﬁcial intelligence joint network determined considering satisﬁa  related research ﬁelds mainly bility related networks resp rcc rectan  applications precise numerical information usually unavail gle algebra ra ra twodimensional counter  able necessary                                ia balbiani et al     allen’s interval algebra principal formalism rest paper proceeds follows section  intro  qualitative temporal reasoning dozen duces basic notions wellknown examples qualitative  formalisms deal different aspects space qual calculi cardinal direction calculus dir introduced  itative spatial reasoning qsr spatial relations usually section  section  describes proves main result  classiﬁed topological directionalandmetric metric new subclass amax ia identiﬁed closed  lations nature semiquantitative fuzziness converse intersection composition show satisﬁable  paper concerned topological directional interval networks amax maximal instantiation  relations plane regions                      sense ligozat  section  concludes paper    earlier research topological directional rela  tions focuses single aspect inﬂuential  malism topological relations region connection  qualitative calculi      ∗this work partly supported alexander von hum establishment proper qualitative calculus key  boldt foundation national natural science foundation china success qualitative approach temporal spa     microsoft research pro tial reasoning section introduces basic notions ex  fessorship                                           amples qualitative calculi cf ligozat renz                                                     ijcai                                                       basic notions                                                        table  set basic interval relations bintwherex                                                         −          −    let  universe temporalspatialspatialtemporal en  intervals  tities set relu set binary relations  usual relational operations intersection union relation symb conv    meaning       dim                                                                                            −  complement relu boolean algebra            precedes        pi                                                                           meets          mi          y−             ﬁnite set nonempty relations jointly exhaus                        −              tive pairwise disjoint jepd short entities overlaps oi                                                                    starts         si    x−  y−         related relations  write                         −    −          b subalgebra relu generated clearly during        di                                                                                        ﬁ     y− x−     relations atoms algebra b b ﬁnishes                                                                                                        eq     eq    x−  y−    qualitative calculus relations basic rela equals                                  tions calculus                                                                                             pi    general optional restrictions                              choice write idu identity relation ufora                          ∼  relation α ∈ relu write α converse αwhich                                   mi  deﬁned ∈ α∼ iff yx ∈ α qualitative                                    calculi require identity relation idu basic relation                                                                              di    si     paper relax restriction require idu                         oi                                                                                            contained basic relation ii closed               α                         α∼                                            eq  converse basic relation                           ﬁ              note composition relations b                                necessarily bforα β ∈btheweak composition                                                                                         ligozat renz  α β written α ◦w βis                                                                                      deﬁned smallest relation b contains α◦β    important reasoning problem qualitative calculus                                                                                               determine satisﬁability consistency network  figure  interval lattice int   Γ constraints form xγywhereγ relation b                                   constraint network Γviγij vjij satisﬁable                                                        α β ∈bintforα  ∈bint dimα dimension                                      consistent instantiation αisdeﬁnedligozat  table  dimension   ∈ γ            ≤ ≤        ij holds                           nonbasic relation maximal dimension basic    consistency network approximated using relations  time pathconsistency algorithm pca network                                                        following convex relations particular impor  Γviγij  vj ij pathconsistent γii basic                                           ∼            tance paper  relation contains idu ii ∅   γij  γji  iii  γij ⊆ γik ◦w γkj                                  ∪m eq di ﬁ si oi mi     essence pca apply following rules         ∪s eq                     three network stable                                                                     ∪ﬁ di eq si                                                 ∼                γij ←    γij ∩ γji                                                                          rectangle algebra ra twodimensional coun                γij ←    γij ∩ γik ◦w γkj                                                                 terpart ia ra generated set  jepd relations  relation occurs during process net rectangles write brec set  work inconsistent resulting network path        α ⊗ β  α β ∈b    consistent                                                         rec                  int                                                                                                        interval algebra rectangle algebra             rectangle  write    resp                                                         yprojection basic rectangle relation  interval algebra ia allen  generated set rectangles α ⊗ β iff ixaixb ∈ α    int  basic relations time intervals ta iyaiyb ∈ β dimension basic rectangle  ble  ia closed composition composition lation α ⊗ β deﬁned dimα ⊗ βdimαdimβ  interval relations ia nebel b¨urckert nebel dimension nonbasic rectangle relation deﬁned  b¨urckert  identiﬁed maximal tractable subclass maximal dimension basic relations     ia called ordhorn subclass showed apply note tractable subclass ia s⊗s                                             ing pca sufﬁcient deciding satisﬁability  α ⊗ β  α β ∈sis tractable ra tractable sub                                                     ligozat ligozat  introduced partial order class ra larger h⊗his obtained balbiani                                int fig  termed int interval lattice et al whereh ordhorn subclass ia  α β ∈bint write α β union relations  α β note α β nonempty iff α   βfor paper assume sides rectangle  example oi relation ∪o eq di ﬁ si oi parallel axes predeﬁned orthogonal basis  interval relation called convex form α β euclidean plane                                                    ijcai                                                                 table  set rcc basic relations btopwherea table  cardinal directional relations              plane regions a◦ b◦ resp interiors bounded plane regions                      relation       symb        meaning                   relation      symb     meaning      ra                       equals         eq                               northwest      nw     anb awb   ⊗ pi                    disconnected      dc          ∩  ∅             north xcontact nc    anb acxb  ⊗ pi                                                       ◦   ◦                 externally connected ec    ∩   ∅ ∧ ∩  ∅          northeast      ne     anb aeb  pi ⊗ pi                                                 ◦   ◦                                                ∩   ∅ ∧            ycontact west cw     acyb awb  ⊗                    partially overlap  po                                                 ⊆ ∧  ⊇       ycontact xcontact cc acyb acxb   ⊗                                                            ◦                 tangential proper tpp    ⊂ ∧  ⊂           ycontact east ce     acyb aeb pi ⊗                                                        ◦               nontangential proper ntpp     ⊂                   southwest       sw     asb awb   ⊗                                                                        south xcontact sc    asb acxb   ⊗                                                                            southeast      se     asb aeb   pi ⊗                rcc algebra              plane region region nonempty regular closed sub mainresult              set real plane relations table                                                                               suppose    vii collection spatial variables              verses tpp ntpp form jepd set randell et al                                                                                           Θθij      Δδij       resp topological               rcc basic relations write btop                                                     b                pp          rcc directional dir constraint network               set rcc algebra  write  resp                                   Θ  Δ              tpp ∪ ntpp   ∪ eq  tpp  ∪ ntpp               problem joint network  satisﬁable                                                                      loss generality section assume                renz renz  showed three maxi                                ∼                                                                    θii  eq  eq   θij  θji                mal tractable subclasses rcc contain basic rela                  ∼                                                                   ii δii  cc δij  δ              tions subclasses denoted qforthese                     ji              subclasses applying pca sufﬁcient deciding sat following example shows topological direc              isﬁability network algorithm tional constraints independent              ﬁnding atomic reﬁnement pathconsistent network example  let  vv θ  ec δ  nc                                                                    Θ Δ trivially satisﬁable regions                                                                     aecb        a∩b   ∅        ma∩mb     ∅                cardinal direction calculus dir                      thenby        know                                                                                     ancb hold Θ  Δ inconsistent                                            sup asupx    ∈              bounded plane region deﬁne                     given Θ Δ deﬁne rcc network Θ ra              ∃yx ∈ inf ainfx  ∈ ∃yx ∈                                                                 network Δ follows              deﬁnitions infya supya similar                                                                                              θij ∩ dc  cc ∩ δij  ∅              maixa×  iya minimum bounding rectangle        θij                                                                                     θij                    mbr awhereixa  infxa supxa iya              inf sup                                           projection                    ⎧                bounded plane regions bifsup  infxb       ⎪  δij ∩ eq ⊗ eq θij  eq                                                                            ⎪              say west east written awb   ⎨  δij ∩  ⊗    eq   θij ⊆                                                                                                              ∼              beaandifsupya  infyb say south   δij    δij ∩  ⊗    eq   θij ⊆                                                                               ⎪              north written asb bna                  ⎩⎪ δij ∩  ⊗    dc ∩ θij  ∅                                                                                 δ                  west east bthenixa ∩ ixb           ij                         ∅                                                  case say contact  written      θ  ⊆ θ      δ  ⊆ δ                         acxb similarly north south bthenwe note ij ij ij ij  means                                                                    Θ                Θ     Δ                Δ              say ycontact written acyb          reﬁnement  reﬁnement ra                boolean algebra generated nswe written lemma  Θ  Δ satisﬁable iff Θ  Δ satisﬁable              dir atoms table  sim                                                                      example  δ  nc know θ  ec ∩              ple dir sufﬁcient expressing directional information dc  ∅ joint network inconsistent              situations dir subclass ra main contribution paper show Θ                                           remark  let bint jepd set  pi algebra                                                                   pathconsistent rcc network three maximal              b                                                                                             int fact interval algebra studied golumbic tractable subclasses rcc viz qthenΘ  Δ                                       pi ∪   ∪ pi               shamir let                               satisﬁable iff Θ Δ satisﬁable                                                      ∩h                universal relation note         prove result need lemmas                                                                              −        −                golumbic shamir proved  maximal tractable   ×   write                                 ⊗a                                    −                   −                      subclass      exactly dir table  − x   × − y  fortwo               ⊗h                                                tractable subclass dir future rectangles rr edges line edge              work ﬁnd maximal tractable subclasses dir     expand rectangles little                                                                   changing rectangle relation general                                                          ⊗                 worth noting intersection dir                   −        −                  hwheren  new tractable subset ra balbiani et al lemma  let ri xi xi  × yi yi col                                                              lection rectangles points                                                                 ijcai                                                                   −                −     xi xi  yi yi identical set                                    pn                                           smaller minx −     xx ∈                       ···  miny − y    yyy ∈                                         suppose                                    collection bounded plane regions ri ⊂mai ⊂  ri   basic rectangle relation mai                           maj ri rj                                               Θ                                     ···                       ···    rcc basic network  collection rect                        −                                                                             angles riiifrii sense ‘compatible’ Θ                  ∗                              ∗  realization ai Θ mai   identical ri each                                           deﬁnition  collection rectangles rii com                                 Θv    θ  patible rcc basic network    ij ij                            ···     • θij  eqthenri  rj                                                         figure  illustration ntppchain centered pij     • θij   dcthenri ∩ rj rectangle interior      ri ∩ rj nonempty                                                                                                 proof example proofs    •   θ  ⊆ pp                                    ij     contained interior  maximal tractable subclasses similar                              lemma  let Θviθij vjij satisﬁable rcc   suppose Θ  Δ  satisﬁable Θ path                                                                              basic network suppose rii collection rectan consistent network construct atomic  gles compatible Θ realiza rcc network Θ∗ follows renz         ∗                    ∗                                                ∗  tion ai Θ each ai bounded region • dc ⊆ θ        θ   dc           ∗                                                      ij thenset ij       ri ⊂mai   ⊂ ri  where positive number                           ∗                                                          • ec ⊆ θij thensetθij  ec  deﬁned lemma                                                           ∗                                                          • po ⊆ θij thensetθij  po  proof proof similar given rcc cf renz                     ∗                                                          • tpp ⊆ θij thensetθ  tpp   li li wang  deﬁne li                        ij                                                          •       θ   ntpp          θ∗  ntpp  ntpplevel vi inductively follows             ij        set ij                                                                  •       tpp∼   ⊆ θ         θ∗  tpp∼    • liif θji  ntpp                  ij set ij                                                                                    ∼         ∗          ∼    • lik variable vj lj • θij  ntpp set θij  ntpp          θ    ntpp           θ     ntpp                 ∗                         ∗        ji          andb  mi           implies   θij ⊆ θij know Θ atomic reﬁnement      lm ≤ variable vm                                                                 ∗                                                        Θ Θ θij ⊆ iff θij ⊆             ···                            write  ik            corner points claim satisﬁable ra network Δ realiza        θ    ec    po                                                            ∗                 ∗      ij       choose new points tion ri compatible Θ inotherwordsΘ                        ∩                               ij ji interior jset   set ri satisfy conditions lemma  proof                     δ  points set smallest distance quite complex defer subsection                      δ                                                                      points  clearly        each point      lemma  ﬁnd realization cii                           p−pp ··· pn        ∗  construct squares                   Θ  ri ⊂mci ⊂ ri   lemma  ci               fig  square centered length realization Δ Θ  Δ satisﬁable  δandp− smaller squares meet     construct bounded regions a∗n follows  recall applying pca sufﬁcient deciding satis                                                                                                                                ﬁability rcc subclasses candqandforra    •                 ik                                    subclass h⊗h following corollary                                                        −                          deﬁned remark     • ai  ai ∪ pij ∪ pji  θij  ec∪   pij ∪ pji                                                                         Θ      θij  po                                        corollary  let rcc network                                                                                                             let Δ dir network h⊗hthen    • ai  ai ∪a   θki tpp ntpp                                                     deciding satisﬁability Θ  Δ cubic complexity       ∗            li    • ai    ai ∪         ∈   ∃jθji                                                    proof quadratic complexity compute Θ Δ      ntpp    ∩ aj   ∅                                                        note Δ rectangle network amax ⊗amax ⊂h⊗         ∗  ai realization Θ ri ⊂ applying pca Θ Δ cubic complexity  mci ⊂ ri  δ ⊂ ri                                                            example shows Θ                                                               prove main result                       candq result hold  theorem  let Θ pathconsistent rcc network example  let  vvv θ  θ  dc                                                                         ∼  let Δ dir network Θ  Δ θ  tpp ∪ tpp  δ  nc δ  cw δ  cc  satisﬁable iff Θ Δ satisﬁable                Θ Δ satisﬁable Θ  Δ                                                    ijcai                                                       maximal instantiation rectangle networks      lemma   amax relations α   eq β   eqif                                                        α ◦ β       α  β     α ◦ β      α  β   rcc network Θ dir network Δ suppose Θ                                      Δ                  Θ∗                         Θ    satisﬁable atomic reﬁnement  proof lemma  know eq ⊆ α ∩ βsinceα  constructed proof theorem  show Δ eq                       α                                             ∗             contained  conclusion  rectangle realization rii compatible Θ      β     α ◦ β     eq ⊆  α ∩ β         α                                                      holds                     know     ﬁrst deﬁne auxiliary subclass max ia      β   deﬁnition  interval relation α amax                                                          corollary lemmas    • α convex                                                                                         α    eq β   eq    • ⊆ α       ⊆ α     mi ⊆ α       oi ⊆ α         corollary  three max relations                                             γ   eq α ∩ β ◦ γ  eq iff α  β∼  γ∼ α      • ⊆ α ⊆ αandsi ⊆ α di ⊆ α                                                          oi smallest convex relation amax    • ⊆ α ⊆ αandﬁ ⊆ α di ⊆ α      strictly contains  following result    note amax relations eq dimension  lemma  α β ∈amaxifα ∩ β     deﬁnition amax easy amax ifα ∩ β    closed converse intersection following lemma                                                                       let Γviγij  vjij rectangle interval net  asserts amax closed composition                                                                       work let ai realization Γwesayai               α β ∈a         α ◦ β ∈a                                  lemma         maxthen         max            maximal instantiation Γ iff dimγij  equal di                                                                                                     proof sketch composition convex rela mension basic relation  tions convex α ◦ β convex           ligozat  balbiani et al     ⊆ α ◦ β exist basic relations theorem  ligozat  let Λ interval net  ⊆ α ⊆ βandm ⊆  ◦ checking com work contains preconvex relations Λ path  position table ia allen wehaveo  ⊆ ◦ iff consistent maximal instantiation Λ   ∈s eq si ii ∈f eq ﬁ      ⊆ α  ∈a         ⊆ β  ∈a               ⊆ α      pathconsistency condition theorem             max           max know          necessary example Λ constraint network   ⊆ β composition table ⊆ ◦     Λ  ⊆ ◦      ⊆  α ◦ β            ⊆ α ◦ β                   satisﬁable maximal instan                    means             tiation applying pca obtain eq eq eq  ⊆ α ◦ β symmetrically show mi ⊆ α ◦ β                          oi ⊆ α ◦ β                                            relations max concerned            proofs remaining cases following result  similar way know α ◦ β amax                                                        theorem   let Λ interval network contains    characterize composition relations relations amax suppose Λ satisﬁable                 eq                                                                                ∼   max contain                                  λij  eq iff  jbλij  λjic                                                        λ    ∧λ   →   λ         Λ  lemma  interval relations α β ∈amaxifeq ⊆ ik      kj       ij     maximal instan  α ◦ βtheneq ⊆ α ∩ β oi ⊆ α ◦ β              tiation    proof lemma  know α ◦ β amaxifeq ∈   proof suppose applying pca network stable  α◦β exist basic relations ⊆ α steps prove induction step  ⊆ β     eq ⊆ ◦                                troduces new   eq constraints means                 possible iff converse                                       suppose   eq possible situations each step  ≤ ≤ λij ∈eq   λij  λij                                                                 ∈p di oi pi composition table λij relation xi xj pth step  know oi ⊆ ◦ bifa ∈m ﬁ si mithena ◦ suppose holds ≥  show holds step                                                                                     ∪ eq ∪ ﬁ  ∪ eq ∪ si      α ◦ β ∈amax                                  know     note λij    λij ∩ λik ◦ λkj  di contained α ◦ β checking fig  know oi ∼                                                        λ     λ  ∩ λ   wetaketheﬁrstcaseasanexample  smallest convex relation contains di ij ij ji                                                            λp  eq                           λp   λp   oi contained convex relation α◦β ij    corollary  know ik kj                                                         ∼                                                        λ      induction hypothesis know λik     following lemma characterizes eq relation ij                                                        λkj  λji   contradicts condition  obtained intersection relations amax                                                          λij   eq  lemma  amax relations α   eq β   eqif                                        α ∩ β  eq     α  β∼     α                           λij     λij  lemma  λik ◦                                                                                        λ    according lemma  possible iff          α                   oi            α     kj  proof      contained      λp     λp                            α ∩ β  eq        β  eq          ik kj  induction hypothesis  note case     wehave                                λ    λ        λ    contradiction α   conclusion condition know ik kj ij                                                                              λp    holds β clearly α converse β         contradiction ij        show   relation generated remind convex relation preconvex  composition amax relations             terval relation preconvex iff ordhorn relation                                                    ijcai                                                     
