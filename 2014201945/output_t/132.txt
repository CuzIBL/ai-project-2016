                            repairing concavities roc curves                          peter flach                                shaomin wu               department science             school construction management                     university bristol               engineering university reading                   bristol united kingdom                      reading united kingdom             peterflachbristolacuk                     shaominwureadingacuk                        abstract                          curve aggregates behaviour possible deci                                                        sion thresholds quality probabilistic classiﬁer      paper investigate methods detect measured area roc curve auc      repair concavities roc curves manipulating  measures classiﬁer separates classes      model predictions basic idea point reference decision threshold good classiﬁer      set points lies line spanned large auc auc means      points roc space use informa decision threshold corresponding categorical      tion repair concavity effectively builds classiﬁer  accuracy      hybrid model combining better models      use term model repair denote approaches      inversion poorer models case modify given models order obtain better models      ranking classiﬁers means certain inter contrast ensemble methods produce hybrid models leave      vals scores identiﬁed unreliable original models intact approach model construc      candidates inversion report encour  tion using roc space given blockeel struyf       aging results  uci data sets particularly authors identify assemble parts decision      naive bayes use validation folds tree perform different areas roc space      yielded signiﬁcant improvements half approach paper identify ‘bad’ areas concav      loss                      ities roc curve repair manipulating                                                        corresponding lowquality predictions approach ex                                                        perimentally validated using naive bayes decision    introduction                                       tree approach wider scope ap  increasing work model selection plied classiﬁer computes class scores  model combination machine learning data mining illustrate approach section   literature instance model selection based roc space pairpoint algorithm combines three models based dif  provost fawcett  model combination means ferent thresholds probabilistic classiﬁer cre  bagging breiman  boosting freund schapire ates new model theoretically improve   arcing breiman  mixture experts method worst three models section  introduce  jacobs et al  just review en main algorithm repairsection mirrors entire  sembles learning machines valentini cave region region curve convex  masulli                                        hull section  present experimental results     typically methods assume set given models data sets uci repository section  reviews  ﬁxed performance issue best combine related work model ensembles gives main conclusion  models obtain better ensemble model suggests work  tempt analyse performance given models  termine region performance substandard pa  basics repairing classiﬁers roc space  investigates methods improve given models using roc  analysis                                             assume confusion matrix classiﬁer evaluated    roc receiver operating characteristic analysis usu test set table  true positive rate  ally associated classiﬁer selection class classiﬁer aa  false positive rate classi  misclassiﬁcation cost distribution unknown training ﬁer cc  point cc  daa  xy  time roc analysis broader scope  plane roc space used represent perfor  limited costsensitive classiﬁcation categor mance classiﬁer  ical classiﬁer mapped point roc space means model ascending diagonal roc space  false positive rate xaxis true positive means performs worse random models  rate yaxis probabilistic classiﬁer results roc figure  worsethanrandom models                 predicted positive predicted negative  given three models model  model  model  output      actual positive                                 model  operates follows      actual negative                                   model  model  predict negative pre                                                              dict negative               table  confusion matrix                 model  model  predict positive predict                                                              positive                                                            model  predicts negative model  predicts posi  useful trick obtain betterthan tive predict opposite model  predicts  random models simply invert predictions origi  predict model  predicts  nal model corresponds exchanging columns  contingency table leading new true positive rate table  algorithm repairpoint clause does  ba    − aa  minus original true apply inclusion constraints added  positive rate similarly obtain new false positive rate completeness  dc    − cc  geometrically corresponds  mirroring original roc point through midpoint  ascending diagonal                               siﬁed negative model  positive models                                                          tp − tp ∪ fp − fp classiﬁed negative                                                        models   positive model  tp − tp ∪                                                        fp − fp classiﬁed negative three mod                                                        els pos − tp ∪ neg − fp pos neg                                                        sets positive negative examples respec                                                        tively construction model  classiﬁes ﬁrst group                                                        positive second group negative group pos                                                        itive fourth group negative true positives                                                        model  tp ∪tp −tp inclusion                                                        constraints result follows analogous false positives      figure  inverting predictions worsethanrandom  models diagonal transformed  betterthanrandom models diagonal      notice ascending diagonal really connects  classiﬁers classiﬁer predicts negative   classiﬁer predicts positive   suggests repair procedure  generalised line segments connecting arbitrary classiﬁers  instance consider figure  denote sets true  false positives model tpi fpi figure  model  mirrored model  help  struct model  condition tp ⊆ tp ⊆ tp models    fp ⊆ fp ⊆ fp particular inclusion  straints satisﬁed models    obtained equivalent construction following remove  setting thresholds probabilistic model test set instances classiﬁed positive model   assume paper                  instances classiﬁed negative model  imagine    model  operates indicated table  inclusion smaller nested roc space model  represents  constraints guarantee geometric conﬁguration fig  model  represents  inclusion  ure  holds formally stated following theorem constraints position model  remains unchanged note                                                        model  performs worse random model  theorem  assuming tp ⊆ tp ⊆ tp  fp ⊆    nested roc space construct model  figure   fp ⊆ fp model produced algorithm repairpoint inverting predictions model  remaining test  true false positive rates tpr  tpr tpr −tpr examples  fpr  fpr  fpr − fpr tpri fpri  end section noting true false posi  note true false positive rates model        tive rates derived model  hold test set  proof inclusion constraints expressed models    evaluated second  orem disjoint groups examples clas dependent test set roc locations  classiﬁers  siﬁed positive models    tp ∪ fp clas different – particular model  theline connecting models   case model  score calculated probabilistic model interval  evaluated worse model  experiments output constant score midpoint inter  use validation sets decide concavities val assuming ties broken assigning random  stable different samples discussed rank replace concave region roc curve  section                                          line segment cd interesting note                                                        procedure followed concavities corresponds    identifying repairing concavities         constructing convex hull discretising probability     roc curve                                          scores                                                          theory able better  previous section outlined main ideas underlying                                                        invert ranking instances probability  pairing concavities roc curves preliminary ex                                                        interval seen applying algorithm repair  periments indicated threepoint approach crude                                                        point thresholds interval instance ap  work practice section introduce                                                        plying algorithm model corresponding threshold  main algorithm manipulates section roc                                                        point pointmirrored through midpoint  curve roc curve obtained evaluating probabilistic                                                        line segment cd side convex hull  classiﬁer test set varying decision threshold                                                        thresholds resulting roc  sulting step curve hand till  efﬁcient                                                        curve shown figure  note area  way constructing curve ranking instances                                                        curve replaced equally large area  corresponding predicted probability positive                                                        curve auc repaired curve larger  fawcett  figure  shows roc curve                                                        auc original curve auc  probabilistic model evaluated small test set                                                        convex hull  vex hull provost fawcett         figure  probabilistic roc curve convex hull figure  mirroring concave roc curve      points roc curve point lo  cated convex hull each points corresponds algorithm produce model repaired roc  probability threshold each segment curve given table  procedure works model  vex hull corresponds probability interval instance calculates score probabilistic model special case  convex hull figure  three segments corresponding  three disjoint probability intervals three ﬁve                                                          given scoring model thresholds  construct  segments delineate concave regions roc curve indi scoring model predicting scores follows let  cated example area delineated line score predicted  ab roc curve point point gen   predict  eral concave area means ranking obtained   predict  probabilistic model probability interval worse  predict  −  random instance consider area largest  concavity way repair concavity ignoring table  algorithm repairsection algorithm effec                                                        tively inverts ranking instances score pre         illustration purposes test set contains ex dicted falls interval    amples resolution roc curve low practical  circumstances step curve higher resolution obtained  experimental evaluation                                train naive bayes decision tree model train                                                              ing data construct roc curve convex hull  number experiments evaluate ap     training data  proach used  twoclass data sets uci repos  adjacent points interval  itory blake merz  table  shows numbers   area largest let  attributes numbers examples relative size corresponding score thresholds  majority class                                           produce new probabilistic model calling repair                                                              sectiont         dataset       attrs exs  majclass               evaluate validation set construct         australia                                  roc curves calculate aucs aucm ≤         sonar                                      aucm          glass                                     evaluate test set construct roc         german                                    curves calculate aucs         car                                       each fold used test set         anneal                         monk                                           table  experiment repairsection         monk                           monk                           hepatitis                                dataset       auc         auc         better         house                                                  original  repaired           tictactoe                               australia      ±   ±  ×         heart                                    sonar          ±   ±          ionosphere                               glass          ±   ±  ∨         breast cancer                             german         ±   ±  ×         lymphography                             car            ±   ±          primary tumor                            anneal         ±   ±  ∨         soybeanlarge                            monk          ±   ±  ∨         solarflare                              monk          ±   ±  ∨         hayesroth                                monk          ±   ±  ∨         credit                                   hepatitis      ±   ±          balance                                   house          ±   ±          bridges                                  tictactoe    ±   ±  ∨                                                            heart          ±   ±  ×       table  uci data sets used experiments      ionosphere     ±   ±                                                             breast cancer  ±   ±  ∨    experimental procedure ﬁrst experiment  lymphography   ±   ±  ∨  follows split data set folds use primary tumor  ±   ±  ∨  training validation testing soybeanlarge  ±   ±   trained naive bayes model decision tree model solarflare    ±   ±   training data chose thresholds delineate hayesroth  ±   ±  ∨  concavity produced new model repairing    credit         ±   ±   probabilities thresholds use new balance    ±   ±   model improves auc validation set detailed bridges    ±   ±   procedure given table                             average                  ran experiment repairsection times obtained  pairs auc values use validation set table  results experiment repairsection naive  able decide repair resulted better model bayes bridges data set used fold cross  – discard use original unrepaired model validation  reason report results nondiscarded  models smaller  average aucs conducted experiment validation folds  unrepaired curve repaired curve each data set use repaired model auc higher  given tables   performed paired ttest validation folds results naive bayes  −  degrees freedom level conﬁdence  shown table  obtain  signiﬁcant wins  test signiﬁcance average difference auc  signiﬁcant loss average increase accuracy  results favourable signiﬁcance tests yield  wins percentagepoint interestingly validation   losses repaired naive bayes models  wins  folds didn’t work decision trees  losses repaired decision tree models                                                          finally conducted experiment naive bayes    experiments using validation set yielded worse                                                        selected concavities repaired  results use validation set appears crucial                                                        occurred validation sets results similar    notice decision trees viewed scoring classiﬁers results ﬁrst experiment  signiﬁcant wins  ferri et al  provost domingos      three losses wins losses occurring   dataset       auc          auc          better        discussion conclusions                   original   repaired        australia      ±   ±             work reported paper bears similarity en     sonar          ±   ±  ∨          semble methods bagging boosting wellknown     glass          ±   ±  ∨          ensemble approaches approaches implemented     german         ±   ±  ∨          resampling methods bagging breiman  en     car            ±  ±            semble formed making bootstrap replicates train     anneal         ±   ±  ∨          ing data sets multiple generated hypotheses used     monk          ±   ± ∨                                                                              ±           ±        ∨          aggregated predictor boosting algorithms freund     monk                                                 monk          ±   ± ∨          schapire  assign different weights training     hepatitis      ±   ±             stances depending correctly classiﬁed     house          ±   ±  ∨          approaches presented paper make use     tictactoe    ±   ±  ∨          resampling techniques     heart          ±   ±  ×            relevant ensemble method majority voting     ionosphere     ±   ±             kimura shridar  lam sue      breast cancer  ±   ±             class predicted ensemble predicted class     lymphography   ±   ±  ∨          base classiﬁers algorithm repairpoint     primary tumor  ±   ±  ×          paper uses kind voting model  model     soybeanlarge  ±   ±  ×           figure  agree classiﬁcation instance     solarflare    ±   ±  ×          choose class choose class     hayesroth     ±   ±  ∨          predicted model  majority voting     credit         ±   ±             hand choose class predicted model                         ±           ±     balance                         difference majority voting does quality     bridges        ±   ±  ×     average                                  different models account repair scheme                                                        knows model  suboptimal corrects  table  results experiment repairsection decision predictions relevant region  trees                                                  roc curves contain wealth information                                                        formance classiﬁers utilised                                                        construct better models used ﬁnd optimal     dataset       auc          auc         better                                                            original   swapped              labelling decision trees ferri et al  ﬁnd good                                                                                                    australia     ±   ±  ×           decision thresholds probabilistic classiﬁers lachiche     sonar         ±   ±  ∨           flach  paper proposed novel ap     glass         ±   ±  ∨           proach construct new models repairing concavities     german        ±   ±  ∨           roc curve ﬁrst method repairpoint works     car           ±  ±             probabilistic classiﬁer three probability thresholds     anneal        ±   ±  ∨           tries improve poorest model help     monk         ±   ±  ∨           preliminary experimental results reported showed     monk         ±   ±  ∨           didn’t work fact     monk         ±   ±  ∨           selection threshold model  easy     hepatitis     ±   ±              threshold point chosen based roc curve     house         ±   ±  ∨           training data set point point figure      tictactoe   ±   ±  ∨           farthest distance convex hull threshold     heart         ±   ±              optimal test data instance position     ionosphere    ±   ±              roc curve test data set unfortunately located     breast cancer ±   ±              position auc repair worse     lymphography  ±   ±  ∨           believe idea mirroring models lines roc     primary tumor ±   ±  ∨                                                        space prove useful interesting investiga     soybeanlarge ±   ±     solarflare   ±   ±              tion future work similar method     hayesroth    ±   ±  ∨           work models obtained single scoring     credit        ±    ±             model invalidate theorem  position     balance       ±  ±             model  different point obtained point     average                                  mirroring                                                          second method repairsection locates repairs  table  results naive bayes using validation folds entire concave region roc curve experimental                                                        sults encouraging naive bayes                                                        cision trees naive bayes able improve  different data sets appears repairing largest sults using validation folds didn’t  concavity using validation sets best strategy work decision trees currently investigating  naive bayes                               possible explanation roc curves ob
