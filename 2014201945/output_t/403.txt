                fast algorithm connected row convex constraints∗                                                yuanlin zhang                                           texas tech university                                       science department                                             yzhangcsttuedu                          abstract                          number constraints γ maximum degree                                                        constraint graph      interesting tractable problems identiﬁed   paper making use row convexity connect      model constraint satisfaction prob  edness constraints propose new algorithm solve      lems problems usually solved forcing crc constraints time complexity onσd  ed      certain level local consistency paper σ elimination degree triangulated graph      class connected row convex constraints given problem observe satisﬁability crc      propose novel algorithm based    constraints preserved variable eliminated      ideas variable elimination efﬁcient com proper modiﬁcation constraints neighbors      position row convex connected constraints eliminated variable new algorithm simply eliminates      compared existing work including ran    variables reaches special problem      domized algorithms new algorithm better  variable      worst case time space complexity               key operation elimination algorithm com                                                        pose constraints properties connectedness    introduction                                       row convexity constraints make possible fast                                                        composition algorithm time complexity od  constraint satisfaction techniques wide applica paper present elimination algorithm  tions combinatorial optimisation scheduling conﬁgura preliminaries crc constraints methods com  tion areas constraint satisfaction pute composition row convex connected constraints  problems csp nphard general active research proposed examine elimination algorithm  area identify tractable csp problems ﬁnd efﬁcient problems sparse constraint graphs conclude  algorithms                                  paper    interesting class row convex constraints iden  tiﬁed van beek dechter  known  preliminaries  problem row convex constraints path consistent                                                         binary constraint satisfaction problem csp triple  tractable ﬁnd solution problem vdc                            ∈  problem path consistent path consistency enforcing   ﬁnite set variables                                                        dx ﬁnite domain ﬁnite set  lead global consistency possibility                         row convexity constraints destroyed deville binary constraints variables  usual                                                        sume constraint pair variables  et al  restrict row convexity connected row convex  ity crc fact scene labeling problem constraint use   denote number variables number                                                       constraints maximum domain size csp prob  based grammar examples given van beek dechter                     crc constraints ﬁnd solution crc lem use           denote variables                                                        paper constraint graph problem vdc graph  constraints enforcing path consistency deville et al               jc  ∈  provide algorithm efﬁcient general path vertices edges     ij      csp  sistency algorithm making use certain properties row satisﬁable assignment values variables                                                        constraints satisﬁed  convexity algorithm worst case time complexity                                              ond space complexity ond   assume total ordering each domain   number variables maximum domain size necessary introduce head tail each variable  cently kumar  proposed randomized algorithm domain head tail respectively smaller larger                                        oγnd        respectively value domain func  crc constraints time complexity                    ∈   ∪                  space complexity oed personal communication tions succ          head   pred                                                          ∈ di ∪tail denote respectively successor pre    ∗     research leading results paper funded decessor current domain di∪head tail  nasannggpg                              domain di omitted clear context                                                    ijcai                                                                                                                                    given constraint cij value ∈ di extension −xdc   ∪cxj ◦cix ∩cij  cjxcix ∈  set cija ∈ dj  ∈ cij cija called rx  j−rx elimination composing  image respect cij clearly cijheadcijtail cix cxjifcij ∈ simply cij universal  ∅ standard operations intersection composition constraint di × dj  applied constraints composition cix cxj  denoted cxj ◦ cix convenient use boolean theorem  consider arc consistent problem vdc  matrix represent constraint cij rows columns crc constraints variable ∈   let  ordered ordering values di dj v dc problem eliminated    constraint cij arc consistent ac value satisﬁable iff  satisﬁable  di support dj value dj support                                                                                                    di csp problem arc consistent constraints proof ﬁrst prove satisﬁable  let  arc consistent path xy constraint graph solution  sx assignment sx¯                                                                           consistent assignments   restriction  need show sx¯ satisﬁes                                                                ∈ cxy assignment each variables cij ∈ cixcxj ∈ solution  sx¯                                                                                                path constraints path satisﬁed satisﬁes cix cjx cij sx¯ satisﬁes cij  assignments constraint graph path consistent prove  satisﬁable  let solu  path graph consistent csp path consistent tion  show extensible consistently  completion constraint graph path consistent  let vx  cix ∈ rx each ∈ vx let  csp partially path consistent constraint graph path assignment ai let  cixai  ∈ vx  consistent bliek samharoud               constraints row convex arc consistent    constraint cij row convex exists total order sets convex         ing  ’s consecutive each row consider sets cixaicjxaj ∈  matrix cij reduced form constraint cij      ∈ c     c                          ∗                                            solution       ij ij constraint   noted cij obtained removing di dj                                                                 fact cij  cxj ◦ cix ∩ cij cij  spectively values image respect cij cji                                                        universal implies exists value ∈ dx  respectively row convex constraint cij                                                        aiaj satisfy cixcjx cij cixai ∩  image ∈ di represented interval   ∅                                                   jx      property intersection convex    ﬁrst value sets intersection sets  ∈ cij row convex constraint cij connected ∈∩                                         ab                                e∈s    easy verify solution   images         consecutive rows satisﬁable                        columns respectively cij satisfy  b∩     a b  ∅   b∩ a    b   ∅     based theorem  reduce csp crc         pred                   succ          straints eliminating variables trivial  note purposes deﬁnition connectedness problem reached  stronger deville et al   straint row convex connected arc consistent  constraint cij connected row convex reduced form algorithm  basic elimination algorithm crc  row convex connected constraints obtained straints                                                            eliminate inoutv consistent  intersection composition crc constraints   csp problem stack  connected row convex transposition crc constraint  enforce arc consistency                                                              domain  connected row convex enforcing path consistency   consistent ← false return  csp crc constraints make problem globally     consistent ← true                                                                       consistent deville et al                           ← ←∅ ←                                                               ∅    consistency property row convex constraints    select remove variable                                                                                                                                              cx ←cyx  cyx ∈   nice property convex sets given set                                                                                     foreach cixcjx ∈ cx ijdo              ≤           ⊆                                        total ordering set   convex elements          cij ← cxj ◦ cix                                                                                    consecutive ordering                      cij ∈ cij ← cij ∩ cij                                                                                                                                                      ← −cij  ∪cij             ∈  min ≤ ≤ max                                                                                                                 collect values valid cij                                                                remove domains values propagate removals  consider collection sets  eek      domain                                                                           ←  dering ≤ ∪ikei ei ≤ ≤ convex       consistent false return                                                                  c ← c − c                                                                       intersection sets                                                                          ←  ∪ cx  intersection pair sets van  spush                                                                     beek dechter  zhang yap               ←  consistent ← true      variable elimination crc                          procedure eliminatevdc consistent al  consider problem vdc variable ∈  rele gorithm  eliminates variables vdc  vant constraints denoted rx set constraints returns consistent false domain   cyx  cyx ∈ ctoeliminate transform vdcto true eliminated variables pushed                                                    ijcai                                                     stack order contain “removed” connectedness stronger original deﬁnition  straints associated eliminated variables parts following property clear useful section  algorithm clear body  loop lines  –  eliminates variable line  property  given row convex connected constraints              c                           c  discards  constraints incident  cix cxj let cij composition ∈ di                                               c  line – push  stack constraints ciju                                                            associated  eliminate  stack revised lines   used ﬁnd compose constraints cix cxj simply  solution original problem                   multiply matrices amounts complexity                                                                elimination algorithm straightfor od   present fast algorithms compute com  ward design algorithm ﬁnd solutions prob position section constraints use interval  lem crc constraints algorithm  line  represents representation deﬁned cij ∈ ∈ di  assigned variables cx line  contains cijumin used minv  ∈ cij cijumax  straints involve instantiated variable line  maxv  ∈ cij  cx domain dx modiﬁed                                                          basic algorithm compute composition                                                        interval representation procedure compose     algorithm  solution crc constraints                                                        algorithm  value ∈ di ∈ dj lines –     solve consistent        csp problem                   compute ∈ cxj ◦ cix property  min ≤       create stack                         max true line        eliminate  consistent       consistent return       ←∅       sempty                                         basic algorithm computing composition           ←                                             algorithm              spop                                      constraints          cx ←cix  cix ∈ ∈                                                                                  each ∈ let bi assignment       compose ix xj  ij                                                               ←                dx ←∩c  ∈cx cixbi                                   succ head                 ix                                                          choose value dx assignment    tail                                                                ←               ← ∪x                                               succ head                                                                  min ← tail max ← head                                  output assignment variables                 tail                                                                    disjoint cixu cjxv                                                                       vmax max ←                                                                       vmin min ←                                                                    ← succ dj   theorem  assume time space complexity         cij umin ← min cij umax ← max  composition intersection respectively constraints  ← succ di  oα assume time space com disjoint cixucjxv                                     oed    oβ          cixumin cjxvmax cixumax cjxvmin  plexity enforcing arc consistency                 return true  given crc problem vdc solution prob    return false  lem onα working space  β      assume constraint graph complete  variable neighbors eliminate proposition  procedure compose time com  variable line – takes onα totally variables plexity od space complexity                                               removed complexity eliminate α                                                          loops lines   time complexity  procedure eliminate dominates complexity solve       ﬁnd solution takes onα  ed od                                           ed cost amortizable removing values prop emphasize interval representation  agation working space excludes space rep constraints cix cxj need compose  resentation constraints new constraints created twice compute cij cji separately does af  elimination useful distinguish existing non fect complexity algorithms using composefor  randomized algorithms paper space com example eliminate use compose need change  plexity refers working space complexity default ijline  algorithm    stack set used solve eliminate  hold variables need space total space used  remove values support  solve onβ β space cost amortizable composition does lead removal values  removing values propagation              assumption intersection inevitably cause                                                        removal values case maintain row    composing crc constraints                      vexity connectedness need remove values                                                        support domains algorithm removevalues  section consider constraints row listed algorithm  makes use interval representation  vex connected constraints arc consistent line – propagate removal values domain  accordance deﬁnition remember deﬁnition line  let program involving                                                        procedure exit output indicating inconsistency                                                    ijcai                                                                                                                                                        algorithm  remove values                         row contains  ij  ﬁrst value                                                                    min                    removevalues                     ij min    ij ⊥ value        queue values removed         cijvminmin cijr ﬁrst value di        ∅                                     max                             delete value         ij  max     ij ⊥ value          foreach variable cyx ∈      cijvmaxmaxifcij row convex connected cijt              foreach value ∈ dy                 cyxvmin   cyxvmax    succhead di cijb  predtail di ﬁelds                    ← ∪v                    related follows                  cyxvmin                    cyxvmin ← succ dx                 cyxvmax           proposition  given row convex connected constraint                   cyxvmax ← pred dx          cij ∈ di cijl ≤ ≤ cijl⊥ cijumin                delete dx                      min cijr ≤ ≤ cijr⊥ cijumax                dx  ∅ output inconsistency exit                                                        max relation cijl cijl⊥ cijr                                                        cijr⊥ arbitrary                                                                                                                                                                                                                                                                                                                                                                                                                    vdc                                           proposition  given csp problem       crc                                                                                                    straints interval representation worst case time                               oed                                   shape        shape  complexity removevalues       space com                                                                                                                                                                                                                                                                                                ond                                                                            plexity                                                                                                                                                                                                                                                                                                       let δi degree variable ∈  delete value          shape     shape     shape                                                                  line – cost δid worst case nd values                                                                                                                                                                                                                                                                                                           δid ×                            removed time complexity i∈n                                                                                               oed  space cost ond                                shape       shape    given problem crc constraints represented                                  ∈               figure  possible shapes strips constraint  matrix each constraint ij    setup  row convex connected  cijumin cijumax collect values di  support let contain removed values during consider row convex connected constraint cij let  setup stage removevalues make prob llll sorted values cijl cijr cijl⊥  lem arc consistent process time complexity cijr⊥ matrix cij consists following strips         oed  working space complexity ond strip denotes rows cijt lmiddle strip    process theorem  proposition  rows  strip rows  clear procedure solve equipped compose cijb diagram  removevalues  following property note row convexity connectedness cij implies  time space cost removevalues “amortized” ’s strip ’b’ shape ’d’ shape  eliminate                                         ’s middle strip ’’ shape ’o’ shape ’’ shape                                                        ’s strip ’q’ shape ’p’ shape  corollary  given problem crc constraints solve figure  note shapes abstract shapes  ﬁnd solution time ond space complexity ordinary geometrical properties strips  ond                                                shapes characterised following properties      fast composition constraints                  property  strip uu ∈ cijt  compose makes use row convexity ≤ ciju ⊆ ciju middle strip ev  minimal degree fact better        ery uu ∈  ll  predu shape ’’ im                                                        plies cijumin≤cijumin cijumax≤cijumax                                                                     tt                                                                                         shape ’o’ implies ij     ij   shape ’’ implies                                                                                     ≤c             ≤c                                                ij  min  ij  min ij  max  ij  max bot                                                                                                                                 ∈       ≤                                                   tom strip         ij                                                                                                ⊆                  ⊥        ⊥               ij     ij                                                                                                                                         assume  cix cxj row convex connected   figure  area ’s matrix crc constraint new algorithm compute cxj ◦ cix listed algorithm     ’s matrix crc constraint form ab based following ideas  ﬁrst compute  stract shape shaded area figure  slant cijumin ∈ di line – called min  edges mean monotonicity concrete boundaries phase compute cijumax ∈ di line  characterised following ﬁelds associated – called max phase  phases  cij let min mincijumin  ∈ di  max      properties shapes strips cix employed  maxcijumax  ∈ di ﬁeld  cijt denotes speed computation  value di corresponding ﬁrst row contains min phase algorithm starts strip   cijb value di corresponding cix let  cixt cijumin line  let                                                    ijcai                                                           algorithm              fast algorithm computing composition                                        algorithm             search methods computing composition        constraints                                                                                           constraints         fastcompose        cixcxj       cij                                                               searchtoleft inout         cixcxj    ulvcij                 let ll    ascendingly sorted values ll⊥rr⊥        cix                               search left              min phase                                                                                                  ≤l               process strip cix                                                                                    ﬁnd ﬁrst   head  dj               ←   cixb                                                                                                        cixu  ∩  cjxpredv        ∅                                              ∈                ∩      ∅             ﬁnd  head   tail ﬁrst       ix          jx                                                 cij umin   ←     ←  succ   di             cij  umin ←                                                                                                                        searchtoleftwrap          inout  cixcxj    ulvcij                 searchtoleft       cixcxj   ulvcij                                                                                                                                search left              process middle strip                                                                                 wraptoright    ←  false             middle strip ’o’ shape                                                                      ≤l                       ←                                                                                                                               ﬁnd ﬁrst   head  dj                             ≤               ←    ←                                            ij    min              succ                                                      cixu  ∩  cjxpredv        ∅  cixu   ∩ cjxv     ∅            middle strip ’’ shape                                                                           does exist wraptoright    ←  true break                      cjxt   cixumax    cjxpredvmin                                                   cij umin  ←   ←     ←  succ   di                           searchtoleftwrap         cixcxj   ulvcij                                                                                                                            wraptoright   true ≤l                    searchtoright      cixcxj    ulvcij                                                           searchtoright       cixcxj   ul  succ   head dj   cij             middle strip ’’ shape                                                                searchtoright        inout   cixcxj   ulvcij                         cjxt   cixumin   cjxpredvmax                                              search right                         searchtoleftwrap         cixcxj   ulvcij                                                ≤l                                                                                                                                 ﬁnd ﬁrst  tail dj                                                    ulvc                   searchtoright        ix   xj               ij                                                         cixu  ∩  cjxpredv        ∅  cixu   ∩ cjxv             strip                                                                                                   cij umin ←    ←    ←   succ   di              searchtoright        cixcxj   ucij   cij                                                                                                                     searchtorightmax          inout  cixcxj    ulvcij                 max phase                                                                                                search right             process strip                                                                                     ≤l              ←   cixb                                                                                                                                ﬁnd  tail dj cixu  ∩ cjxv     ∅            ﬁnd ∈  dj   cixu  ∩  cjxv    ∅                                                                                                                                cij umax  ←    ←    ←   succ  di            cij  umax  ←                                                                                                                                                                ulvc            searchtorightmax         cixcxj   ulvcij                                                        searchtorightwrap          inout   ix   xj             ij                                                                                                                                                               process middle strip                                                                                 search right                                                                                                                                        ←            middle strip ’o’ shape                                                                   wraptoleft       false                                                                                                                                   ≤l                    ←                                                                                                                                                                                                                                                                                  ≤   cij  umax  ←    ←   succ  di                                             ﬁnd      tail                                                                                                                                  cixu  ∩  cjxsuccv        ∅  cixu   ∩ cjxv     ∅                                                   middle strip ’ ’ shape                                                                          does exist wraptoleft   ←   true break                                                                           jx      ix     max      jx  succ       min                                             cij umax     ←    ←   succ  di                           searchtorightwrap         cixcxj    ulvcij                                                                                                                              wraptoleft  true                                                       ul   vc                   searchtoleftmax         ix   xj              ij                                                    searchtoleftmax        cixcxj   ul  pred   tail dj  cij             middle strip ’’ shape                                                                searchtoleftmax         inout   cixcxj   ulvcij                                                                               jx      ix     min      jx  succ      max                                        search left                                                            ul   vc                         searchtorightwrap          ix    xj              ij                                          ≤l                                                                                                                                                                                       searchtoleftmax       cixcxj    ulvcij                                                        ﬁnd ﬁrst       head                                                                                                                                     cixu  ∩  cjxv     ∅               strip                                                                                                                              cij umax  ←    ←   vu   ←  succ   di            searchtoleftmax        cixcxj    ucij   cij             set ﬁelds cij  ll⊥rr⊥                                                                                                                     max phase similar finally according new                                    cij                                                                                     property strip ﬁnd                                 ij     min             set attributes              cij   proper way line  clearly     ∈    cijt     order scanning                                       each phase need time cost                             od  head       dj searching left                   line  search  procedure         searchtoleft               listed algorithm                                                                                                            proposition             algorithm             fastcompose               correct  needs note                  replaced                line  similarly                     composes constraints time complexity                                     od        process strip searching right                                                 space complexity                 ∈   dj    line  middle strip three cases  three shapes property  lines – quite straight  forward ’o’ shape ’’ shape line –                                                         csp’s sparse constraint graphs     ﬁrst column                   cxj       cixu     “above”                  practical efﬁciency                   eliminate            affected  interval column                         cxj    line  need                      dering variables eliminated consider constraint  search left                sure miss value                                   graph variables                          shown left    dj    smaller                support                ∈             corner figure  ﬁrst row choose eliminate                                          property ’’ shape hit                                  head              ﬁrst          process constraints composed  dj     support need search right                                               ﬁrst eliminate                                  shown     tail  necessary line  process implemented                                           second row           eliminate             needs make  compositions   searchtoleftwrap                     line – algorithm  cor                                eliminating each variable                          rectness method assured connectedness                                                       topology constraint graph employed ﬁnd  row convexity                     cix       cxj details                          good variable elimination ordering consider trian  given space limit line                                                   gulated graphs undirected graph                               triangulated          need search right                     values        pro                  cycle length                           exists non  cess ’’ shape similar ’’ shape                                             consecutive vertices cycle edge  “symmetrical” differences line                                                                                   given vertex                   ∈    gnx denotes                                                                                                     ijcai                                                                                                        
