    using probabilistic logic programming language plog causal                   counterfactual reasoning nonnaive conditioning                                    chitta baral    matt hunsaker                             department science engineering                                          arizona state university                                           tempe arizona                                         chittahunsakerasuedu                        abstract                           dekhtyar dekhtyar  lukasiewicz                                                         dynamically ordered probabilistic choice logic programming      plog probabilistic logic programming lan   vos vermeir  recent langauge plog      guage combines logic programming      baral et al   focus paper      style knowledge representation probabilistic  log      reasoning earlier papers various advantages                                                        earlier shown plog advantages      plog discussed paper                                                        languages particular plog allows wide variety      elaborate kr prowess plog showing                                                        updates compared approaches allows explicit      used causal counterfactual                                                        speciﬁcation background knowledge allows logical      reasoning ii provides elaboration toler                                                        reasoning dynamically decide range values      ant way nonnaive conditioning                                                        random variable paper show plog                                                        causal counterfactual reasoning kind    introduction motivation                        pearl’s probabilistic causal models encoding                                                        probabilistic causal models plog state correspon  recent years lot progress logical dence correspondence shows computation  knowledge representation reasoning proba causal counterfactuals pcms algorithmic na  bilistic knowledge representation reasoning ture encoded plog automatically captured  attempts developing formalisms allow semantics language show plog’s abil  logical probabilistic knowledge representation ity allow logical reasoning dynamically decide  approach pearl’s probabilistic causal models range values random variable leads  pearl  pearl’s formalism improvement elaboration tolerant way perform nonnaive conditioning  traditional propositional probability representations halpern  illustrate respect halpern’s  bayes’ nets limitations asso secondace puzzle example  ciated propositional representation classical  monotonic reasoning recent years approaches  background  overcome proposed proposed approaches                                                        subsections brieﬂy review syntax  overcome limitations propositional representation                                                        simpliﬁed version plog baral et al   include probabilistic relational models koller  getoor                                                        syntax semantics probabilistic causal models pearl  et al  various probabilistic ﬁrstorder logics nilsson                                                           bacchus  bacchus et al  halpern    pasula russell  poole andap     plog lite overview  proaches based assigning weights ﬁrstorder formu                                                        simplicity deﬁne subset probabilistic  las paskin  richardson domingos                                                        logic programming language plog plog  formalisms integrate logic pro                                                        lite use logic programming terminology terms atoms  gramming probability poole’s probabilistic horn                                                        literals plog lite program Π consists set  abduction pha poole  independent choice                                                        boolean attributes ¬p  atom  ii regular  logic icl poole   lpad formalism ven                                                        iii set random selection rulesivaprobabilistic infor  nekens et al  bayesian logic programming kerst                                                        mation set observations actionsinthe  ing raedt  alterid breese  wellman                                                        following denote vector parameters consisting  et al  probabilistic knowledge bases ngo                                                        terms ¬p refer p˜ refer ¬p  dawy  stochastic logic programs muggleton   cussens  probabilistic constraint logic programs rie earlier work plog baral et al  hinted  zler  santos costa et al  interval based prob respect monty hall example general methodolo  abilistic logic programming ng subrahmanian  gies “nonnaive” conditioning proposed                                                    ijcai                                                     ii regular regular plog lite program attribute literal pratoms                                                            ˜  consists collection logic programming rules ∈ does contain intervenel                                                                              ˜  disjunction stable model semantics    landp  iii random selectionarandom selection rule                                                        ready deﬁne measure μΠ induced  form                                                  plog lite program Π                     randomat                                                                        deﬁnition  measure unnormalized probability  statement  says ¬at selected ran                                                        μˆΠw  possible world induced Π μˆΠw   dom plog nonboolean attributes random state  product taken literals  ment general form                l∈                                                        deﬁned  randomattr    px                                                        ii measure normalized probability μΠw ofa  iv probabilistic information information probabil                  Π  ities random attributes taking particular values given possible world induced unnormalized probabil                                                        ity divided sum unnormalized probabilities  probability atoms simply pratoms form                                   μˆΠw                                                                              Π     μΠw                                                          possible worlds          μˆΠwi                       prlv                                                            wi∈Ω                                                        program Π clear context simply  ¬atandprat  cause write μˆ μ instead μˆΠ μΠ respectively                  probability                                     truth falsity propositional formulas respect  observations actions observations actions possible worlds deﬁned standard way formula  statements respective forms obsl dol true denoted   observations used record outcomes random deﬁnition  probability  events random attributes attributes dependent probability respect program Π formula                   doat            statement      indicates true  pΠa sum measures possible worlds  result deliberate nonrandom action      Π true pΠa a μΠw      semantics plog lite                               Π clear context simply write  semantics plog lite program Π given collec stead pΠ conditional probability plog lite deﬁned  tion possible sets beliefs rational agent associ usual way certain consistency  ated Π probabilities       ditions hold examples discussed paper                                                                                                      start translating logical plog lite pro plog lite programs formulas  set literals                                                                          abp           gram Π answer set prolog program τΠ described    wehave           ∪obsb                                                           probabilistic causal models  τΠ contains regular Π                                                                                                           each attribute atom τΠ rules section present deﬁnitions pearl                                                         deﬁnition pcmprobabilistic query  interveneat ← doat                                                                                               u   interveneat ← do¬at                          causal model causal model triple                                                         each randomat Π τΠ smodels rule                                                            ¬at ← interveneat                 set background variables called exogenous                                                        determined factors outside model  left hand side rule means                                                        ii set vvvn variables called endoge  ¬at answer set                                                        nous determined variables model   τΠ actions observations Π   variables ∪                 τΠ  literals  rules                 iii set functions fffn each fi  ← obslnotl                                        mapping ∪  vi vi entire  ← dol                                            set forms mapping  words each fi                                                                         answer set τΠ called possible world Πthe tells value given values variables                                                        ∪v                                       set possible worlds Π denoted ΩΠ         entire set unique solution given                                                        realization symbolically set equations  let possible world plog lite program ΠifΠ                                                        represented writing vi  fipaiuiin  contains random selection rule form randomat                                                        pai connoting parents subset variables   say ¬at possible                                                        vi ui stands subset variables  respect Πforeveryw ∈ ΩΠ literal possible  deﬁne corresponding probability refer realization set variables ⊆                                                        given causal model background variable real  each possible                                                         ization  ym used shorthand    ∈ Π             prlv            pratom          does contain ym explicitly use subscript mx                                      ˜  intervenel lvandp l−        realizations submodels deﬁned                                                    ijcai                                                     example  simple causal model consisting ﬁring squad pcm pcm ﬁring squad  background variable endogenous variables band background variables  endogenous variables  set following causal functions            candd stand   ∧            ∨                        court orders execution  captain gives signal                                                   riﬂe shoots  riﬂe shoots  prisoner dies  each value  unique solution               riﬂe pulls trigger nervousness                                                       causal relationships variables described                                                        functional equations   ∨    submodel let causal model set variables  ∨ addition probabilities  andx particular realization xasubmodel mx ground variables given  causal model mx  u fx fx  fi   vi ∈ x∪x                                        example observation assimilation query  submodels useful representing effect local ac consider query asks probability shot given  tions hypothetical changes mx represents model prisoner dead pcm formalism ex  results minimal change make  hold true pressed bd  der realization                             translate query equivalent plog lite query  effect action let causal model beasetof use program Π captures causal rela  variables andx particular realization xthe tionships probabilistic arguments ﬁring  effect action dox  given submodel squad pcm program Π explicit rules  mx                                                   positive negative boolean variables plog lite pre                                                        dictive query conditioned fact prisoner  potential response let subsets vari                                                        dead instead fact prisoner dead added  ables thepotential response action dox                                                         Π observation rule obsd plog lite program Π  denoted ym solution set equations                                                      consists following  fxwhereu particular realization                                                           declarations each background variable  counterfactual let xi subsets variables  thecounterfactual sentence “the value    boolean        randomu                                                               boolean       randomw     obtained xi forced xi” interpreted                                                         ym         denoting potential response xi partic   declarations each endogenous variable  ular realization                                      boolean         boolean  probabilistic causal model probabilistic causal model    boolean          boolean                mpu        pcm pair           causal model    pr atoms logic programming rules  probability function deﬁned domain                                                            prup           prw  set functional equations forms mapping   probability distribution induces proba  reminder logic programming rules  bility distribution endogenous variables         ←                      ¬c  ←¬u  foreverysetofvariables ⊆ wehavep            ←      ←          ¬a  ←¬c    ∧¬w     uy                                      ←                      ¬b  ←¬c                                                             ←      ←          ¬d   ←¬a   ∧¬b  probability counterfactual statement deﬁned                                                           bd                  ing potential response mx  induced submodel result        Π ∪ obsd    −−p−q                                         x expressed similar manner mx                                                    example intervention query     ymx uy  pcm  probabilistic query joint probabilities counter let consider following intervention query  factuals conditional observations fo probability prisoner dead given  cus counterfactual reasoning let ym  allowed shoot pcm formalism expressed                                                                                                           m¬a     mxm     counterfactuals let subsets                                              pcm probabilistic query form mx   translate query equivalent plog lite query                                           use program Π similar Π respect   mxm              value given                                                       parts  Π differs  having                            mx          mxm                           rules blocked intervention                                                      nonmonotonic operator logic programs comes                                                        handy    encoding pearl’s ﬁring squad plog lite          Π  section consider pearl’s ﬁring squad example ← docnotdo¬c  show encode example plog lite ← doanotdo¬a  ask counterfactual queries                            ←  doanotdo¬a                                                    ijcai                                                      ←  dobnotdo¬b                           • declarations each endogenous variable   ←  dodnotdo¬d                              index → boolean      index → boolean   ←  dodnotdo¬d                               index → boolean     index → boolean  ¬c  ←¬u docnotdo¬c                           • rules allow reason model  ¬a  ←¬c   ¬w doanotdo¬a  ¬b  ←¬c dobnotdo¬b                             use index  endogenous variables  ¬d  ←¬a   ¬b dodnotdo¬d                       background variables index                                                            main unchanged respect original model                         dp  result     m¬a    Π ∪ do¬a                          submodels    example counterfactual query                     ←         ¬c  ←¬u                                                             ←      ¬a  ←¬c   ∧¬w  consider following counterfactual query    ←   pearl  “what probability prisoner  ←      ¬b  ←¬c  alive shot given prisoner ←     ¬d  ←¬a   ∧¬b  fact dead”                                             ←     pcm  counterfactual query expressed • rules allow reason model m¬a  ¬dm¬a  ¬dm¬a  dm wherem orig  inal causal model                                        doing action assignment variable                                                            necessitates surgery model parents  pcm counterfactual query causal models                                                            variable assigned longer affect variable  probabilistic query conditional variable dm                                                            logically adding “not do” bodies  equivalent representation variable member                                                            rules result following rules  original causal model variable ym¬a  member submodel m¬a                               ←  docnotdo¬c                                                            ←  cnotdoanotdo¬a  encodings Π refers model encod       Π                                                  ←  doanotdo¬a  ing  refers model ¬a need     ←  cnotdobnotdo¬b  achieve carefully using indices   ← anotdodnotdo¬d  endogenous variables use index ex ←  bnotdodnotdo¬d  ogenous variables remain models                                                            ¬c  ←¬u docnotdo¬c  note Π apply rules original  model deﬁnition submodels result ¬a ←¬c  ∧¬w doa  effect action original model              do¬a  variables members need intervention ¬b ←¬cnotdobnotdo¬b  rules translation                                 ¬d  ←¬a  ∧¬bnotdod                                                                            do¬d  plog lite encoding example consist                                                                                      ¬d  program Π given ask query needs answer Π ∪ obsd ∪ do¬a needs  add obsd do¬a Π compute add intervention observation facts                                                           ¬  probability ¬d syntax plog lite obsd respectively compute                                 ¬d              probability ¬d respect resulting theory  expressed Π ∪ obsd ∪ do¬a                                                                  ¬d      intuition adding obsd observed result  m¬a                                                                              ¬d    −p×  respect original model encoded Π ∪ obsd ∪ do¬a  −−p−q  index  intuition adding do¬a ¬a  established through action resulting new model  general encoding pcm plog lite  m¬a  encoded index  intuition  asking probability ¬d query asked generalize encoding illustrated previous  model m¬a mentioned earlier en section arbitrary pcm theories queries  coded index  program Πits refer multiple hypothetical models refer  constituents follows                          encoding  accommodate multiple submodels                                                                                                    • declarations each background variable        log lite rules use index variable                                                        correspond original model pcm theory         boolean       randomu                                               boolean        randomw                           correspond submodels necessitated                                                       probabilistic query encoding consist    • probability atoms corresponding background vari following      ables                                                        step  enumerate models submodels necessitated      prup          prw                       probabilistic query thevariablesusedinthe    • indices enumerate models m¬a                                                           encoding pcm theory query independent      index                                      each                                                    ijcai                                                     endogenous variables rules domain index having unique solution does necessarily mean  index                                      obtained using mentioned three valued iteration                                                                                    step  each background variable ∈ following counterexample   pcm probability puq following let  ¬b ∨¬c ∨  ¬a ∧¬candc  ∨¬b                                                                boolean       pruq         randomu           false derive value                                                        three valued iteration unique solution  step  each endogenous variable xxn ∈  true  false    true  ∪                                                         satisﬁes causal            associated function      functions  following                                                        theorem   given pcm   mpuletp   denote    add following declaration                    probabilistic query respect let plog lite       index → boolean                              program obtained encoding described                                                        previous section let yym xxm    let disjunctive normal form fvxxn                                                        realizations subsets endogenous variables      ∨  ∨ cn each ci conjunction liter                                                        let ymx   xi counterfactual statements mxi      als xxn translation                                                           submodel realizations  unique      parameter added each endogenous variable xi                                                        solutions endogenous variables submodels mxi      xxn xi xis plog lite                                                        unique solutions computed iterative fashion      program following rules                                                        starting background variables following      vs ←  notdovsnotdo¬vs                                                                                  mx          mxm                                                          pt ∪obsc∪dox ∪∪dox                                                                                                                                        byymm      vs ←  cnnotdovsnotdo¬vs    let disjunctive normal form ¬fvxxn discussion theorem proof      ∨ ∨ dn each di conjunction liter encoding three main aspects encoding      als xxn translation pcm equations ii taking account severing      parameter added each endogenous variable xi connections variables action performed      xxn xi xis plog lite iii considering models submodels parallel during      program following rules          counterfactual reasoning notion “unique      ¬vs ←   dsnotdovsnotdo¬vs         solutions computed iterative fashion” impor                                                       tant leads correspondence unique                                                       lutions answer sets ii use negation      ¬vs ←   dnsnotdovsnotdo¬vs         failure operator “not” iii introduce multiple                                                        time lines overall proof based splitting logic                          ym   yym      step  encoding query                 xm      programming translation layers bot  ymc                                                 tom layer consists enumeration background vari                                  ym     yi             ables   each counterfactual statement xi    each variable ∈ member realization  pcm pal plog lite  xi  xiifv positive add dovs                                                                                             negative add do¬vs                        related work tran baral   encod                                                        ing pcm action language pal given en                       ∈       each variable       positive add  coding probabilistic logic programming language  obsw                         obs¬w             negative add             plog lite different encoding tran baral  presenting theorem formally relates pcm  key issue encode severing  ories queries encoding need consider nection variables action performed  notion “being able compute unique solutions causal achieved introducing ab predicate having ef  model using three valued iteration” consider causal fect axiom makevi causes abvivi static causal  model example  functions  ∧ law ¬abvi causes vi ⇔ fipaiui capture pcm    ∨ example  showed each value equation vi  fipaiui  unique solution case  unique solutions computed iterative fash  nonnaive conditioning plog  ion suppose initially assign value false uwe  assign unknown use valued logic show plog provides elaboration tolerant  causal functions compute values way perform nonnaive conditioning shows                               false     ﬁrst iteration value    value                                                 unknown                                                  signiﬁcance ai recent thesis riedel           second iteration reach ﬁxpoint  awarded best phd thesis electrical engineering  assigned false california institute technology year  mentions three  refer “being able compute unique solutions valued iteration does point iteration does  causal model using three valued iteration”           necessarily lead unique solution                                                    ijcai                                                     
