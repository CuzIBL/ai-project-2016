    characterizing nppspace gap satisﬁability problem modal                                                  logic∗                        joseph halpern                         leandro chaves regoˆ    †                science department                       statistics department                   cornell university usa           federal university pernambuco brazil                email halperncscornelledu                 email leandrodeufpebr                        abstract                          way contrast show inﬁnitely                                                        modal logics containing modal      great deal work character logic containing axiom k—kϕ ∧ kϕ ⇒ ψ ⇒ kψ—      izing complexity satisﬁability valid negative introspection axiom traditionally      ity problem modal logics particular ladner called axiom  formula ϕ consistent lthen      showed satisﬁability problem logics                                          ϕ                                                satisﬁable kripke structure size linear          pspacehard      ing result characterization set ﬁnite struc      npcomplete show negative intro                                                        ¬kp  ⇒  k¬kp                     tures consistent logic containing nagle      spectiontheaxiom                causes     thomason  show consistency      gap add axiom modal logic                                                                          satisﬁability problem npcomplete roughly           satisﬁability problem  speaking adding negative introspection logic      npcomplete satisﬁability     lowers complexity pspacehard np      problem npcomplete modal logic   complete      includes negative introspection axiom                                                          fact consistency problem speciﬁc modal                                                        logics containing npcomplete observed    introduction                                       fore said ladner proved easy  great deal work characterizing modiﬁcation fagin et al  gives result  complexity satisﬁability validity problem kd negative introspection axiom  modal logics halpern moses  ladner  plays signiﬁcant role observed  spaan  vardi  examples particular nagle  shows formula ϕ consistent  ladner  showed validity satisﬁability prob mal modal logic containing ﬁnite model  lem modal logic pspace model exponential ϕ using shows  hard pspacecomplete modal logics provability problem logic  showed satisﬁability problem decidable nagle thomason  extend nagle’s result  npcomplete                                       logics containing just normal logics despite    causes gap np pspace  prior work fact result follows  show precise sense negative introspection relatively straightforward combination results nagle  axiom ¬kϕ  ⇒  k¬kϕ easily follows ladner’s  thomason ladner’s techniques proving  proof pspacehardness modal logic consistency problem npcomplete result  tween exists family formulas ϕnall new somewhat surprising  consistent ϕn   smallest kripke structure satisfying ϕ states rest paper organized follows  ϕ length ϕ viewed string symbols section review standard notions modal logic                                                        key results nagle thomason  use sec    ∗     work supported nsf grants ctc tion  prove main result paper discuss   itr iis onr grants related work section   dod multi  disciplinary university research initiative muri program admin  istered onr grant second au  thor supported scholarship brazilian  government through conselho nacional desenvolvimento nguyen  claims result referencing ladner  cient´ıﬁco tecnol´ogico cnpq                     result certainly true immediate    †most work author ladner’s argument  school electrical engineering cornell univer modal logic normal satisﬁes generalization rule  sity usa                                          rn ϕ infer kϕ                                                    ijcai                                                      modal logic brief review                          modal logics typically characterized axiom systems                                                        consider following axioms inference rules  brieﬂy review basic modal logic introducing notation wellstudied literature blackburn et  used statement proof result syntax al  chellas  fagin et al  use tra  modal logic follows formulas formed start              Φpq                               ditional names axioms rules inference  ing set           primitive propositions actually axiom schemes inference schemeswe  closing conjunction ∧ negation ¬                                                      consider instances schemes  modal operator resulting language Φwe  omit Φ clear context does play prop tautologies propositional calculus                                ϕ∨ψ      ϕ ⇒  ψ  signiﬁcant role usual deﬁne      ab   kϕ  ∧ kϕ ⇒  ψ ⇒ kψ   distribution axiom  breviations ¬¬ϕ ∧¬ψ ¬ϕ ∨ ψ respectively  tended interpretation kϕ varies depending context kϕ ⇒ ϕ knowledge axiom  typically interpreted knowledge belief  kϕ ⇒ kkϕ positive introspection axiom  necessity epistemic interpretation kϕ read  “the agent knows ϕ” necessity interpretation kϕ  ¬kϕ ⇒ k¬kϕ negative introspection axiom             ϕ  read “ necessarily true”                    ¬kfalse  consistency axiom    standard approach giving semantics formulas                                                               ϕ     ϕ ⇒ ψ      ψ  Φ means kripke structures tuple mp    infer  modus ponens  kripke frame set states binary rn ϕ infer kϕ knowledge generalization  relation sasituation pair swheref  frame ∈ tuple kπ kripke   standard modal logics characterized sub  structure Φ frame π  × Φ → set axioms taken include prop mp  true false interpretation determines rn named axioms exam                                                             primitive propositions true each state intu ple consists formulas provable using  itively ∈kif state state considered pos prop  mp rn similarly deﬁne sys                                                                    kd     kt    kt  sible agent thinking representing tems         traditionally                                                              kt                               kt  agent’s knowledge belief convenience deﬁne called  traditionally called                                                                                 kst  ∈k                                 traditionally called                                                                                                             depending desired interpretation formula purposes paper modal logic  kϕ number conditions imposed binary collection formulas contains instances  relation reﬂexive ∈ ∈kitis prop closed modus ponens mp substitu                                                                    ϕ                 transitive ∈ sifs ∈kand ∈k tion formula primitive proposi                                                                ϕpψ ∈       ϕpψ  ∈kitisserial ∈ exists ∈ tion      result replacing                                                                       ϕ    ψ  ∈kitiseuclidean iff ∈ sif instances  logic normal contains  ∈kand ∈kthen ∈k use super instances axiom closed inference  scripts indicate relation restricted rule rn terms notation ladner  showed                                                                                            reﬂexive euclidean transitive serial respec normal modal logic  tively example srt class situations identifying modal logic set formulas                                                                      ⊆  ⊆                    ϕ ∈  relation reﬂexive transitive      just means            determining    write ms  ϕ ϕ true state kripke pspacehard course think modal logic                                                      characterized axiom ϕ ∈ iff ϕ  structure  truth relation deﬁned inductively fol                                         ϕ  lows                                                 provable axioms characterizing  say                                                        consistent ¬ϕ∈ consistency just         ms  pforp ∈ Φifπs ptrue             dual provability follows ladner’s result testing         ms  ¬ϕ ms  ϕ                     consistency pspacehard normal logic                                                         ladner’s proof actually shows proof         ms  ϕ ∧ ψ  ms  ϕ    ms  ψ                                                 holds change nonnormal logics shows         ms  kϕ  mt  ϕ ∈ks     formulas consistent logics                                                        satisﬁable large models precisely shows    aformulaϕ   said satisﬁable kripke structure following   exists ∈ ms  ϕ ϕ said  valid written  ϕifms  ϕ theorem  ladner   ∈                                                formula satisﬁable resp valid class checking consistency pspace complete  kripke structures satisﬁable kripke structure logic nonnormal logics  resp valid kripke structures   analogous deﬁnitions situations kripke structure  logic exists fam                                                                         kπ based frame        ily formulas ϕn                                                                                  ϕ                               ϕn consistent ii exists constant          formula valid situation  written                  ϕ         ∈  ms   ϕ          ϕn ≤dn iii smallest kripke structure                                                                  kripke structure based                        satisﬁes ϕ  states                                                    ijcai                                                      wellknown correspondence properties ϕ satisﬁable satisﬁable situation  relation axioms reﬂexivity corresponds number states linear ϕ  transitivity corresponds  euclidean property corre observation nagle thomason  sponds  serial property corresponds important sequel  correspondence precise following wellknown  theorem example fagin et al      deﬁnition      pmorphism  short pseudo                                                        epimorphism  situation s ks situation  theorem  let possibly subset   ks function  s →                                      let corresponding subset         • fss  prop mp rn∪cis sound complete axiomatiza                                                     •    ∈k      fs fs  ∈k  tion language Φ respect Φ                                                                                     •   fs  ∈k                     ∈ s    given modal logic llets  consist situations               exists                                                                  ∈k    fs  ϕ ∈ implies  ϕ imme                   diate consequence theorem  se situations  relation euclidean subset sk    nagle thomason  provide useful semantic char notion pmorphism situations variant stan  acterization logics contain review rele dard notions pmorphism frames structures black                                                                         vant details consider ﬁnite situations ks burn et al   known                                       morphism structure struc                                                        tures satisfy formulas analogous result    disjoint union sands   proved paper holds situations      s×s  ∪ ∪ × ∪ swheres  ∅                                                                                                    s       ∅or                                         theorem  pmorphism situation                                                        modal logic liff s ∈sl       ×                                                                                                      ∈s     using slight variant nagle thomason’s nota                  ≥      ≥           consider partial order pairs numbers  tion let mn                           ≤  mn iff ≤ m ≤  n nagle  denote situations ﬁrst type                                                                                              thomason observed ∈smn ∈smn    nandletsm− denote situations second   − ≤ ≤  mn                                                                             obvi  type         reason taking  ous pmorphism s siff  second subscript situations second type                                                                                     ∪     ∪ si  come clearer immediate situations                                                         si   deﬁnition smn deﬁne  smn ﬁxed isomorphic—they differ                                                                                         →  fs maps  names assigned states formulas                                                                                                     ∅thenf maps sotherwisef maps  valid situations smn easy                                                        arbitrarily following result motivates sub  check relation each situations                                                        script − sm− immediate observation  euclidean each situations skitiswell                                                     theorem   known situations sm− sit                                kd                                                                sm− ∪sm                              theorem   ∈smn ∈smn   uations               fact resp                           kd sound complete respect situations  − ≤ ≤ modal logic                                                          s ∈tl     ∈tl  sm− resp sm− ∪sm nagle thomason show                                                   true let ∪smn  ≥ ≥  −  ∩sl                               main results  theorem  nagle thomason  logic state key technical result                containing     sound complete respect theorem  modal logic containing ¬ϕ∈                 situations                                    exist  nϕ situation                                                                    key result paper shows formula ϕ ∈s ∩smn structure based  consistent logic containing exists ms  ϕ                   kπ            ∈      akripkestructure              state       proof theorem  ¬ϕ∈  situation          ks ∈s      ⊆tl        nϕ                                       mn  mn                   ∈t    ¬ϕ exists                                                                                                                                                       kripke structure based  ϕ    remark soundness completeness usually stated                                                                           suppose ∈smn ifm   ϕ  respect appropriate class structures                                                                                     suppose  ≥ϕ note means ≥   class situations proof applies                                                construct situation ∈smn  change show completeness respect  using  − ≤ ≤ mn  nϕ   ms  ϕ  allows relate result later results normal                    logics sufﬁces consider validity respect structures kripke structure based  gives desired  nonnormal logics need consider validity respect result construction similar spirit ladner’s  situations                                            proof analogous result case                                                    ijcai                                                                                                                                                    let set subformulas ϕ form kψ say maximal index ≥                                                                                                  ¬kψandletc set subformulas smn ⊆t   case smn ⊆t  ϕ form kψ kkψ subformula ϕ mn  mn easy        ¬kkψ  ∧ kψ remark hard ﬁnitely maximal indices  show reﬂexive transitive  ∅ maximal index  −  max                                                                                 suppose  s  kπ  each formula   imal indices maximal index                                                                                                                                                                                   ≤  kψ  ∈ exist state ∈ks                                                           ψ                                                          ≥    sc   ¬ψ              ∅    ks   ∅    contradicting maximality   say           ψ          note                                           ⊆tl        ≥−                                                       inﬁnitary ﬁrst index mn           deﬁne iss   ∈ksandis∅     oth   similarly say ≥− inﬁnitary second index                                                                   erwise let  sψ   kψ  ∈ c∪is note      smn ⊆t   ≥  note follows                                                                       − ≤ ≤ mn     m  ⊆ksssos≤sifkψ            ∈    theorem                       thenif                                                                                                                                                                                               kkψ   ∈ exist state ∈ks  inﬁnitary ﬁrst index thensois andif                                    ψ       kψ                                                    m∗      sc   ¬ψ              s   kψ      inﬁnitary second index thensois  suppose      ψ                      largest inﬁnitary ﬁrst index n∗ largest                                                                                       ∗    ∗  case sψ ∈k slets  sψ  kψ ∈  inﬁnitary second index wherewetakem    ∞                                         construction ⊆ ssos≤sands   ﬁrst indices inﬁnitary equivalently second                                                                                    ∗  disjoint  ∅thenc  ∅soc  ∅ indices inﬁnitary ﬁrst indices                                                                             ∗   ∅                                           inﬁnitary  − second indices                                                                                         let  s∪s ∪ deﬁne binary relation ﬁnitary follows represented                                                                m∗n∗   taking kss kts  ∪ ∈ ∪ tuple                                                                                                                            paper show deﬁned particular •   depending ∈t                   ∈          ∈         ∅  show                 • m∗  largest inﬁnitary ﬁrst index  show restriction k                                                          • n∗    let   kπwhereπ   restriction π     largest inﬁnitary second index  s∪s ∪sitiswellknownfagin et al  easy • mnmknk maximal indices                       ϕ                   ϕ                                    prove induction  subfor given representation  immediate smn ⊆         ϕ             mulas    disjoint sets subformulas iff following conditions holds  ϕ form kψ subformula ϕ  primitive proposition form kψ •    case  c≤ϕ− giving desired •  ≤ ≤ m∗  bound number states                                       ∗                                                          •−   ≤ ≤    paper show relatively straightforward • ≤   induction structure formulas states ∈       subformulas ψ ϕ including ϕ ms  assume algorithm checking  ψ iff s  ψ proof proceeds induction mula consistent “hardwired” description  structure ϕ                                       follows constant number checks inde                                                                 ϕ                       ⊆tl      construction ∈smnwherem   pendent  required mn                                                     observed mnϕ s≤s putting main result     ≤s        ≤ mn                          follows theorem   logics containing kchecking                 ∈tl  ⊆sl  theorem                  completes  ϕ consistent npcomplete problem  proof      idea showing consistency problem  discussion related work  logic contains npcomplete straightforward shown precise sense adding negative  given formula ϕ want show consistent introspection axiom pushes complexity logic  simply guess frame structure based pspacehard npcomplete  andstates ∈ ∈smn mnϕ attempt pin nppspace gap                                          verify ms  ϕ smn ⊆t   verifying   understand effect negative introspection axiom  ms  ϕ modelchecking problemitiswell discuss related work  known time polynomial num number results showing large classes logics  ber states case linear ϕsoit npcomplete satisﬁability problem proved  remains show given logic containing check                                                         implicitly assumed checking  ing smn ⊆t efﬁciently follows                                                                                equalities ≤  hold time  observations nagle thomason  show                                                      step assume instead requires time logarithmic                                  smn                                           ing include     inﬁnitely inputs checking smn ⊆t requires time logarithmic                                                                              ∗  ∗  pairs ﬁnite representation makes  mmknnk                                easy check smn ⊆t                     constants                                                    ijcai                                                    recently example litak wolter  show  results paper singleagent logics  satisﬁability ﬁnitely axiomatizatble tense logics halpern moses  showed consistency prob  linear time npcomplete bezhanishvili hod lem logic modal operators each  kinson  show normal modal logic prop satisﬁes axioms pspacecomplete                           erly extends modal logic deed easy ki satisﬁes axioms li  tains modal operators each satis normal modal logic li containing consis  ﬁes axioms rules inference tency problem logic includes  axiom kkp  ⇔  kkp satisﬁability problem pspacehard actually follows immediately lad  npcomplete closely related result ner’s  result easy kkviewedas  hemaspaandra  showed consis single operator satisﬁes axioms conjecture  tency problem normal logic containing result continues hold nonnormal logics  npcomplete logic results adding shown somewhat similar results hold  following axiom known literature add awareness logic spirit fagin                                                                                                     kkϕ  ⇒  ψ ∨ kkψ  ⇒  ϕ                         halpern  allow awareness unawareness halpern                                                        rˆego  singleagent case operator  characterized connectedness property satisﬁes axioms  possibly subset  valid situation ks sss ∈ sif validity problem logic decidable  ss ∈kand  ss ∈k ss ∈kor   hand does satisfy  validity prob  ss ∈k note connectedness somewhat weaker lem logic undecidable agents  euclidean property require validity problem undecidable matter subset ax  ss ss                          ioms satisﬁes conjecture generally    stands result incomparable hemspaandra’s operator satisﬁes axioms logic containing  make relationship clearer restate result logic awareness unawareness decidable  saying consistency property normal logic satisﬁes axioms logic sthe  contains axioms  npcomplete logic undecidable  require  result results strongly suggest  euclidean property does imply transitivity euclidean property equivalently negative  reﬂexivity does imply secondary reﬂexivity secondary introspection axiom simpliﬁes things                     transitivitythatisif satisﬁes euclidean property quite make precise exactly                ∈k       ∈k  states                      generally worth understanding deeply            ∈k       ∈k                       roughly  properties relation makes things easy                                                 speaking reﬂexivity transitivity hold states  hard leave problem future work  range secondary reﬂexivity secondary transi  tivity captured following axioms                                                        acknowledgments   t kkϕ ⇒  ϕ     kkϕ  ⇒  kkϕ                                     thank ijcai reviewers useful comments                                                      catching error previous version paper  t  follow  sound                                logic extends  clearly  hold references  logic extends contains   ference rule rn conjecture consistency property allen  allen complexity results logics lo  logic extends includes axioms t cal reasoning inconsistent belief theoretical  anddisnpcomplete result true pects rationality knowledge proc tenth confer  generalize result spaan’s result           ence tark  pages –     vardi  used difference approach understand                                                        bezhanishvili hodkinson  bezhanishvili  semantics relational semantics allowed                                                           hodkinson normal extensions ssquared  consider logics satisfy axiom                                                           ﬁnitely axiomatizable studia logica –  showed logics consistency prob                                                             lem npcomplete example minimal normal  logic characterized prop mp rn oth blackburn et al  blackburn rijke  ers pspacehard particular showed adding ve  modal logic cambridge tracts theo  axiom kϕ ∧ kψ  ⇒  kϕ  ∧ ψ valid    retical science  cambridge university  prop mp rn gives logic pspacehard press cambridge uk   conjectured ability “combine” information                                                        chellas  chellas modal logic cambridge uni  leads pspacehardness conjecture                                                           versity press cambridge uk   shown false logics lack  axiom consistency problem fagin halpern  fagin halpern  logics pspacecomplete allen  recent lief awareness limited reasoning artiﬁcial intelli  discussion pointers relevant literature     gence –                                                     ijcai                                                    
