
the web is experiencing an exponential growth in the use of weblogs or blogs  websites containing dated journal-style entries. blog entries are generally organised using informally defined labels known as tags. increasingly  tags are being proposed as a 'grassroots' alternative to semantic web standards. we demonstrate that tags by themselves are weak at partitioning blog data. we then show how tags may contribute useful  discriminating information. using content-based clustering  we observe that frequently occurring tags in each cluster are usually good meta-labels for the cluster concept. we then introduce the tr score  a score based on the proportion of high-frequency tags in a cluster  and demonstrate that it is strongly correlated with cluster strength. we demonstrate how the tr score enables the detection and removal of weak clusters. as such  the tr score can be used as an independent means of verifying topic integrity in a cluster-based recommender system.
1 introduction
a weblog  blog  is a website containing journal-style entries presented in reverse chronological order and generally written by a single user. over the past few years  there has been an exponential growth in the number of blogs  sifry  1  due to the ease with which blog software enables users to publish to the web  free of technical or editorial constraints.
　however  the decentralised and independent nature of blogging has meant that tools for organising and categorising the blog space are lacking. the solutions to this problem can be characterised by two positions: the tagging approach and the semantic web approach. tags are short informal descriptions  often one or two words long  used to describe blog entries  or any web resource . there is no globally agreed list of tags the user can choose from  nor is there an agreed best practice for tagging. conversely  researchers on the semantic web project have proposed frameworks in which blogs are marked up using machine-readable meta-data  written in a language such as rdf  which would facilitate cross-blog indexing  cayzer  1; karger and quan  1 .
　tagging has achieved widespread acceptance by blog users and advocates argue this is due to its simplicity  quintarelli  1 . bloggers can easily categorise resources without having to learn the precise vocabulary of a formally defined classification scheme. the drawback is that a tag is defined locally and there is no mechanism for indicating that two tags mean the same thing.
　as tagging has been so widely adopted  we present an empirical evaluation of how tags perform in organising and annotating blogs. using a simple clustering approach  we firstly demonstrate that tags perform poorly compared to a standard content-based approach. we then introduce a supporting role for tags. we observe that a power law probability distribution exists for the frequency of tag usage within clusters. using measures of intra- and intercluster distance  we demonstrate that 'strong' clusters are more likely to contain high proportions of high-frequency tags than weak clusters. we observe that high-frequency tags are usually good meta-labels for the cluster concept. we introduce  tr  a score based on the proportion of high-frequency tags in a cluster  and demonstrate that it is strongly correlated with cluster strength. finally  we demonstrate how the tr score enables the detection and removal of clusters that appear coherent but are in fact weak and impure. as the tr score is produced by the aggregated tag data from a set of independent users  it can be viewed as an independent means of verifying cluster topic integrity.
　in section 1  we describe recent work on tagging. in section 1  we describe our datasets: a blog dataset and a labelled newsgroup dataset that we use for comparison purposes. we compare clustering using content and tags in section 1. in section 1  we show that tags can be used as cluster metalabels. we introduce the tr score and demonstrate empirically that it can be used to automatically identify clusters with poor semantics. we present our conclusions in section 1.
1 background
the semantic web vision for the blog domain is typified by prototype applications in which a rdf-based data model allows sophisticated  inference-enabled querying of blogs  cayzer  1; karger and quan  1 . in contrast  tagging is a 'grassroots' solution to the problem of organising distributed web resources  with emphasis on ease of use. tags are flat propositional entities and there are no techniques for specifying 'meaning'  inducing a hierarchy or inferring or describing relationships between tags. despite the obvious weakness of this approach  tagging appears to be part of a trend toward information sharing on the internet. sites like the blog aggregator  technorati1  the photo sharing site  flickr1  and the social bookmarks manager  del.icio.us1  all rely upon tags to allow users to discover blogs  photos and websites tagged by other people. quintarelli  proposes that tag usage engenders a folksonomy  an emergent usergenerated classification. although the mechanisms of such a self-organising process are not clearly outlined  we do share the view that aggregated tag data can provide discriminating features for partitioning purposes.
　brooks and montanez  have analysed the 1 most popular tags in technorati in terms of document similarity and compared these to a selection of similar documents retrieved from google. in this paper we will show that the most popular tags form a small percentage of the overall tag space and that a retrieval system using tags needs to employ at least token-based matching to retrieve a larger proportion of tagged blogs. golder and huberman providea good introduction to the dynamics of collaborative tagging on the del.icio.us social bookmarks site. however  the del.icio.us site differs from the blog domain in that tags are applied in a centralised way to urls generally belonging to other people. a del.icio.us user can view the bookmark tags already applied to the url he wishes to index and choose an existing tag or use another. this aggregating facility is not available to the blogger  who must tag a piece of writing he/she has just completed. whereas a tag on del.icio.us references the url of a website  a blogger's tag often references a locally defined concept.
　although the popularcollectiveterm 'blogosphere'implies a type of social network  recent research suggests that lessconnected or unconnected blogs are in the majority on the web  herring et al.  1 . link analyses on our datasets have produced the same results. for this reason we do not consider links between blogs in this paper.
1 data
our blog dataset is based on data collected from 1 blogs during the 1-week period between midnight january 1 and midnight february 1  1. all blogs were written in english and used tags. blogging activity obeys a power law  with 1% of bloggers posting between 1 and 1 times during the period and 1% posting very frequently  from 1 to 1 posts . on inspection  many of these prolific bloggers were either automated blog spammers or community blogs. we selected data from bloggers who had posted from 1 to 1 times during the evaluation period. the median for this sample is 1 posts. on average  each user posted at least once per week during the six-week period.
　for each user we selected the tag that was used on the largest proportion of the user's posts during the evaluation period. we aggregated these posts to form a single document. thus  each document represents the collective posts

figure 1: tag frequency vs. tag rank by frequency for the set of blog tags  blog tag tokens and newsgroup tag tokens.
indexed under a single tag by one user during the evaluation period. we removed stop-words and stemmed each document. low-frequency words appearing in less than 1% of the documents  and high-frequency words occuring in more than 1% of the documents were then removed. documents with less than 1 tokens were discarded at this point. the features in each instance were weighted using the tf/idf weighting scheme. in order to account for documents of different lengths  each instance was normalised so that it was of unit length = 1. this produced a dataset  blog c  based on blog content with 1 instances and 1 tokens  see table 1 .
　we created a second view of the data based on the same set of documents as blog c but using the tag data of each document instead of the content. we tokenised each tag and performed stop-word removal and stemming as before. furthermore  we removed 1 very commonly occurring tag tokens such as 'general' and 'random'  see section 1 . we then removed instances that did not share at least one token with at least one other instance in the dataset. this produced a dataset  blog t  based only on tag tokens with 1 instances and 1 tokens  see table 1 . each document in blog t represents the tokens from a single tag used by a single user. the set of users in this dataset is a subset of the users in the 'content' dataset.
1 newsgroup data
the 1 newsgroup dataset is a popularlabelled dataset for experiments in text classification and clustering1. in the newsgroup domain users post dated messages in a public place to which on-line readers may reply. however  newsgroups are logically organised into topics and contributors must select a relevant forum before writing  whereas blogs are bloggercentred and their authors write without fear of being censured for non-relevance. for comparison purposes we performed a parallel set of experiments on this dataset.
　we based our dataset on 1% of the 1 posts  which were dated during a 1-week period from april 1 to may 1. we extracted 1 email addresses from the headers of the posts  each of which acted as a unique user id. as
dataset# instances# featuresmean # feat.blogc11blogt11newsc11newst11table 1: a summary of the datasets used for partitioning.
with the blog dataset  we created a document for each user containing the largest number of posts made to a single newsgroup during the 1-week period. stop-words were removed and the remaining words stemmed. too frequent and infrequent words were removed. at this point documents with less than 1 words were discarded. each word was weighted according to the standard tf/idf weighting scheme and the document vector was normalised so that it was of unit length
= 1. this produced a dataset  newsc  with 1 instances and 1 features  see table 1 . each instance is associated with 1 out of 1 newsgroup class labels.
　unlike the blog dataset  the newsgroup dataset does not have a user-defined tag associated with the posts a user makes in a single newsgroup. instead  each post has a short subject header designed to summarise the content of the post. we created a synthetic tag for the posts of a single user by aggregating the tokens from the subject header of each post  removing duplicate tokens and stop-words  and stemming. the remaining tokens were then weighted using tf/idf and normalised. this produced a dataset  newst  with 1 instances and 1 features  see table 1 .
1 partitioning by tags or content
a simple way to recommend new blog posts would be to use the tag label of each post to retrieve posts by other bloggers with the same tag  an approach used by technorati and analysed by brooks and montanez . however  a problem with this approach is illustrated by figure 1: the frequency distribution for blog tag overlap follows a power law. from 1 documents  there were 1 tags of which only 1  1%  were used 1 or more times  meaning that 1% of tags were useless for retrieval using an exact matching approach. however  by allowing a partial match between tag tokens the overlap is much greater  allowing us to make at least 1 match based on shared tag tokens for the 1 documents in the blog t corpus.
　for our first experiment we use a text-clustering approach where we compare the partitioning produced using tag tokens  content tokens and random assignment. for the blog datasets we use only the 1 blog instances found both in blog c and blog t. we implement the spherical k-means algorithm because of its efficiency in partitioning large corpora and its ability to produce cluster concept descriptions  dhillon et al.  1 . in these experiments we do not address the issue of an optimal value of k as we are interested simply in the partitioning ability of tags compared to content. we cluster the content data and the tag data for both the blog and newsgroup datasets at values of k from 1 to 1. for each value of k  a random seed is chosen after which k-1 seeds are

figure 1: h scores at k for the blog and newsgroup datasets. h scores were measured based on the content tokens of the document instances.
incrementally selected by choosing the seed with the greatest distance to the mean of the seeds already selected. as a baseline we create a partition of k clusters by randomly assigning instances.
　typically  clustering 'goodness' on unlabelled datasets is measured using criterion functions based on intra- and intercluster distance. following zhao and karypis   we use the ratio of intra- to intercluster similarity  hr. intracluster similarity  ir  is the average of the cosine distances of each instance in the cluster to the cluster centroid  cr. intercluster similarity  er  is the cosine distance of the cluster centroid to the centroid of the entire dataset  c  see equation 1 . h is the summation of the hr contributions of each cluster where each hr score is weighted by the fraction of the overall instances contained in the cluster. |sr| is the size of cluster r.
		 1 
		 1 
1 discussion
using the random clustering as a baseline  we can see from figure 1a that clustering by blog tag tokens achieves 1% of the area under the curve achieved by the content clustering. figure 1b shows results from the same experiment on the newsgroup dataset. clustering using tag tokens performs considerably better for the newsgroup dataset  achieving 1% of the area achieved by clustering using content tokens. our results would suggest that any recommendation service based on blog tag matching is likely to recommend/retrieve posts that are only marginally more relevant than a selection of posts chosen at random. we suggest that the better performance of the newsgroup tags is due to the fact that the subject header of a post is generally adopted by other users who choose to make a reply  whereas the distributed architecture of the blog domain means that users must select tags in an arbitrary fashion.
　in order to confirm that the hr is a good indicator of topic cohesiveness  we conduct a simple experiment on the labelled newsgroup dataset  news c . at each value of k we measure the purity of each cluster  pr i.e. the fraction of the cluster
blogsnewsgroupspartitionaucdfr%partitionaucdfr%content111content111tags111tags111random11random11table 1: a summary of the information in figure 1. auc = area under curve. dfr = difference from random.

figure 1: the spearman correlation of hr against pr.
made up of instances of a single class. at each value of k we correlate pr against hr. figure 1 illustrates a high positive correlation for all values of k  suggesting that hr is indeed a good indicator of whether a cluster contains documents of a single class. figure 1 also illustrates the low correlations achieved for clusters generated randomly.
1 cluster meta labels and the tr score
in the previous section we suggested that blogs tags cannot usefully partition our datasets. in this section  we propose a supporting role for tags where clustering is carried out using content. we cluster the content datasets as before but this time we examine how the tag token data is distributed per cluster. for example  we cluster blog c and then examine how the associated tokens in blog t are distributed throughout the clusters. figure 1 demonstrates that few tags are used very frequently and the majority of tags and tag tokens are used once. partitioning the data using content clustering  we observe a tag token frequency distribution per cluster which seems to vary according to cluster strength  hr . weak clusters tend to have a long flat distribution  that is  few or no high-frequency tags  tokens  and a long tail of tags that have been used only once. strong clusters tend to contain many high-frequency tags and a shorter tail.
figure 1 illustrates the tag distribution for 1 clusters where

figure 1: tag token frequency distribution for cluster 1  high hr  and cluster 1  low hr .
idcentroid keywordshra-tagstr1knit 	yarn 	sock 
stitch  pattern1knit 	sock 	main 
olympics  project11loan 	estate 	mortgage  credit  debt1loan  credit  real  estate  mortgage11interior  hotel  toilet  decoration  bathroom1interior  design11jen  golf  rug  club  patent1-1www  http  br  similar  jan1link  web  business  blog  tech11wordpress  upgrade  spam  fix  bug1blog 	technology 
tech11israel  iran  hamas  al  nuclear1politics  affairs  current  america  israel11muslim  cartoon  islam  danish  prophet1politics  religion  war  current  affair1table 1: the top 1 clusters in terms of hr scores from the blog c dataset where k=1.
k =1. clusters 1 and 1 contain 1 and 1 instances per cluster respectively. cluster 1 is in the top 1% of hr scores and cluster 1 is in the bottom 1%. we propose that the probability of distributed users independently using the same tag is higher in a cluster with a well defined topic  high hr  than in a cluster where the topic is weakly defined  low hr . in the next section  we define a score  tr  based on the proportion of high-frequency tag tokens in a cluster and we test the correlation of tr against hr. we show that clusters with low tr scores have poor semantic description in terms of the most highly weighted terms in the cluster centroid. more importantly  we demonstrate that tr allows us to identify  and remove  clusters with spuriously high hr scores.
1 tag types
we can qualify the tag frequencies per cluster. c-tags are tag tokens not repeated by any other user in the cluster. these tags are represented by the long tail of the frequency distribution. b-tags are tag tokens with a frequency −1 that occur in −1 clusters. b-tags are analogous to stop-words  words that are so common that they are useless for indexing or retrieval purposes. furthermore  b-tags also tend to be words with non-specific meaning  such as 'assorted'  'everything'and 'general'. as such  they do not contribute to cluster interpretation. our experiments on the blog dataset identified a set of 1 b-tags which remained consistent even when we clustered the data on a weekly basis. a-tags are the remaining high-frequency tags. as table 1 demonstrates  the average percentage of b-tag tokens in a cluster varies little for different values of k. on the other hand  as k increases there is a trade-off between a-tags and c-tags. as clusters become smaller  fewer co-occurring tags are found  decreasing the atag count and increasing the c-tag count. at k =1 on the blog dataset  only 1% of tags in a cluster  on average  are a-tags. clearly  a-tags should contribute to cluster interperatability as they represent an independent description of the cluster topic by 1 or more users.

figure 1: the mean correlation between hr and tr for the 1 blog and 1 newsgroup datasets.
　table 1 lists the top 1 clusters of the blog c dataset ranked in terms of hr where k = 1. clusters are described in terms of the top 1 most highly weighted terms in the cluster centroid and in terms of their most frequent a-tags. in many cases the a-tag descriptors for each cluster provideclear meta-labels for each cluster. for example  cluster 1  which contains many documents on a recent upgrade to the wordpress blog software  is described as 'blog  technology  tech'. in some cases  such as cluster 1  a-tags provide contextual information not included in the keyword descriptions. the term 'olympics' in the a-tag list is due to the fact that 1 of the documents in this cluster refer to knitting while watching the winter olympics.
　two rows in table 1  representing clusters 1 and 1  are marked in bold. although the hr scores of these clusters lie within the top 1%  the centroid keywords for these clusters do not impart a clear description of a topic. this is problematic as we would expect a high hr score to imply a coherent topic description. in the next section we describe the tr score  which is based on the proportion of a-tags in each cluster. we show how these problematic clusters can be created due to noise in the feature set and how the tr score allows us to identify them.
1 the tr score
the tr score is the fraction of a-tags in a cluster  scaled by the cluster size. ar  br and cr are the  disjoint  sets of a-  band c-tags respectively found in cluster r. n is the number of instances in cluster r.
		 1 
　in order to test that the correlation between tr and hr is consistent over time  we created 1 datasets  each dataset representing a week's worth of data from the blogs represented in the blog c dataset. likewise  we divided the newsgroup dataset into 1 weekly datasets. we measured the correlation between tr and hr for each dataset at values of k from 1 to 1. we found that the correlation was high for all datasets and all values of k  suggesting a strong relationship between cluster strength and tag frequency. figure 1 illustrates the mean correlation between tr and hr for the 1 blog datasets and the 1 newsgroup datasets at different values of k.
blog tagsnewsgroup tagskabcabc1.1.1.1.111.1.1.1.111.1.1.1.111.1.1.1.111.1.1.1.111---11.1table 1: the table gives the mean fractions of a-tags  b-tags and c-tags per cluster at different values of k. the means are measured over the 1 windowed blog datasets.
　however  examining the top 1  out of 1  hr scores shown in table 1 we can see that the tr and hr scores appear to disagree strongly in several places. in fact  clusters 1 and 1 have tr scores that lie within the bottom 1% of tr scores for this clustering. this is not an anomaly: it can also be observed in each clustering of the 1 weekly blog datasets. clusters 1 and 1 are also clusters whose top-weighted centroid key words provide us with no clear concept description. as text clustering is based on token-based matching of sparsely featured instances  without consideration for semantics  it is possible for clusters with high hr scores but with poor semantics to emerge. this poses problems for an application such as a blog recommender system  where a misleadingly high hr score would cause blogs to be recommended that have nothing in common.
　one source of error is noise in the feature set. for example  on inspecting the instances in cluster 1 we found that the high hr score was due to the matching of noisy token features such as 'http' and 'www'  which were extracted from lists of urls posted as free text. we suggest that the tr score  because it measures human consistency in assigning descriptors to documents in a cluster  facilitates the identification of clusters that may in fact be meaningless.
1 using tr to remove noisy clusters
as the blog dataset is unlabelled  our assessment of whether a cluster is meaningful or not is overly subjective. in this section we describe a more rigorous experiment using the labelled newsc and news t datasets  where we measure the effect on cluster purityafter we removeclusters that have a high
hr and low tr.
　we limit the number of tokens per instance in newst to the top tf/idf weighted tag token. thus  the average token frequency is comparable to the mean of 1 for the blog t dataset  see table 1 . secondly  because newst has a much greater proportion of a-tags per cluster than the blog data  we raise the value of k to 1  which decreases the mean proportion of a-tags per cluster to 1  which is comparable with the mean observed in the blog dataset when k is between 1 and 1  see table 1 .
　we select the top 1% of clusters ranked according to hr in descending order  which we term h . we then select the bottom 1% of clusters ranked according to tr in descending order  which we term t・. the intersection of h  and t・ provides us with a set of candidate 'weak' clusters  w. to de-
k = 1puritytest|w|h wrh -wh -r111111111111111111111111111111table 1: the purity results from 1 tests at k = 1 on the news c dataset.
mean puritiesk|w|h wrh -wh -r1.1.1.1.1.1.11.1.1.1.1.11.1.1.1.1.1table 1: the mean purities for each value of k.
termine whether these candidates are really weak we use the cluster purity score  pr  described in section 1. firstly  we measure the mean purity of the clusters in h . then  we measure the mean purity score of h  again  excluding the clusters in w. if our hypothesis holds  we should observe an increase in purity as 'impure' clusters are removed from h . we compare this to an experiment in which we remove a set of randomly selected instances  r  from h   where |r| = |w|. this experiment is conducted 1 times  1 times each at k =1  1 and 1 using randomly selected seeds for each clustering. table 1 shows 1 results from the experiment conducted at k = 1. table 1 shows the mean purities recorded for k =1  1 and 1.
1 discussion
from table 1 we can see that the mean purity values for w  the set of 'weak' clusters identified using tr  are considerably lower than the mean values for h   the top 1% of clusters. at k=1  the mean purity of w is 1 of the mean purity of h . by removing these clusters from h  we see an overall increase in mean purity  as shown by the purity for h -w . this increase in purity is generally small because  on average  the number of clusters in w is small. however  we note that the increase was observed in all 1 tests. we tested the difference using a 1-tailed t-test and found that it was significant at the 1 alpha level. the key result of this experiment is that the tr allowed us to automatically identify a subset of clusters with poor purity scores  which the standard hr score could not identify. the straw man in this experiment was the randomselection technique. in all tests h -w recorded higher purity scores than h -r and this difference was found to be significant at the 1 level.
1 conclusions
increasingly  tagging is being proposed as a decentralised alternative to semantic web standards. in the blog domain  however  we find that tags are rather poor at partitioning blog data. using content-based clustering  we observe that a small proportion of users in every cluster have independently used the same tag tokens to describe his/her posts. the key observation is that the tr score  a score based on tag frequency in a cluster  is an independent measure of agreement on the cohesiveness of a cluster topic and can be used to automatically identify weak clusters not identifiable using standard distance-based measures. our future work in this area involves tracking and measuring topic drift in the blog domain. in particular we are devising tag-based scores which indicate the growth and decay of blog topics.
acknowledgements
we would like to thank natalie glance from www.blogpulse.com for providing us with an initial set of blog urls. this work is part of the perec project which is funded by a grant from the provincia autonoma di trento.
