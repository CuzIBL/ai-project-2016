 
this paper is a condensed version of the author's thesis 
 bolles 1   which investigates a subclass of visual information processing referred to as verification vision  abbreviated vv . vv uses a model of a scene to locate objects of interest in a picture of the scene. the characteristics that distinguish vv from the other types of visual information processing are:  1  the system has a great deal of prior knowledge about the type  placement  and appearance of the objects that form the scene and  1  the goal is to verify and refine the location of one or more objects in the scene. vv includes a significant portion of the visual feedback tasks required within programmable assembly. for example  locating a screw hole and determining the relative displacement between a screw and the screw hole are both vv tasks. two types of vv tasks are discussed in the thesis: inspection and location. this paper only discusses location tasks  but essentially the same capabilities are required for both types of tasks. 
　　　this paper describes  1  a structure for a vv system that makes it easier for programmers who are not experts in computer vision to program vv feedback  and  1  a set of combination rules that are capable of using the results of several different types of operators to estimate the confidences and precisions that are necessary within vv. 
　　　an interactive vv system based upon these ideas has been implemented. it helps the programmer select potentially useful operator/feature pairs  provides a training session to gather statistics on the behavior of the operators  automatically ranks the operator/feature pairs according to their expected contributions  and performs the desired task. the vv system has also been interfaced to the al control system for the mechanical arms and has been tested on tasks that involve a combination of touch  force  and visual feedback. 
introduction 
　　　verification vision is a type of visual information processing that uses a model of a scene to locate objects of interest in a picture of the scene. the characteristics that distinguish verification vision  abbreviated vv  from the other types of visual information processing are:  1  the system has a great deal of prior knowledge about the type  placement  and appearance of the objects that form the scene and  1  the goal is to verify and refine the location of one or more objects in the scene. the following situation illustrates a typical use of vv: 
         during the assembly of a pump  a mechanical arm places the pump base 1n a vise. the next step 1s to insert an aligning pin into one of the screw holes 1n the base. but the location of the screw hole is not known precisely enough to insert the p1n directly. the programmable assembly program needs to improve its estimate for the location of the hole. w 1s one way to accomplish this subtask. 
in this task the pump base may be mispositioned to the extent of perhaps plus or minus half an inch and rotated pius or minus fifteen degrees  but there will not be any big surprises: the base will not be upside down or at the other end of the workstation. vv is designed to use this predictability to minimize the cost of reducing the uncertainties associated with the location of an object. it bridges the gap between the known tolerances on an object and the desired tolerances when the initial tolerances greatly restrict the possible appearance of the object. 
　　　if the locations and appearances of the objects are greatly restricted  why not use any of several correlation operators to match corresponding features and use the positions of these matches to deduce the location of the screw hole  if the constraints on the objects guarantee unique matches for all of the features  this procedure may be acceptable. however  there are two main reasons why it is difficult to guarantee unique matches: 
 1  constraints  even quite tight constraints  often do not guarantee a single match. for example  if a visual operator is designed to locate a certain corner  often there are other corners that are near the desired corner and look almost identical to it. sometimes the operator may locate one of these decoys instead of the desired corner. the desired feature and the decoy features will be jointly referred to as known alternatives for the operator. 
 1  visual operators  such as correlation operators  are not completely reliable; they do not always locate one of the known alternatives. low level operators are notorious for occasionally locating something completely unexpected. this type of match will be referred to as a surprise. 
thus  almost any interesting class of vv tasks includes situations in which the visual operators do not locate unique features. the vv system has to decide which known alternative or surprise has been matched by each operator. 
　　　in vv there are several sources of information that can be used to help make these decisions. for example  the system may have previous pictures of the scene and constraints on the locations of the objects. the previous pictures can be used to predict the range of values produced by an operator and the constraints can be used to determine the portion of the picture in which a feature might appear. 
　　　there are also sources of information that can be used to simplify the programming of vv tasks. for example  previous pictures of the scene or models of the objects in the scene can be used to suggest potentially useful features to be located. 
* the author is now at stanford research institute  1 ravens wood  menlo park  ca. 1. 
this research was supported by the hertz foundation and the advanced research projects agency of the department of 
defense under contract dahc 1-c-1. the views and conclusions contained in this document are those of the author and should not be interpreted as necessarily representing the official policies  either expressed or implied  of stanford university  hertz foundation  arpa  or the us. government. 
v f s f o n - 1 : bolles 
1 　　　this paper describes a vv system that has been designed to take advantage of these diverse sources of knowledge. the second and fourth sections outline a structure for a vv system that makes it easier for programmers who are not experts in computer vision to program vv feedback. the third section presents a set of combination rules that are capable of combining the results of several different types of operators into the confidences and precisions that are required within vv. 
　　　a v vsystem based upon these ideas has been implemented and interfaced to the al control system for mechanical arms  finkel 1 . the vv system helps the user select potentially useful operator/feature pairs  provides a training session to gather statistics on the behavior of the operators  automatically ranks the operator/feature pairs  and performs the task. the fifth section briefly describes the results of using this system. 
　　　there are a few excellent  special-purpose systems that perform vv tasks  e.g.  see  baird 1  and  kashioka 1  . there are also a few systems that handle a subclass of vv tasks 
 e.g.  see  fischler 1    agin 1    chien 1  and  holland 1    but none of these programs deal with the wide variety of available information or concentrate on the combination of precision and confidence to the extent required by the general class of vv tasks. 
　　　the motivation for this research came mainly from the domain of programmable assembly. some of the techniques have been optimized to take advantage of specific properties of this environment  but the basic methods are more widely applicable. other possible applications include aerial photograph interpretation and medical image processing. 
a structure for vv 
　　　this section briefly describes the basic philosophy of a vv system and introduces some of the terminology. it characterizes the subtasks that are involved in setting up and performing vv tasks. later sections will describe specific techniques that can be used to perform some of these subtasks. 
　　　a v v system can be  somewhat arbitrarily  partitioned into four stages: 
 1  programming time: the user states the goal of the task  calibrates the camera  and chooses potential operator/feature pairs. 
 1  training time: if previous pictures of the scene are available  the system applies the operators to several sample pictures and gathers statistical information about their effectiveness. 
 1  planning time: the system ranks the operators according to their expected contribution  determines the expected number of operators to be needed  and predicts the cost of accomplishing the task. 
 1  execution time: the system applies operators one at a time  combines the results into confidences and precision  and stops when the desired levels have been reached or a cost limit has been exceeded. these stages represent different conceptual steps in the development of a vv program. different types of knowledge and techniques are applicable at different stages. 
　　　to accomplish a vv task requires progress from one stage to the next in the order shown above. however  for clarity  the execution time will be discussed first. 
　　　if one ignores the intermediate details  the vv process can be roughly characterized as follows: the programmer states the goal of the task in terms of the following three quantities. 
 a  the confidence that the system has found the correct object s   
 b  the precision within which the system has located the object s   
and  c  the cost involved in determining this information; 
and the system  at execution time  tries to extract useful information from a picture and combine the results of these extractions into estimates of the quantities of interest. 
　　　the implementation of the vv system discussed in this paper gathers information by applying operators  such as edge operators  correlation operators  and region growers  that are designed to locate and describe features  such as line segments  correlation points  and regions. the information produced by such operators can be roughly classified into two types: value information and position information. value information includes the value of a correlation coefficient  the contrast across an edge  and the intensity of a region. position information  in addition to  x y  or  x y z  information  may include orientation information. for example  an edge operator might return  1  the  x y  position of a point on an edge   1  an estimate of the orientation of the edge   1  the confidence that there is an edge at that position  and  1  the contrast across the edge. the first two quantities are types of position information; the second two are examples of value information. 
　　　given the position and value information from several operators  what is the best estimate of the location of an object  what is the precision associated with that estimate  what should the combination rules be  the next section will describe a set of mathematical tools that form a set of combination rules for the class of vv tasks. the basic approach is to use bayesian probability to estimate the confidences in the assignment of known alternatives to the matches and a least-squares technique to combine the available position information to form a current  best estimate of the location of the object  plus a tolerance about that estimate . these techniques are well-known  but they combine particularly nicely to answer the various needs of a vv system. 
combination rules for location 
　　　within vv the purpose of applying operators to a picture of a scene is to establish a correspondence between features on an object in the scene and their two-dimensional positions in the picture. given this correspondence  it is possible to use the camera calibration and a fitting scheme to determine the current location of the object in the scene. if the correspondence is correct  the deduced location will be correct. if the correspondence is not correct  the fitting scheme may be able to detect the inconsistency and possibly even identify the incorrect matches. however this checking process is not reliable enough to be depended upon as the main filtering mechanism for incorrect matches. thus  it is important to produce as good a correspondence as possible before it is given to the fitting routine. this section reviews some of the attributes of one of the most common fitting procedures  least-squares fitting  and then develops a set of combination rules to express the confidence that an assignment of features to a set of matches is correct. 
least-squares fitting 
　　　there are two important quantities in a location task:  1  an estimate for the location of the object and  1  the precision associated with that estimate. in the context of vv the location of an object refers to the position and orientation of the objects coordinate system in terms of some other coordinate system  e.g.  the workstation coordinate system . in the most general case the location of an object may involve three rotations and three displacements. often  however  there are constraints on the location of the object that reduce the number of unknown parameters. for example  if an object is known to be sitting up-right on a table  there are only three unknown parameters: two displacements and one rotation. the purpose of the fitting scheme is to use the correspondence between object features and picture positions to estimate the unknown parameters and produce precisions about these estimates. 
　　　a least-squares fitting routine was chosen for the first implementation of a vv system because it provides the necessary location and precision information and a generalized  non-linear  least-squares fitting routine was available  see  gennery 1  . given estimates of the location parameters  one can predict the location of any point on the object. if the routine is given the uncertainties associated with each match  it can produce an estimate for the precision about each of the location parameters. given the precisions about the location parameters  one can estimate the precision about points on the object. this ability to propagate the precisions is of major importance. it makes it 
　　　
v ! s i o n - l : b o l l e s 
1 
　　　
possible to estimate the precision about the features of interest  such as the screw hole. it also makes it possible to use the location of some initial features to predict the location and uncertainty about new features to be found. for example  if five features on the pump base have been located and the least-squares fitting routine has been called  the precision of the matches can be translated into a precision about the screw hole. if the precision is not sufficiently tight  the system needs to locate more features. the parameters and uncertainties produced by the first five matches can be used to predict the location and uncertainty region for a sixth feature. 
       the ability to estimate locations and precisions depends upon a correct correspondence between the object features and their picture positions. if there are several incorrect associations between operator results and object features  a fitting technique is probably useless because it will produce incorrect parameter values and will not be able to distinguish between correct and incorrect associations. if there are only a few incorrect assignments  however  the correct assignments may be able to override the incorrect assignments sufficiently to produce reasonable parameter values. if that is the case  the residuals associated with each assignment can be used to cull bad assignments.  the residual associated with an assignment is the difference between the position at which the operator located the image of the feature and the position of the feature predicted by the parameter values.  
the ability of a least-squares fitting routine to do this culling  however  is limited. 	for example  consider figure 1. 

figure l.a shows the actual locations of the four features. figure l.b shows the positions returned by the operators. if the object is known to be sitting up-right on a table so that there are only three unknown parameters  the best fit to this data will probably be at the position shown in figure i.c. in that case the incorrect assignment has a very large residual and the culling procedure would work. however  if all six parameters are unknown  the least-squares routine will take full advantage of the available flexibility in order to try to reduce the residuals  even it means rotating the object one-hundred twenty degrees and placing it at the other end of the table. the size of the resulting residuals would indicate that something is wrong  but the residual associated with the incorrect assignment would probably not be the largest. in fact  it may very well be the smallest. us distance from the other group of matches acts as a lever arm that forces the fitting routine to minimize its error at the expense of the others. thus  one has to be careful about using the fitting routine to cull incorrect matches. 
       the conclusion is to insure that the assignments are as correct as possible before they are handed to the fitting routine. the information available to make these assurances consists of the value and position information returned by the operators. the remainder of this section develops a sequential decision procedure to estimate the confidence that the assignment of a feature to the results of an operator is correct. the idea is to use only as much information as necessary. for example  if the value information returned by an operator clearly indicates the known alternative being matched  the system immediately makes the indicated assignment and adds it to the correspondence. however  if the confidence produced by the value information is not high enough  the system uses progressively more information from other operators to raise  or lower  the confidence associated with the assignment. 
confidences from value information 
       in order to use the value information produced by an operator one needs either an analytic method or an experimental method to estimate the expected ranges of values associated with the different possible matches. since analytic methods are still quite limited  the current v v system uses experimental data. a supervised training session is used to apply each operator to several example pictures and gather three types of information: 
 1  an estimate of the a priori probability that the operator will locate a certain known alternative  
 1  an estimate of the distribution of values produced by the operator when it locates a certain known alternative  actually an estimate of the density function   
and  1  an estimate of the density of values produced by the operator when it locates a surprise. 
figure 1 displays this information for an example operator. this simple model of the operator only distinguishes between two possibilities:  a  the operator locates the correct feature and  b  the operator locates a surprise. at execution time if the operator is applied to a picture and it returns a value of 1  see figure 1   what is the probability that the operator has located the correct feature  bayes' theorem  e.g.  see  hoel 1   is a standard way of combining the a priori probabilities with the density functions to answer this question. bayes' theorem expresses the estimate of the desired a posteriori probability that the operator has located 

　　　
v i s i o n - 1 : 	b o l l e s 
1 
　　　
　　　a v v system based upon these ideas has been implemented and interfaced to the al control system for mechanical arms  finkel 1 . the vv system helps the user select potentially useful operator/feature pairs  provides a training session to gather statistics on the behavior of the operators  automatically ranks the operator/feature pairs  and performs the task. the fifth section briefly describes the results of using this system. 
　　　there are a few excellent  special-purpose systems that perform vv tasks  e.g.  see  baird 1  and  kashioka 1  . there are also a few systems that handle a subclass of vv tasks 
 e.g.  see  fischler 1    agin 1    chien 1  and  holland 1    but none of these programs deal with the wide variety of available information or concentrate on the combination of precision and confidence to the extent required by the general class of vv tasks. 
　　　the motivation for this research came mainly from the domain of programmable assembly. some of the techniques have been optimized to take advantage of specific properties of this environment  but the basic methods are more widely applicable. other possible applications include aerial photograph interpretation and medical image processing. 
a structure for vv 
　　　this section briefly describes the basic philosophy of a vv system and introduces some of the terminology. it characterizes the subtasks that are involved in setting up and performing vv tasks. later sections will describe specific techniques that can be used to perform some of these subtasks. 
　　　aw system can be  somewhat arbitrarily  partitioned into four stages: 
 1  programming time  the user states the goal of the task  calibrates the camera  and chooses potential 
operator/feature pairs. 
 1  training time  if previous pictures of the scene are available  the system applies the operators to several sample pictures and gathers statistical information about their effectiveness. 
 1  planning time: the system ranks the operators according to their expected contribution  determines the expected number of operators to be needed  and predicts the cost of accomplishing the task. 
 1  execution time  the system applies operators one at a time  combines the results into confidences and precision  and stops when the desired levels have been reached or a cost limit has been exceeded. these stages represent different conceptual steps in the development of a vv program. different types of knowledge and techniques are applicable at different stages. 
　　　to accomplish a vv task requires progress from one stage to the next in the order shown above. however  for clarity  the execution time will be discussed first. 
　　　if one ignores the intermediate details  the vv process can be roughly characterized as follows: the programmer states the goal of the task in terms of the following three quantities: 
 a  the confidence that the system has found the correct object s   
 b  the precision within which the system has located the object s   
and  c  the cost involved in determining this information; 
and the system  at execution time  tries to extract useful information from a picture and combine the results of these extractions into estimates of the quantities of interest. 
　　　the implementation of the vv system discussed in this paper gathers information by applying operators  such as edge operators  correlation operators  and region growers  that are designed to locate and describe features  such as line segments  correlation points  and regions. the information produced by such operators can be roughly classified into two types: value information and position information. value information includes the value of a correlation coefficient  the contrast across an edge  and the intensity of a region. position information  in addition to  x.y  or  x y z  information  may include orientation information. for example  an edge operator might return  1  the  x y  position of a point on an edge   1  an estimate of the orientation of the edge   1  the confidence that there is an edge at that position  and  1  the contrast across the edge. the first two quantities are types of position information; the second two are examples of value information. 
　　　given the position and value information from several operators  what is the best estimate of the location of an object  what is the precision associated with that estimate  what should the combination rules be  the next section will describe a set of mathematical tools that form a set of combination rules for the class of vv tasks. the basic approach is to use bayesian probability to estimate the confidences in the assignment of known alternatives to the matches and a least-squares technique to combine the available position information to form a current  best estimate of the location of the object  plus a tolerance about that estimate . these techniques are well-known  but they combine particularly nicely to answer the various needs of a vv system. 
combination rules for location 
　　　within vv the purpose of applying operators to a picture of a scene is to establish a correspondence between features on an object in the scene and their two-dimensional positions in the picture. given this correspondence  it is possible to use the camera calibration and a fitting scheme to determine the current location of the object in the scene. if the correspondence is correct  the deduced location will be correct. if the correspondence is not correct  the fitting scheme may be able to detect the inconsistency and possibly even identify the incorrect matches. however this checking process is not reliable enough to be depended upon as the main filtering mechanism for incorrect matches. thus  it is important to produce as good a correspondence as possible before it is given to the fitting routine. this section reviews some of the attributes of one of the most common fitting procedures  least-squares fitting  and then develops a set of combination rules to express the confidence that an assignment of features to a set of matches is correct. 
least-squares fitting 
　　　there are two important quantities in a location task:  1  an estimate for the location of the object and  1  the precision associated with that estimate. in the context of vv the location of an object refers to the position and orientation of the objects coordinate system in terms of some other coordinate system  e.g.  the workstation coordinate system . in the most general case the location of an object may involve three rotations and three displacements. often  however  there are constraints on the location of the object that reduce the number of unknown parameters. for example  if an object is known to be sitting up-right on a table  there are only three unknown parameters: two displacements and one rotation. the purpose of the fitting scheme is to use the correspondence between object features and picture positions to estimate the unknown parameters and produce precisions about these estimates. 
　　　a least-squares fitting routine was chosen for the first implementation of a vv system because it provides the necessary location and precision information and a generalized  non-linear  least-squares fitting routine was available  see  gennery 1  . given estimates of the location parameters  one can predict the location of any point on the object. if the routine is given the uncertainties associated with each match  it can produce an estimate for the precision about each of the location parameters. given the precisions about the location parameters  one can estimate the precision about points on the object. this ability to propagate the precisions is of major importance. it makes it 
　　　
visi o n - 1 : bol1es 1 
　　　
possible to estimate the precision about the features of interest  such as the screw hole. it also makes it possible to use the location of some initial features to predict the location and uncertainty about new features to be found. for example  if five features on the pump base have been located and the least-squares fitting routine has been called  the precision of the matches can be translated into a precision about the screw hole. if the precision is not sufficiently tight  the system needs to locate more features. the parameters and uncertainties produced by the first five matches can be used to predict the location and uncertainty region for a sixth feature. 
       the ability to estimate locations and precisions depends upon a correct correspondence between the object features and their picture positions. if there are several incorrect associations between operator results and object features  a fitting technique is probably useless because it will produce incorrect parameter values and will not be able to distinguish between correct and incorrect associations. if there are only a few incorrect assignments  however  the correct assignments may be able to override the incorrect assignments sufficiently to produce reasonable parameter values. if that is the case  the residuals associated with each assignment can be used to cull bad assignments.  the residual associated with an assignment is the difference between the position at which the operator located the image of the feature and the position of the feature predicted by the parameter values.  
       the ability of a least-squares fitting routine to do this culling  however  is limited. for example  consider figure i. 

figure l.c 
figure la shows the actual locations of the four features. figure l.b shows the positions returned by the operators. if the object is 
known to be sitting up-right on a table so that there are only three unknown parameters  the best fit to this data will probably be at the position shown in figure l.c. in that case the incorrect assignment has a very large residual and the culling procedure would work. however  if all six parameters are unknown  the least-squares routine will take full advantage of the available flexibility in order to try to reduce the residuals  even it means rotating the object one-hundred twenty degrees and placing it at the other end of the table. the size of the resulting residuals 
would indicate that something is wrong  but the residual associated with the incorrect assignment would probably not be the largest. in fact  it may very well be the smallest. its distance from the other group of matches acts as a lever arm that forces the fitting routine to minimize its error at the expense of the others. thus  one has to be careful about using the fitting routine to cull incorrect matches. 
　　　the conclusion is to insure that the assignments are as correct as possible before they are handed to the fitting routine. the information available to make these assurances consists of the value and position information returned by the operators. the remainder of this section develops a sequential decision procedure to estimate the confidence that the assignment of a feature to the results of an operator is correct. the idea is to use only as much information as necessary. for example  if the value information returned by an operator clearly indicates the known alternative being matched  the system immediately makes the indicated assignment and adds it to the correspondence. however  if the confidence produced by the value information is not high enough  the system uses progressively more information from other operators to raise  or lower  the confidence associated with the assignment. 
confidences from value information 
　　　in order to use the value information produced by an operator one needs either an analytic method or an experimental method to estimate the expected ranges of values associated with the different possible matches. since analytic methods are still quite limited  the current vv system uses experimental data. a supervised training session is used to apply each operator to several example pictures and gather three types of information: 
 1  an estimate of the a priori probability that the operator will locate a certain known alternative  
 1  an estimate of the distribution of values produced by the operator when it locates a certain known alternative  actually an estimate of the density function   
and  1  an estimate of the density of values produced by the operator when it locates a surprise. 
figure 1 displays this information for an example operator. this simple model of the operator only distinguishes between two possibilities:  a  the operator locates the correct feature and  b  the operator locates a surprise. at execution time if the operator is applied to a picture and it returns a value of 1  see figure 1   what is the probability that the operator has located the correct feature  bayes' theorem  e.g.  see  hoel 1   is a standard way of combining the a priori probabilities with the density functions to answer this question. bayes' theorem expresses the estimate of the desired a posteriori probability that the operator has located 

　　　
vls!on-l: bolles 1 
　　　
　　given a particular value of v  the ratio of conditional probabilities  i.e.  the likelihood ratio  is simply the ratio of the values of the density functions at that value. this observation makes it particularly easy to evaluate formula 1. it is also important to point out that formula 1 can be evaluated for any density functions. no particular form  such as a normal distribution  is required. 
       formula i can be applied to the vv problem in a straightforward way: apply an operator  estimate the probability that it has located the correct feature  if that probability is above a certain threshold  add the feature and its match position to the correspondence to be used by the fitting routine  otherwise discard the results. this approach guarantees a certain probability of correctness for each operator used by the fitting routine. 
       if there are several known alternatives for an operator  this simple  two-possibility model is not sufficient. for example  consider the operator whose density functions are shown in figure 1. if several of the surprise matches are actually the result of the operator locating another feature that looks similar to the original one  the density function and the a priori probability associated with the surprise matches can be divided into two parts. see figure 1. in this case  when the operator returns a certain value at execution  the system has to decide which of the following situations is the most likely: 
kal a  the op. has located known altern. 1  ka1 =  the op. has located known altern. z  
	or surprise 	  h e op. has located a surprise   
where kal is the same as the correct match in the two-possibility model. 

       bayes' theorem can be extended to produce the probabilities associated with the three possible explanations for the results of the operator. for example  

formula 1 can be generalized to handle operators with n known alternatives and a surprise. let aj  for j equal 1 to n  represent the n known alternatives and let ao represent the surprise. then 

       this formula is convenient because it states the desired probability in terms of the a priori probabilities and the likelihood ratios. given the value of an operator  the probability of each alternative can be computed  and the alternative with the highest probability is declared the best match. if the example operator returns a value of 1  as it did earlier  the probability that it has matched the first known alternative is still the same. if the operator happens to return a value of 1  the old formulation would have estimated that the operator had located a surprise. in this new formulation  the system would predict that the operator has located the second known alternative with a probability of .1. thus  knowing about ka1 and incorporating it into the formula has increased the percentage of times the system can associate a known alternative with the results of the operator. it has also increased the percentage of times the system can make the assignment with sufficient confidence to add the assignment to the correspondence. 
confidences from position information 
       in the scheme discussed so far  if the probability associated with the best alternative is less than the acceptance threshold  the results of the operator are simply discarded. if the probability is less than the threshold  but close  is there any way to incorporate additional information in order to raise or lower the probability  one possibility is to extend bayes' theorem to incorporate the position information returned by the operator. in fact  it is possible to estimate p kal | v p   but the position information of one operator by itself usually does not add any significant constraints because the operator is just as likely to find the feature at one location as another  within a certain tolerance region . 
       the position information produced by each individual operator may not be helpful  but the relative positions of two or more features can add important  discriminating information. for example  consider figure 1.a  which is a picture of a screw with two features marked. assume that the location of the screw is known within plus or minus one quarter inch along each axis and that the orientation of the screw is known to be within plus or minus fifteen degrees of vertical. if the operators trying to locate these two features happen to find their best matches at the positions shown in figure 1.b  what is the probability that they have located the correct features  the probability is small because it would require the screw to be rotated 1 degrees from vertical  which is highly unlikely  given the initial uncertainties. if the two matches are at the positions shown in figure 1.c  the probability that the matches are correct is significantly higher. thus  the relative structure of two or more matches can be an important source of information. it can be used to measure the consistency of a set of matches. 
　　　
v l s i o n - 1 : 	r o l l e s 
1 
　　　
　　formula 1 can be extended to evaluate the assignments for more than two operators  but unfortunately the number of terms in the denominator quickly becomes prohibitively large. for 
example  ten operators  each with two alternatives  require 1 probabilities to be computed in order to determine the best assignment. this fact implies that formula 1 should only be used to assign alternatives to small subsets of the operators. the overall probability that the complete assignment is correct can be estimated by a function of the probabilities associated with the subsets for example  it is possible to modify a maximal clique algorithm so that it determines the most consistent structure of 
　　　this intuitive idea can be captured in a form of bayes' pairwise evaluated matches  i.e.  subsets of order two   barrow theorem. for example  assume that two operators have been 1 applied and their value information did not clearly indicate which 
if subsets of the operators are used to develop confidences  
known alternatives they matched. the relative position of their since it may be computationally expensive to evaluate all possible 
matches may be able to clarify the situation. the probabilities of subsets  it is important to choose subsets that are expected to 
interest are the probabilities associated with the different possible produce distinct patterns. for example  consider figure 1  which 
assignments of known alternatives to the results of the two shows the known alternatives for four operators. if the program 
operators. that is  given the fact that the operators have located is trying to assign one of the two alternatives to the results of 
their matches at positions p1 and p1  what is the probability that operator 1  and the relative position information is needed to 
the first operator has located its jth known alternative and the distinguish between the two alternatives  which of the other 
second operator has located its kth known alternative  let fj operators should be used  operator 1 may not be helpful because 
represent the proposition that the jth known alternative is the it is difficult to distinguish between assignments  la 1b  and 
best assignment to the results of the first operator and let gk 
	 lb 1a . 	if the initial constraints allow for a small angular 
represent the proposition that the kth known alternative is the uncertainty and a small scale uncertainty  it may be difficult to 
best assignment for the second operator. then the probability of distinguish between assignments  la 1  and  lb 1 . however  even 
interest is: 
if the scale is allowed to change fifty percent and the orientation in the plane is completely unconstrained  it is still possible to 
distinguish between assignments  la 1a  and  lb 1a   or between tla 1b  and  lb 1b . therefore  a good subset to be evaluated is the subset consisting of operator 1 and operator 1. 
　　　
　　　since the known alternatives for the operators are known in advance and the task constraints are known in advance  it is easy to estimate the distinctness of patterns and choose the best subsets at planning time. 
summary 
　　　this section described a fitting scheme and an ordered set of rules to estimate confidences. the least-squares fitting scheme is well-known and produces the desired location and precision information  if the assignment of known alternatives is correct. the combination rules provide ways to estimate the confidences associated with the assignments. some of the rules use the value information produced by the operators  some of them use the position information. 
techniques to simplify vv proeramming 
　　　the purpose of this section is to present a sample of the possible techniques that can simplify the programming of vv tasks. these techniques are designed to automate the programming process to such an extent that a programmer who is not an expert in computer vision can set up programs to perform vv tasks. a version of each of the techniques mentioned in this section has been implemented in the current vv system. out of necessity the descriptions are brief. more techniques and more complete descriptions can be found in the author's thesis  bolles 1 . 
estimate the desired resolution of a picture 
　　　civen an initial set of constraints and a desired precision about some point of interest  the vv program can use the expected precisions of the operators to help determine a good resolution for the picture. the resolution is important because  a  it may not be possible to achieve the desired precision with the available operators if the resolution is too low  and  b  the amount of searching may be excessive if the resolution is too high. 
　　　civen a calibrated camera it is possible to convert the two-dimensional uncertainty about the position of an operator's match in the picture coordinate system into a three-dimensional uncertainty about the feature in the workstation coordinate system. given a set of features and their associated uncertainties  the least-squares routine can predict the precision about the point of interest. 
sueeest operator/feature pairs 
　　　in addition to providing a convenient environment within which a programmer can experiment with different operators  there are two methods that a vv system can use to suggest potentially useful operator/feature pairs: 
 i  the vv program can analyze a typical picture of the scene and produce a list of visually distinct features. for example  an edge operator can be applied to a picture in order to pick out all pairs of line segments that form a corner of a certain minimum size. hannah and moravec have each implemented interest operators of this type that search for good correlation features  see  hannah 1  and  moravec 1  . 
　 1  the vv program can analyze a model of the scene and produce a list of features on the objects that can be seen and are expected to be distinctive. for example  a three-dimensional model and a 
　hidden-line elimination scheme may be used to predict visible corners. bolles has partially implemented a suggestion system of this type  bolles 1 . it is based upon an object modelling system designed by miyamoto and binford  miyamoto 1  and it suggests potentially useful curve segments. both of these automatic suggestion methods reduce the amount of detailed work required of the programmer. the programmer only has to filter out suggestions that may be difficult to locate reliably or that produce unreliable position information. in theory  the second method should produce better suggestions because it can have access to all of the knowledge associated with the real 
objects: their appearance  their structure  and their function. for example  the first method may suggest a corner feature  one side of which is formed by a shadow. such a feature may not produce reliable position information if the location of the shadow changes as the object moves about within its range of uncertainty. the second method  on the other hand  could directly determine that one side of the corner is formed by a shadow and not make such a suggestion. 
gather statistics 
　　　given a set of operator/feature pairs  the programmer has to supervise the training session. each operator is applied to each training picture and the superviser has to specify which known alternative or surprise was matched. this process could be tedious unless it is carefully human-engineered. 
　　　the current system displays two pictures side-by-side  a reference picture with the known alternatives marked and the training picture with the matches of the operators marked. the system uses the value and position information to assign known alternatives to matches and asks the user for confirmation. in this way the interaction between the programmer and the training system is minimized. 
determine the order of the operators 
　　　there are several factors that can enter into the ordering of the operators: for example  the expected cost  the expected precision of the match  and the expected contribution to the confidence associated with the best known alternative. there are relatively straightforward methods to estimate the first and second quantities  but the third is more complicated. consider the following definition of the contribution of an operator that has n known alternatives and has returned a value of v: 

since it is difficult to expand this integral symbolically  a numerical integration technique can be used instead. 
　　　given values for the expected cost  the expected precision  and the expected contribution for all of the operator/feature pairs  one simple ordering scheme is to rank them according to: 

largest first. 
　　　the exact ordering is not critical because several operators are applied for each task. as long as the better operators are applied first  the overall cost will be close tc the minimum. 
　　　the linear ordering of operator/feature pairs is a simple example of a strategy. other researchers have investigated more general strategies and more general strategy optimization techniques within similar domains  e.g.  see  taylor 1  and 
 sproull 1    
results 
　　　the vv system has been used to locate fifteen to twenty different objects  such as a vise  a screw dispenser  a pencil sharpener base  and an engine casing. the programming time for a new task  using 1 to 1 training pictures  was about an hour. programming consisted of  1  stating the task;  1  calibrating the camera;  1  choosing potential operator/feature pairs;  1  setting up  taking  and analyzing training pictures; and  1  letting the system rank the operator/feature pairs. the execution time depended upon several factors  the most important of which was the ratio of known precision to desired precision. for a typical task in which this ratio was 1  four or five operators were required and the execution time was a few seconds the time to teach a person to use the system was about an hour or two  most of which was spent watching the system being used. 
　　　cross-correlation was the main operator used for these tasks  however  an edge operator and a blob characterizer were used in a few tasks. approximately thirty percent of the operators had more than one known alternative. if an operator had more than two known alternatives  it was generally not cost effective to use it because of the expense involved in determining which known alternative had been matched. 
　　　the training pictures were used for two slightly different purposes in different tasks:  1  to set a threshold that distinguishes reasonable operator values from values that indicate that the operator did not find a known alternative  and  1  to determine a set of density functions that could be used to estimate the confidence that the operator matched a particular known alternative. four or five training pictures were sufficient for the first purpose; forty or fifty were needed for the second. the structural information was more reliable because it was difficult to control the lighting  background  and camera sensitivity from one day to the next. therefore  the value information was mainly used to eliminate obvious mistakes and the structural information was used to make the final assignments of known alternatives and to determine the location of the object. 
conclusion 
there are two main conclusions of this paper: 
 1  a large class of visual feedback tasks can be formulated and accomplished within one framework. 
 1  the framework can be implemented in such a way that it is relatively easy for a programmer who is not an expert in vision research to construct programs that perform visual feedback tasks. 
1 he justification for each of these statements was essentially a proof by construction. a class of visual feedback tasks  referred to as verification vision tasks  was characterized and an interactive system that greatly simplifies the programming of such tasks was implemented. 
　　　a vv task is a task in which the scene is highly predictable; there are no big surprises. the problem is to coordinate all of the available knowledge in order to accomplish the task in as efficient way as possible. this paper outlined the different subtasks within vv and the different types of information that can be used to perform these subtasks. it presented an ordered set of rules that evaluate the results of operators and a scheme to produce the desired location and precision information. finally  the paper gave a sample of the techniques that can be used to simplify the programming of vv tasks. 
