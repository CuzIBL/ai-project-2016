 
 in multi-agent coordination  the uncertainty may come from two major sources: the moves of the nature agent and the unpredictable behavior of other autonomous agents. the uncertainty may affect the expected payoff and the risk of an agent. a rational agent would not always play the strategy that gives the highest expected payoff if the risk is too high. to tackle the uncertainty in multi-agent coordination  a risk control mechanism is necessary in multiagent decision making. we assume agents may have different risk preferences  e.g. risk-averse  riskneutral  and risk-seeking  and separate the risk preference from the utility function of a given strategy. taking agent's risk preference into account extends the notions of the dominant strategy  the nash equilibrium  and the pareto-efficiency in traditional game theory. we show how the risk control can be carried out by a negotiation protocol using communication actions of asking guarantee and offering compensation via a trusted third party. 
1 introduction 
multi-agent coordination is necessary for a multi-agent community to prevent anarchy or chaos. negotiation is a way to coordinate rational agents under a game theoretical deal-making mechanism  rosenschein and genesereth  
1; rosenschein  1  haynes and sen  1  wu and soo  1a  1 . the underlying assumption is that agents model each other as rational agents  axelrod  1; brafman and tennenholtz  1; roller and pfeffer  1; 
shehory and kraus  1; tennholtz 1 . if there are different types of agents  a recursive modeling method may help in decision making  gmytrasiewicz et al   1; durfee et al.  1;vidal and durfee  1 . fuzzy theory is a way to deal with uncertainty in a fuzzy game  wu and soo  1b . however  the issues on the risk in an uncertain game are rarely addressed. 
1 	distributed al 
　in multi-agent coordination  the uncertainty may come from two major sources: the nature agent moves and the unpredictable behavior of other autonomous agents. the uncertainty may affect the expected payoff and the risk that an agent can seek. according to the rationality assumption of a traditional game theory  it is assumed that rational agents will try to play a strategy that gives the highest expected payoff. but in an uncertain game  human agents may not always play the strategy that gives the highest expected payoff if the risk is too high to be accepted. this kind of behavior seems to violate the rationality assumption of agents and deserves further investigation. one of possible reasons is that people may have different risk preferences. conservative people tend to accept no risk  no matter how high the expected payoff is. 
　although the risk preferences in principle can be included in the utility function of an agent  it is difficult to be encoded. we treat risk taking as a separated dimension of decision making from that of seeking the highest expected payoff. there are psychological justifications of how agents might want to take risk in terms of danger  slack  the aspiration level  assimilation and self-confidence  march and shapira  1 . risk measurement is quite a difficult task. 
the risk that a person feels in a game situation depends not only on the expected payoff in the game but also on the total amount of ones possession  bernoulli 1 . however  to model the detailed and the precise risk function of psychological parameters is not the purpose of this paper. we simplify the risk model into a measurable and comparable quantity in terms of payoff loss  so the agents can reason it. 
　in game theory  rational agents will try to reach nash equilibrium  which is a stable outcome for each agent. all rational agents will not leave the nash equilibrium they have reached  because whoever leaves alone will get a less payoff. however  the unique nash equilibrium point maybe not always exists  even it does  it may not be the optimal solution. if the risk is taken into account other than the expected payoff  the stable outcome will be different  therefore  be more complicated to find the nash equilibrium. in 

order to coordinate both agents in an uncertain game  the risk needs to be controlled in addition to the expected payoff in a game. 
　wu and soo proposed two communication actions of asking guarantee and offering compensation that can help to coordinate rational agents  wu and soo  1a  1 . the mechanism is involves a trusted third party into the conventional game. the guarantee communication action can prevent an agent from playing strategies that will lead to a worse result for other agents. if p doesn't want q to play strategies that will lead to a less payoff result for p. p may ask q to deposit some guarantee at a trusted third party to ensure the strategies that lead to undesirable states will not be played. if q keeps his commitment  the guarantee will be returned. the compensation communication action  on the other hand  is used to persuade an agent to play certain strategy that can lead to a desirable state. p may offer some compensation to q in order to persuade him play certain strategy toward a better state for p. the compensation is deposited at a trusted third party and will be sent to q if q does play the strategy asked. with this negotiation protocol  wu and soo showed that rational agents can reach a paretoefficient and nash equilibrium in all possible games. 
　in this paper  we extend the two communication actions to the new notion of the risk control under uncertain games. these communication actions also require involving a trusted third party in the game to coordinate the two agents. 
　in section 1  we introduce the new notion of the risk model in the game theory and then use it to redefine the strategy dominance  the nash equilibrium and the pareto efficiency concepts in traditional game theory. in section 1  we develop negotiation procedures with a trusted third party that allows agents to control the risk and expected payoff at the same time. we make discussion in section 1 and conclusion in the final section. 
1 risk models in the game theory 
supposed that in a game  there are two strategies for an agent to play that give the same expected payoff. if the agent plays the first strategy  he will get a payoff of 1 with probability 1 and a payoff of 1 with probability 1  then the expected payoff is 1. if the agent plays the second strategy  he may get a payoff of 1 with probability 1 and a payoff of 1 with probability 1  then the expected payoff is also 1. the two strategies are indifferent to a rational agent who makes decision based merely on the expected payoff. however  the risk-averse agent will play the first strategy even if the second strategy can give the highest payoff with probability 1. suppose a risk-averse agent will always play the conservative strategy even if other strategies may give higher expected payoff. on the other hand  a risk-seeking agent may choose to play the second strategy for the highest payoff 1. the risk-seeking agent will always play a strategy that might give the highest payoff  no matter how high the risk is. the rational agent assumption that maximizes the expected payoff seems not to be enough to explain the behavior. it is necessary to establish some risk model in order to clarify and explain the decision-making behavior of rational agents under risk. 
1 assumption on risk preference 
we assume an agent may have different risk preferences. 
here we discuss three typical types of risk preference for agents: risk-averse  risk-neutral  and risk-seeking. the riskaverse agent prefers to play the strategy that takes the least risk. a risk-seeking agent prefers to play the strategy that gives the highest payoff without taking the risk into account. a risk-neutral agent only tries to get the highest expected utility. in real situation  the risk preference of human agents may lay somewhat among the three extreme types of agents. but  for simplicity  we only analyze the three typical types of agents and leave the interpolation between the types into discussion and future works. 
1 the definitions and notations 
the expected payoff for each agent in a combination of strategies is denoted as the least payoff of a strategy is the highest payoff of a strategy is  where is the index of agents  and  denotes the 
other agents; agent plays strategy  while other agent plays strategy the risk for each agent in a combination of strategies is denoted as  without loss of generality  we define the risk of taking certain strategy combination as the expected payoff minus the least payoff  denoted as:  a further discussion about the risk is in section 1. 
　the dominance of a strategy: in traditional game theory  a dominant strategy for a rational agent is defined as a 
　strategy that will always give a higher payoff no matter what strategies the other agent plays  rasmusen 1 . however  the notion of a dominant strategy can be extended to take the risk preference into consideration. for a riskaverse agent  the strategy that takes the least risk has the highest dominance. for a risk-seeking agent  the strategy that may give the highest payoff has the highest dominance regardless of the risk and the expected payoff. for a riskneutral agent  the dominant strategy is the one that gives the highest expected payoff. 
　the nash equilibrium under the risk model: in traditional game theory  a strategy combination  is a nash equilibrium if any agent gets less payoff when he deviates from the strategy combination alone  nash  1; rasmusen; 1 . under the risk model  a strategy combination  is nash equilibrium if any agent gets less dominance when he deviates from the strategy combination alone. that is  for a risk-neutral agent  deviates from the 
	wu and soo 	1 



figure 1. an uncertain game represented in  a  payoff/probability  b  expected payoff  c  risk  and 

 d  highest payoff matrix forms respectively. 
nash equilibrium will decrease the expected payoff. for a risk-averse agent  deviates from the nash equilibrium will increase the risk. for a risk-seeking agent  deviates from the nash equilibrium will decrease the highest possible payoff. 
　the pareto-efficiency under the risk model: in traditional game theory  a strategy combination is paretoefficient if there is no other strategy combination increases the payoff of one agent without decreasing the payoff of another agent  rasmusen  1 . under the risk model  a 
　strategy combination is pareto-efficient if no other strategy combination increases the dominance of one agent without decreasing the dominance of the other agent. 
　pareto-dominant under the risk model: the similar to the nash equilibrium and the pareto-efficiency concept  under the risk model  we may define the pareto-dominant in terms of dominance instead of payoff. a strategy combination x strongly pareto-dominates another strategy combination y  then all agents have higher dominance at x. 
1 agent decision-making under of the new dominance concept 
take the uncertain game matrix in figure 1 a  as an example. the probability associated with each payoff reflects the 
1 	distributed al 
uncertainty of a nature move. each entry x/y in the game matrix denotes payoff x with probability y. we can simplify the game matrix into an expected payoff form as shown in figure 1  b   which is a game that gives two nash equilibrium points. since the expected payoffs are the same in all the outcomes in figure 1 b   1 makes no difference on each strategy. if q has no risk preference  the uncertainty in q's decision is an unavoidable risk for p. however  if q is risk-averse  it will play strategy a to reduce the risk by reasoning on the game matrix in the risk form in figure 1 c . each entry is calculated in terms of the risk definition in section 1. if p knows that q is risk-averse  p should play strategy c in order to get the maximum expected payoff. by doing so  both agents could get a strategy combination that gives the highest expected utility while reducing risk at the same time. however  if q is risk-seeking  it will play strategy b for the highest possible payoff as in the game matrix in figure 1 d . if p knows that q is risk-seeking  p should play strategy d in order to get the maximum expected payoff. by doing so  both agents could get a strategy combination that gives the highest expected utility while seeking for the possible highest payoff at the same time. therefore by knowing other agent's risk preference  each agent would know which 



figure 1. an uncertain game matrix  a  and its  b  expected payoff  c  highest payoff  d  risk ma-

trix forms respectively 
strategy has the highest dominance of other agents. however  there is still a problem  how agents reach some particular outcome that is the pareto-efficient and nash equilibrium  it needs a negotiation protocol to coordinate agents to reach a stable outcome. 
1 risk control in a multi-agent negotiation protocol 
by taking the risk preference into consideration  the negotiation decision making will be based on the new notion of dominance instead of payoff as in the previous work. here  we describe how the two communication actions can be used in a negotiation protocol to achieve the pareto-efficient nash equilibrium in the sense of dominance. 
1 an example of negotiation protocol 
for simplicity  in the following communication protocol descriptions  the trusted third party is literally ignored. 
　consider an uncertain game matrix in figure 1 a . figure 1 b  c  d  are the corresponding expected payoff  the highest payoff and the risk matrix forms respectively. the circles in figure 1 b  c  d  indicate the most desirable states in its corresponding game matrix. there is no nash equilibrium in figure 1 b  and figure 1 d  while two in figure 1 c . therefore  it is necessary for rational agents to negotiate a stable result. if both p and q are risk-neutral  then this game can be solved according to the guarantee/compensation negotiation protocol based on the expected payoff matrix in figure 1 b . q will pay guarantee 1 not to play strategy a and will also pay a compensation 1 to ask p to play strategy c. this resulted in a new expected payoff game matrix in 
figure 1 a . it can be shown that the strategy combination  b  c  is pareto-efficient and the nash equilibrium. 
   if q is risk-averse and p is risk-seeking. q may pay a guarantee 1 not to play strategy b and this results in a new game matrix in figure 1 b . in figure 1 b   the strategy combination  a  c  is a pareto-efficient and nash equilibrium subjected to the risk preference conditions that q takes the minimum risk in figure 1 d  and p gets the highest possible payoff in figure 1 c . if q is risk-natural and p is riskaverse. q may pay a guarantee 1 not to play strategy b and p may pay a guarantee 1 not to play d and it forms the strategy combination  a  d  a pareto-efficient and nash equilibrium. if q is risk-seeking and p is risk-neutral  q may pay a guarantee 1 not to play strategy a and p may pay a guarantee 1 not to play d and it forms the strategy combination  b  d  also pareto-efficient and the nash equilibrium. 
　it turns out that in the above example  with the negotiation protocol  all strategy combinations  a  c    a  
d    b  c    b  d  can be made as a unique pareto-
	wu and s1 	1 

efficient and nash equilibrium point  depending on different combination of the risk preference of both agents. therefore  the rational agent can control the final negotiated state they will reach. the final state may satisfy the different risk preference of each agent. but  of course  the expected payoff may be affected in each encounter of agents who have different risk preference from risk-neutral one. 
1 general negotiation protocol for risk control 
the general protocol of the negotiation is: 
procedure: negotiation protocol for risk control 
input: the game matrix with payoff/probability entries 
output: a game matrix with a unique pareto-efficient and 
nash equilibrium 
1. construct the three game matrices   expected payoff  risk  highest payoff  
1. make a proposal that using guarantee or compensation communication actions based on the preference and rational assumption of other agents. 
1. if the game still doesn't have a unique pareto-efficient and nash equilibrium  then go to step 1. 
1. play the game. 
end of the protocol 
　note that step 1 is different from the previous work. in the previous work  agents just need to analyze one matrix  but in this paper  an agent must analyze on an appropriate game matrix under the risk preference and find out the highest dominance that is consistent with risk preference. if no dominant strategy can be found under the new dominance concept  then the agent needs to adopt asking guarantee or offering compensation negotiation actions to create one. 
1. discussion 
in this paper  we define the risk in terms of a quantity that is calculated as the difference between the expected payoff and the least possible payoff. the definition of the risk can be a problem since the risk of losing or gaining certain amount of payoff may mean differently and non-linear to people. in fact  the risk measurement of certain amount of payoff was pointed out be a logarithm function  bernoulli 1 . the model of the risk preference discussed only three extreme types of the risk preference. it is too simple to reflect the true human risk preference in reality. different functions of mapping payoff to utility will lead to different risk preference agents. a risk-averse agent maps less utility for a marginal payoff while a risk-seeking agent maps more utility for a marginal payoff  hertz  1 . however  it is hard to obtain such an individual non-linear mapping function. 
　a risk preference can be a mixed weighting combination of three criteria: 1. maximizing the expected value  1. 
1 	distributed al 

	 a  q pays guarantee 1 	 b  q pays guarantee 1 
	not to play a and pays 	not to play b 
compensation 1 for ask-
ing p to play c 
figure 1. the resulting game matrix after negotiation to get a pareto-efficient and nash equilibrium based on the expected payoff  if  a  both p and q are risk-neutral   b  q is risk-averse and p is risk-seeking. 
minimizing the expectation variance  and 1 minimize the probability of an unacceptable low value  fabrycky 1 . a moderate risk-averse agent  for example  may also have a tolerance bound on risk. if the risk is under the tolerance bound then he will take the risk to seek for a higher expected payoff. on the other hand  if the risk is over her tolerance bound  he will not play the strategy. including such a 
tolerance bound into agent's decision making will indeed cause a more complex reasoning for the negotiation protocol to come up with a stable outcome. we leave it as future work. 
　the assumption of rationality of agents is redefined in the new notion of dominance instead of the expected payoff. therefore an agent is still rational if he always maximizes the expected payoff that is subjected to his risk preference. but he sometimes would be treated as irrational in the old sense of rationality that is trying to maximize the expected payoff only. 
　we can prove that the proposed negotiation procedure with risk control will end within finite time. a similar convergence theorem as well as the one of the feasibility of creating a unique pareto-efficient and nash equilibrium using the guarantee/compensation negotiation protocol via trusted third party can be proved  wu and soo  1 . 
1 conclusions 
we separated the risk preference from utility function as another dimension other than the expected payoff. to model the preference of taking risk  we defined three types of agents with different risk preferences. in this way  in game decision making  we redefined the concept of dominance so 

that the optimal strategy that agents select can take risk into account. as illustrated in the above examples  we showed that different risk preference agents in the same uncertain game could lead to different outcomes that satisfy the agent's risk preference. therefore the agent can in some sense control the risk of the outcomes of his decision making. 
　the purpose of agent negotiation is for the agents to reach a stable and efficient result. under the risk preference model  agents negotiate to control not only the expected payoff but also the risk. the mechanisms of communication actions of guarantee and compensation help agents to reduce the risk due to unpredictable behaviors of other agents in games  especially in situations of there is no unique nash equilibrium or there is a unique nash equilibrium but not pareto-efficient  e.g. prisoner's dilemma. the separation of the risk from the payoff and the redefinition of dominance in terms of different risk preferences allow agents to take risk control into decision making can reduce the risk due to the uncertainty of a nature move. 
acknowledgements 
this work was financially supported by the national 
science council of taiwan  republic of china  under grant no. nsc1-e-1. 
reference 
 axelrod  1  r. axelrod  the evolution of cooperation  basic books inc.  new york  1. 
 brafman and tennenholtz  1  r.i. brafman and m. tennenholtz  modeling agents as qualitative decision makers  artificial intelligence  vol.1  pp1  1 
 bernoulli  1  d. bernoulli  exposition of a new theory of the measurement of risk  econometrica  vol. 1  pp. 
1. 
 durfee et a!.  1  e.h. durfee  j. lee  and p.j. gmytrasiewicz  overeager reciprocal rationality and mixed strategy equilibria  in proceedings of the eleventh national conference on artificial intelligence  aaa!-1   pp.1  1. 
 fabrycky  1  w.j. fabrycky and g.j. thuesen  economic decision analysis 1nd ed. 1. 
 gmytrasiewicz et al.  1  p.j. gmytrasiewicz  e.h. durfee and d.k. wehe  the utility of communication in coordinating intelligent agents  in proceedings of the ninth national conference on artificial intelligence  aaai1   pp. 1  1. 
 haynes and sen  1  t. haynes and s. sen  satisfying user preferences while negotiating meetings  in proceeding of the second international conference on multiagent systems  icmas-1   1. 
 hertz  1  d. b. hertz  risk analysis and its applications  chichester  john wiley & sons  1. 
 koller and pfeffer  1  d. roller and a. pfeffer  representations and solutions for game-theoretic problems  artificial intelligence  vol.1  pp 1  1. 
 march and shapira  1  james g. march and zur shapira  variable risk p