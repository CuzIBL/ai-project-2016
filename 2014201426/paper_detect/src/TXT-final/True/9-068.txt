	session 1 	perception for robots 
computer description of curved objects 
gerald j. agin + 
stanford research i n s t i t u t e 
	menlo park  	c a l i f o r n i a 
thomas 1. 	binford stanford 	u n i v e r s i t y 
	s t a n f o r d   	c a l i f o r n i a 
　　
a b s t r a c t 
　　a ranging system  c o n s i s t i n g of a l a s e r   c o m p u t e r - c o n t r o l l e d o p t i c a l d e f l e c t i o n assembly  and tv camera  obtains t h r e e dimensional images of curved  s o l i d o b j e c t s . the o b j e c t is segmented i n t o parts by grouping p a r a l l e l traces obtained from the ranging system. making use of the property of g e n e r a l i z e d t r a n s l a t i o n a l i n v a r i a n c e   the p a r t s are described in terms of generalized c y l i n d e r s   c o n s i s t i n g of a space curve  or a x i s   and a c i r c u l a r cross section f u n c t i o n on t h i s a x i s . 
　　descriptive phrases: computer v i s i o n   t h r e e - d i m e n s i o n a l imaging  r e c o g n i t i o n of curved o b j e c t s . 
i n t r o d u c t i o n 
　　this paper describes some research r e c e n t l y undertaken a t the a r t i f i c i a l i n t e l l i g e n c e laboratory a t stanford u n i v e r s i t y   t o lay a foundation f o r the r e c o g n i t i o n of curved  t h r e e - d i m e n s i o n a l o b j e c t s . i t summarizes p o r t i o n s of a ph.d. t h e s i s completed in 1'. 
　　recognition of curved o b j e c t s is a very new f i e l d . 	the only p r i o r work we are aware of are the work of b. k. p. horn 1 and of n. 	krakaur 1 . 	horn was able to r e c o n s t r u c t depth contours of a surface from a twodimensional image  based on assumptions about the r e f l e c t i v i t y c h a r a c t e r i s t i c s o f the s u r f a c e   	and knowledge of l i g h t i n g c o n d i t i o n s . krakaur was able to d i s t i n g u i s h among several kinds of f r u i t by analyzing the c o n n e c t i v i t y and s t r u c t u r e of brightness contours in a two-dimensional image. 	neither of these p r o j e c t s attempted to solve the general problem of r e c o g n i z i n g   	d e s c r i b i n g   or m o d e l l i n g curved  	three-dimensional o b j e c t s . 
　　generalized c y l i n d e r s and generalized t r a n s l a t i o n a l i n v a r i a n c e have been described by a g i n '   and a f u l l e r e x p o s i t i o n is in p r e p a r a t i o n 1 . we s h a l l b r i e f l y describe them here. 
　　a generalized c y l i n d e r c o n s i s t s of a space curve  	or a x i s   	and a cross s e c t i o n f u n c t i o n d e f i n e d on t h i s a x i s . 	given a simple o b j e c t   i t s d e s c r i p t i o n may be determined by l o c a t i n g 
　　* employed by ibm c o r p o r a t i o n   e n d i c o t t   new york  at the time t h i s research was undertaken. 
an axis such t h a t the o b j e c t ' s cross s e c t i o n  normal to the axis  v a r i e s in a uniform manner along the a x i s . the cross section is thus   t r a n s l a t i o n a l l y i n v a r i a n t   under some operation which transforms one cross section shape i n t o another. descriptions of complex o b j e c t s may be b u i l t up by   c u t t i n g and p a s t i n g   the d e s c r i p t i o n s of i t s c o n s t i t u e n t p a r t s . 
　　these concepts provide a n a t u r a l   i n t u i t i v e way of representing s o l i d o b j e c t s . the p r i m i t i v e s of such a model represent p o r t i o n s of s o l i d o b j e c t s   instead of surfaces or appearances. the method allows segmentation of a complex o b j e c t i n t o p a r t s e a s i l y represented  and a h i e r a r c h i c a l approach to the d e s c r i p t i o n of o b j e c t s . generalized t r a n s l a t i o n a l invariance i s s y n t h e t i c i n nature; t h a t i s   given a model in terms of generalized c y l i n d e r s   the contours of the object may be uniquely synthesized. the inverse process  the generation of a model to represent a given r e a l o b j e c t   does not y i e l d a unique answer. while the property of generalized t r a n s l a t i o n a l invariance may be used to f i n d an axis and cross section f u n c t i o n f o r a w e l l - d e f i n e d segment  the segmentation of an object i n t o p a r t s   and determining the r e l a t i o n s h i p of the parts r e l a t i v e to each other is a problem which must be solved by h e u r i s t i c techniques. 
　　the f i r s t p a r t of t h i s paper describes a system whereby a laser and a t e l e v i s i o n camera o b t a i n range i n f o r m a t i o n about an actual object or scene  and explains the low l e v e l processing to e x t r a c t useful i n f o r m a t i o n . the second p a r t shows how t h i s three-dimensional image is analyzed to segment an object i n t o p a r t s   and to o b t a i n d e s c r i p t i o n s of these parts in terms of generalized c y l i n d e r s . 
b. laser ranging system 
　　the ranging system may be b r i e f l y described as a laser which p r o j e c t s a bar of l i g h t on a scene to be scanned  and a t e l e v i s i o n camera which detects the bar of l i g h t as it i l l u m i n a t e s the scene. a c a l i b r a t i o n 
procedure determines the r e l a t i v e p o s i t i o n of the laser w i t h respect to the tv camera  so t h a t depth i n f o r m a t i o n may be derived from the video image. a general view of the apparatus may be seen in figure 1. 
1 　　other researchers have used s i m i l a r systems. s h i r a i and suwa1 s u b s t i t u t e d a s l i d e p r o j e c t o r and conventional o p t i c s f o r our laser system. although t h e i r system 
and ours were independently designed  	the hardware c o n f i g u r a t i o n s are r a t h e r 	s i m i l a r . w i l l and pennington  used a s l i d e p r o j e c t o r to p r o j e c t on the scene  	not a s i n g l e bar of l i g h t   	but a g r i d of p a r a l l e l b a r s . 	using 
t h e i r system  	they were able to c a l c u l a t e t h e normal d i r e c t i o n t o f l a t faces o f p o l y h e d r a   	but l a c k i n g unique i d e n t i f i c a t i o n of i n d i v i d u a l bars in the image  	were unable to e x t r a c t any a b s o l u t e or r e l a t i v e depth i n f o r m a t i o n 	d i r e c t l y . 
hardware 
　　we use a helium-neon l a s e r   e m i t t i n g about 1 m i l l i w a t t s of red l i g h t at a wavelength of 1 angstroms. c a l c u l a t i o n s based on l i m i t i n g s e n s i t i v i t y o f the v i d i c o n tube and the o p t i c a l parameters of t h e system i n d i c a t e an o u t p u t of 1 m i l l i w a t t s to be the minimum f o r t h i s a p p l i c a t i o n . our 1 
m i l l i w a t t s appears to be adequate  provided adequate c o n t r o l is maintained of beam f o c u s s i n g and o f o p t i c a l f i l t e r i n g a t the camera. 
　　since the l a s e r is not p o r t a b l e   	a periscope and a u x i l i a r y m i r r o r a l l o w f l e x i b i l i t y 	i n p o s i t i o n i n g o b j e c t s 	and apparatus on the t a b l e . 	{see f i g u r e 1.  
　　the 	l a s e r d e f l e c t i o n assembly performs t h r e e operations on the laser beam: 
f o c u s s i n g   d i v e r g i n g   and scanning. a view of the assembly is shown in f i g u r e 1. the assembly is mounted on a stand which allows an a r b i t r a r y p o s i t i o n and o r i e n t a t i o n f o r f l e x i b i l i t y i n setup. 
　　a lens of 1 m i l l i m e t e r s f o c a l l e n g t h perfoms focussing of the beam  narrowing i t t o about 1 m i l l i m e t e r s where i t i l l u m i n a t e s the scene. 
　　the c y l i n d r i c a l lens diverges the shape of the beam from a spot of l i g h t to a bar o f 	l i g h t 	  a c t u a l l y   	a n elongated e l l i p s e .   the lens is a s h o r t piece of g l a s s r o d   w i t h a f o c a l l e n g t h of approximately 1 m i l l i meters. 	i t s e f f e c t i s t o magnify the beam i n one d i r e c t i o n only 	 perpendicular t o the a x i s of the rod  	to produce a bar or plane of l i g h t . 	a stepper motor may r o t a t e the c y l i n d r i c a l 	lens 	 under computer c o n t r o l   to vary the o r i e n t a t i o n of the bar of l i g h t . 
　　a f r o n t - s u r f a c e m i r r o r is mounted on the s h a f t of another 	stepper motor  	through a gear r e d u c t i o n head. 	this arrangement can scan the plane of 	l i g h t across the scene on the t a b l e   w i t h a r e s o l u t i o n of 1 motor steps per r e v o l u t i o n of the o u t p u t s h a f t . 
　　a n i n t e r f e r e n c e f i l t e r i s sometimes placed behind the lens of the tv camera to screen o u t ambient i l l u m i n a t i o n   	and a l l o w l i g h t of the l a s e r ' s wavelength to pass. 	a f i l t e r w i t h a bandpass of 1 angstroms  	and a 
　　t r a n s m i s s i o n of about 1 percent at 1 angstroms  	a l l o w s o p e r a t i o n of the system i n d a y l i g h t . 	but because o f d i f f i c u l t i e s i n mounting the f i l t e r o n the camera  	u s u a l l y 
o p e r a t i o n is in a darkened room w i t h o u t any f i l t e r . 
operation 
　　f i g u r e 1 is the image of a b a r b i e * d o l l in normal and l a s e r i l l u m i n a t i o n . the t a b l e t o p has been covered w i t h a dark c l o t h   to suppress the background of the p i c t u r e  the t a b l e t o p .   the laser bar of l i g h t may be seen i l l u m i n a t i n g the d o l l   from the r i g h t shoulder t o t h e l e f t knee. 
　　the usual mode of o p e r a t i o n is to p o s i t i o n the bar of l i g h t at one edge of the scene  read the tv camera  and process the data obtained f o r storage on d i s k . the r o t a t i n g m i r r o r is then moved  and the process is repeated u n t i l the beam has been scanned across the e n t i r e scene and the data s t o r e d . the c y l i n d r i c a l lens is then r o t a t e d 1 degrees and t h e scene scanned a g a i n   r e s u l t i n g i n a n o v e r l a p p i n g g r i d o f l a s e r l i n e s covering the scene. 
　　to scan a t y p i c a l scene u s u a l l y r e q u i r e s between f i v e and ten minutes of elapsed t i m e . this time i n c l u d e s some i n i t i a l setup  user i n t e r a c t i o n   a one-second s e t t l i n g time each time the r o t a t i n g m i r r o r is stepped  and computer p r o c e s s i n g of the image f o r d i s k 
storage. 
line d e t e c t i o n and thinning 
　　the t e l e v i s i o n i n p u t r o u t i n e r e t u r n s an array of f o u r b i t b r i g h t n e s s samples  packed nine to a 1 - b i t pdp-1 word. to reduce the gross amount of d a t a   t h i s array is searched f o r nonzero b r i g h t n e s s samples. the samples detected are s t o r e d on d i s k   w i t h the r a s t e r coordinates and the b r i g h t ness value packed in one word per sample. for a t y p i c a l frame of t e l e v i s i o n d a t a   t h i s r e s u l t s in a net data compression of about 1 to one. f i g u r e 1 p l o t s the nonzero samples detected in one frame from the barbie d o l l of figure 1. 
　　because t h e l i n e s thus detected are u s u a l l y broader than d e s i r a b l e   the c e n t e r l i n e i s l o c a t e d by making h o r i z o n t a l and v e r t i c a l   s l i c e s   through the array of p o i n t s . the center of each contiguous set of p o i n t s along each s l i c e is computed  and r e t a i n e d as the center o f t h e t r a c e . 
　　for each set of contiguous data p o i n t s from one frame of tv i n p u t s   the program l o c a t e s the end p o i n t s   	then f i n d s the s h o r t e s t path through the data p o i n t s 	l i n k i n g the ends. 	the p o i n t s along t h i s path are r e t a i n e d i n a n ordered l i s t . 	a l l other p o i n t s i n t h e contiguous group are r e j e c t e d . a l s o   	the program w i l l not r e t a i n any segment c o n t a i n i n g t h r e e or 	fewer p o i n t s . 
　　figure 1 shows the p o i n t s of figure 1 a f t e r t h i n n i n g and l i n k i n g . because of a gap in the d a t a   two independent groups were i d e n t i f i e d . 
	  registered trademark of m a t t e l   	i n c   	1 
	w. rosencrans  hawthorne  c a l i f . 	1. 
1 
curve f i t t i n g and segmentation 
　　the ordered l i s t of p o i n t s found by the l i n k i n g o p e r a t i o n should be s u f f i c i e n t f o r the shape a n a l y s i s phase of our programs. but  because at an e a r l i e r time in the course of t h i s research we had been i n t e r e s t e d in l o c a t i n g corners and edgeb of o b j e c t s   and 
because corners and edges may t u r n out to be i m p o r t a n t in the f u t u r e   segmentation and curve f i t t i n g are c a r r i e d out on the l a s e r l i n e s . although curve f i t t i n g i s time 
consuming  and i n t r o d u c e s some a d d i t i o n a l e r r o r i n t o the d a t a   the processing of curves by the shapes a n a l y s i s program is more e f f i c i e n t than the processing of p o i n t s along the curve. 
　　curve f i t t i n g i s described i n d e t a i l i n reference   1     the method amounts to a t t e m p t i n g t o f i t e i t h e r a s t r a i g h t l i n e or a second-order curve to an ordered l i s t of p o i n t s . if no curve can be f i t   the l i n e i s segmented  i n r e c u r s i v e f a s h i o n   u n t i l a curve can be f i t . the method is good at l o c a t i n g corners in a l i n e   and gives a good f i t   w i t h a small number of segments  to almost any d a t a . 
　　f i g u r e 1 is a composite of 1 laser t r a c e s covering t h e barbie d o l l   a f t e r curve f i t t i n g . near the lower r i g h t corner we see two l i n e s where the black c l o t h on the t a b l e t o p f a i l e d to completely suppress the background. the s h o r t h o r i z o n t a l l i n e in the lower r i g h t corner is due to e r r o r s in the tv i n p u t hardware. a few of the shorter l i n e segments  n o t a b l y around the w r i s t s 
and ankles  	have been l o s t   because the p o i n t l i n k i n g r o u t i n e d i d not f i n d enough p o i n t s t o 	consider 	s i g n i f i c a n t . 
c a l i b r a t i o n and depth determination 
　　to convert two-dimensional p o i n t s   l i n e s   or curves in the tv image to three-dimensional coordinates r e q u i r e s knowing the p h y s i c a l p o s i t i o n o f the l a s e r w i t h respect t o the tv camera. c a l i b r a t i o n is accomplished in two phases: camera c a l i b r a t i o n and laser c a l i b r a t i o n . 
　　camera c a l i b r a t i o n involves e s t a b l i s h i n g a correspondence between p o i n t s on the t a b l e t o p and p o i n t s in the tv image. the procedure we use f o l l o w s the e s s e n t i a l d e t a i l s of t h e method described by s o b e l 1 . laser l i n e s are p r o j e c t e d on the t a b l e t o p   and t h e i r p o s i t i o n s are manually measured w i t h respect to a coordinate system r e l a t i v e to the t a b l e t o p . a r e l a x a t i o n method obtains values f o r the parameters of camera p o s i t i o n   o r i e n t a t i o n   and m a g n i f i c a t i o n which p r e d i c t most a c c u r a t e l y t h e p o s i t i o n of the laser t r a c e s in t h e i r tv images. 
　　laser c a l i b r a t i o n is based on m i n i m i z a t i o n of  matching e r r o r s .   where two laser t r a c e s   a r i s i n g from d i f f e r e n t o r i e n t a t i o n s o f the c y l i n d r i c a l l e n s   cross in the image of a scene  d i f f e r e n t determinations of depth may be obtained f o r the two l i n e s . the amount of mismatch in depth w i l l be dependent on how a c c u r a t e l y we know the p o s i t i o n and o r i e n t a t i o n o f the laser d e f l e c t i o n assembly. 
a r e l a x a t i o n a l g o r i t h m f i n d s the values of the laser p o s i t i o n and o r i e n t a t i o n parameters 
which r e s u l t in the best depth match of crossing p o i n t s . 	the image of v i r t u a l l y any scene may be used  although a scene w i t h f l a t - f a c e d 	s o l i d s w i l l 	g e n e r a l l y 	introduce the l e a s t amount of noise i n t o the d a t a . 
　　the laser c a l i b r a t i o n data amounts to a set of constants to be used in an a l g o r i t h m f o r c a l c u l a t i n g the homogeneous coordinates of the laser plane of l i g h t . 	once t h i s plane is known  a system of equations may be solved to y i e l d a c o l l i n e a t i o n m a t r i x   	c  	such t h a t the p h y s i c a l coordinates of any p o i n t on the image of the scan l i n e is given by: 
	x 	u 
	y 	= 	c 	* 	v 	 equation 	1  
	z 	1 
h 
where u and v are the r a s t e r coordinates  in the tv image  of the p o i n t   and x/h  y/h  and z/h give i t s p h y s i c a l c o o r d i n a t e s . 
　　analysis i n d i c a t e s t h a t the average absolute e r r o r in p o s i t i o n measured by our 
methods w i l l not be greater than 1 i n c h . absolute e r r o r s in p o s i t i o n would be important only if an o b j e c t were to be grasped  say  by a mechanical arm w i t h o u t any v i s u a l s e r v o i n g . a f a r more important f i g u r e is r e l a t i v e accuracy  or r e s o l u t i o n . for two p o i n t s located near one another  the average e r r o r in the r e l a t i v e p o s i t i o n of one w i t h respect to the other w i l l not be more than 1 i n c h . 
advantages and disadvantages 
　　the a v a i l a b i l i t y of 	three-dimensional i n f o r m a t i o n about 	s o l i d o b j e c t s 	increases the power of a n a l y s i s and r e c o g n i t i o n programs immensely. 	for example  	s h i r a i and suwa1 
have used depth i n f o r m a t i o n to analyze and recognize r i g h t prisms  w i t h some r e l a t i v e l y unsophisticated p l a n e - d e t e c t i o n r o u t i n e s . our experimental work on shape analysis would not be p o s s i b l e w i t h o u t depth i n f o r m a t i o n from which to form models. 
　　however  the means by which we acquire t h i s depth i n f o r m a t i o n is cumbersome and time-consuming. the requirement of ten minutes to scan a scene  and several more minutes for low l e v e l processing would be p r o h i b i t i v e in many a p p l i c a t i o n s . monochromaticity of the l i g h t source imposes r e s t r i c t i o n s on the hue of o b j e c t s to be scanned. and the use of lasers can create a safety hazard when used in an u n c o n t r o l l e d environment. 
　　our shape analysis programs do not depend  except in some minor ways  on the method of o b t a i n i n g depth i n f o r m a t i o n . 	the use of laser t r i a n g u l a t i o n may be regarded as an i n t e r i m measure  	u n t i l more s o p h i s t i c a t e d techniques become a v a i l a b l e . 	grid c o d i n g   two camera s t e r e o   	or t i m e - o f - f l i g h t measurement of 	l i g h t could c o n c e i v a b l y   	w i t h 
f u r t h e r development  	provide the advantages of three dimensional imaging w i t h o u t the disadvantages of the present method. 
　　
1 
　　
shape a n a l y s i s 
　　a p r e r e q u i s i t e to t h e r e c o g n i t i o n of curved o b j e c t s i s t h e a b i l i t y t o t r a c e and recognize the p r i m i t i v e s o f which i t s models are composed. we have a set of programs which do e s s e n t i a l l y t h a t . a p r e l i m i n a r y a n a l y s i s of t h e scene r e s u l t s in hypotheses being generated about p o s s i b l e axes f o r g e n e r a l i z e d c y l i n d e r s . a c y l i n d e r - t r a c i n g r o u t i n e explores i n the suggested d i r e c t i o n   and i f i t succeeds i n f i n d i n g a c y l i n d e r   the c y l i n d e r is extended u n t i l a gross change i n cross s e c t i o n diameter i s sensed. 
　　the h y p o t h e s i s - t e s t i n g mode of o p e r a t i o n makes the c y l i n d e r t r a c i n g r o u t i n e s i d e a l l y s u i t e d f o r use by h i g h l e v e l a n a l y s i s r o u t i n e s . based on r e l a t i o n s h i p s of p a r t s to one another  and a s - y e t unanalyzed p o r t i o n s of a scene  a h i g h l e v e l r o u t i n e might p o s t u l a t e the e x i s t e n c e o f s k e l e t a l p i e c e s   which the c y l i n d e r t r a c e r would be then c a l l e d upon t o v e r i f y o r r e j e c t . this c a p a b i l i t y i s p r e s e n t l y u t i l i z e d o n l y i n a p r i m i t i v e f a s h i o n   but the p o t e n t i a l e x i s t s f o r the more general use. 
　　the c y l i n d e r t r a c e r operates in an i t e r a t i v e f a s h i o n . s t a r t i n g w i t h some estimate of the a x i s and diameter of a c y l i n d e r segment  cross sections are found p e r p e n d i c u l a r t o t h i s a x i s . the c e n t e r s of the new cross s e c t i o n s w i l l   h o p e f u l l y   r e p r e s e n t an improved a x i s assumption. for w e l l - d e f i n e d c y l i n d e r s   the method i s u s u a l l y convergent. i f t h e a n a l y s i s d i v e r g e s   the o r i g i n a l a x i s hypothesis must be r e j e c t e d by t h e c a l l i n g program. 
　　our r o u t i n e s are p r e s e n t l y l i m i t e d i n t h a t c i r c u l a r cross s e c t i o n s are t h e o n l y cross s e c t i o n s i t c o n s i d e r s . there has also been no attempt to parametrize t h e space curves of the axes of g e n e r a l i z e d c y l i n d e r s . a g e n e r a l i z e d c y l i n d e r is represented in the program as a sequence of p o i n t s along i t s a x i s   and a l i n e a r r a d i u s f u n c t i o n of the form; 
	radius 	 n  	- 	radius  1  + m * n 
 equation 1  
where radius {1  and m are parameters of the f u n c t i o n   and n corresponds to the order o f p o i n t s along t h e a x i s . 
p r e l i m i n a r y 	grouping 
　　a p r e l i m i n a r y grouping of l a s e r t r a c e s generates hypotheses f o r v e r i f i c a t i o n by the c y l i n d e r t r a c e r . this grouping of scan l i n e s is c a r r i e d o u t in tv c o o r d i n a t e s   before a p p l y i n g the c a l i b r a t i o n d a t a t o c o n v e r t t o t h r e e dimensions. 
　　the basic method of p r e l i m i n a r y grouping i s t o 	l i n k t o g e t h e r 	l i n e segments 	from consecutive l a s e r scans on the b a s i s of whether or not they are roughly p a r a l l e l in t h e i r tv image. 	a set of segments l i n k e d t o g e t h e r is a   g r o u p .   	checks are made f o r gross changes in t h e lengths of segments 
making up t h e group  and groups d i v i d e d at d i s c o n t i n u i t i e s . 
　　a l l groupings are e x t r a c t e d simultaneously in a s i n g l e pass through the data s t r u c t u r e . figure 1 shows the groups e x t r a c t e d from the image of f i g u r e 1. the m i d p o i n t s of the segments of f i g u r e 1 w i l l be transformed i n t o t h r e e dimensions and passed to the c y l i n d e r t r a c e r as c y l i n d e r hypotheses. a rough e s t i m a t e of each cross s e c t i o n is r e q u i r e d f o r t h e cross s e c t i o n f i n d e r . this i n i t i a l e s t i m a t e i s computed from the average l e n g t h of the l i n e segments of the group  m u l t i p l i e d by the sine of the angle between the l i n e segments and the l i n e j o i n i n g t h e i r m i d p o i n t s . 
      the p r e l i m i n a r y grouping 	is one place in our programs where we depend on the format o f the i n p u t d a t a . 	i f another ranging apparatus were s u b s t i t u t e d   	the o u t l i n e s 
made by depth d i s c o n t i n u i t i e s could p r o v i d e 
s i m i l a r 	i n f o r m a t i o n .   
the c y l i n d e r tracer 
　　to i l l u s t r a t e the o p e r a t i o n of the c y l i n d e r t r a c e r   we make use of the l a s e r image of a cone. f i g u r e 1 shows an i n i t i a l hypothesis of the a x i s of the cone. the approximate o u t l i n e o f t h e cone i s sketched f o r c l a r i t y . 
　　improving on a c y l i n d e r hypothesis may be l o g i c a l l y broken down i n t o s i x s t e p s . the steps w i l l be b r i e f l y l i s t e d   then eah discussed i n d e t a i l l a t e r . the steps a r e : 
　　1. for each p o i n t on t h e a x i s   determine a cross s e c t i o n plane normal t o the a x i s d i r e c t i o n . 
　　1. for each plane determined in step 1   c a l l t h e cross s e c t i o n f i n d e r t o l o c a t e p o i n t s on t h e surface of t h e o b j e c t in the v i c i n i t y o f the p l a n e . 
　　1. from the p o i n t s obtained in step 1  o b t a i n an e s t i m a t e of t h e diameter o f the c y l i n d e r a t t h a t p o i n t .  figure 1 shows t h e diameters e s t i m a t e d f o r t h e cone  drawn in p e r s p e c t i v e on t h e i r r e s p e c t i v e p l a n e s . 
	t. 	c a l c u l a t e a l i n e a r 	 conical  	r a d i u s 
	f u n c t i o n 	f o r 	the 	c y l i n d e r . 
　　1 . 	f i t 	c i r c l e s 	o f 	r a d i i p r e d i c t e d by the r a d i u s f u n c t i o n to the surface p o i n t s found in step 1  	 figure 1 shows t h e new c i r c l e s 	f i t t o t h e cone.  
　　1 fixups 	are made  	if necessary. 
cross s e c t i o n planes 
　　planes must be e s t a b l i s h e d p e r p e n d i c u l a r to the a x i s d i r e c t i o n   on which to d e s c r i b e cross s e c t i o n s . a q u a d r a t i c smoothing f u n c t i o n i s a p p l i e d l o c a l l y   t o f i v e consecutive p o i n t s   t o e s t i m a t e t h e tangent to t h e a x i s . the d e s i r e d cross s e c t i o n plane passes through a p o i n t on t h e a x i s   p e r p e n d i c u l a r t o the l o c a l t a n g e n t . 
l o c a t i n g cross section points 
　　the cross s e c t i o n f i n d e r l o c a t e s p o i n t s on t h e surface of an o b j e c t in the v i c i n i t y of a plane passing through the o b j e c t . to do t h i s   two a u x i l i a r y planes are i n t r o d u c e d   p a r a l l e l to and on e i t h e r side of the cross s e c t i o n plane. {the distance between the cross s e c t i o n plane and the a u x i l i a r y planes is c o n t r o l l e d by the distance between consecutive p o i n t s on the a x i s .   now the 
data base is searched to f i n d curve segments 
from the laser data which cross or l i e between the a u x i l i a r y p l a n e s . 	for those curve segments  	the i n t e r s e c t i o n of the segment 
w i t h the a u x i l i a r y planes  	are c a l c u l a t e d . these p o i n t s are transformed i n t o a twodimensional coordinate system on the cross s e c t i o n plane  	and entered i n t o a l i s t of 
p o i n t s 	found. 
　　since one plane may cut a complex object  or a group of o b j e c t s } at several places  i t i s necessary t o separate the p o i n t s corresponding to the c y l i n d e r we are i n t e r e s t e d i n   from those t h a t may belong to another p a r t of the scene. this requires an e s t i m a t e of t h e center and the r a d i u s of the c i r c u l a r cross section we are to f i n d . the transformed cross s e c t i o n p o i n t s are l i n k e d together i n t o groups on the basis of p r o x i m i t y . a t h r e s h o l d   gap  determines the maximum d i s t a n c e between neighboring p o i n t s in the same group. the mean distance of each group from the estimated center is computed. a l l groups having a mean distance g r e a t e r than the estimated radius are then r e j e c t e d . 
　　the s e p a r a t i o n of r e l e v a n t cross s e c t i o n p o i n t s from i r r e l e v a n t ones is the most e r r o r - p r o n e p o r t i o n s o f our method. i f too l a r g e a value f o r gap is s p e c i f i e d   e x t r a neous data p o i n t s could be l i n k e d i n t o good d a t a ; if too small a value is s p e c i f i e d   good data might be thrown away. a d e f a u l t v a l u e f o r gap is determined by the mean d i s t a n c e between consecutive l a s e r traces in a scene  but t h i s t h r e s h o l d may be modified by the c y l i n d e r t r a c e r d u r i n g f i x u p s   as e x p l a i n e d below. 
radius 	e s t i m a t i o n 
　　an i n i t i a l r a d i u s estimate has enabled the cross s e c t i o n f i n d e r t o l o c a t e cross s e c t i o n p o i n t s . these p o i n t s are now used to improve on the o r i g i n a l e s t i m a t e . 
　　the r a d i u s of a c y l i n d e r may be estimated from the e x t e n t of the surface which is 
v i s i b l e and i l l u m i n a t e d   and the known p o s i t i o n s of the l a s e r and the tv camera. 
　　f i g u r e 1 shows a normal cross s e c t i o n of a c y l i n d e r   	and the p r o j e c t i o n s 	 on the normal plane  	of t h e l i n e s of s i g h t from the l a s e r and from the tv camera. 	the p o r t i o n of t h e surface from a counterclockwise to c w i l l be i l l u m i n a t e d 	 at one time or another  by t h e l a s e r . 	the p o r t i o n counterclockwise from b to d is v i s i b l e to the tv camera. but since the p o r t i o n from c to d is not i l l u m i n a t e d at any t i m e   	o n l y the p o r t i o n from b to c w i l l be d e t e c t e d . 
　　let the angle between the p r o j e c t i o n s of the l i n e s of s i g h t to the tv and to the laser be c a l l e d p h i . 	the l e n g t h of the l i n e bc is given by the r e l a t i o n s h i p : 
             bc = 1 r cos  phi/1  	 equation 	1  which may be solved f o r the r a d i u s   r. 
　　we note t h a t the accuracy of t h i s estimate w i l l depend on whether or not the surface is a c t u a l l y a c i r c u l a r c y l i n d e r   on the 
p e r p e n d i c u l a r i t y of the cross 	section plane to the a c t u a l a x i s   on the laser i l l u m i n a t i o n being b r i g h t enough to perceive near p o i n t c in figure 1   and  to a small degree  on the cross s e c t i o n being small compared to the distance to the laser and the tv camera. no attempt has been made to q u a n t i f y the e r r o r s 	i n t r o d u c e d   	but the r e s u l t s given by t h i s method seem to agree reasonably w i t h 
the dimensions of a c t u a l o b j e c t s . 
r e f i t t i n g 	c i r c l e s 
　　a l i n e a r l e a s t squares f i t determines the c o e f f i c i e n t s radius  1  and m of equation 1. then f o r each cross s e c t i o n plane  c i r c l e s of radius given by the r a d i u s f u n c t i o n are f i t t e d to the p o i n t s found by the cross section f i n d e r . a steepest descent a l g o r i t h m   augmented by newton's method  f i n d s the center coordinates which minimize the mean square distance of the surface p o i n t s from the c i r c l e . 
fixups 
　　with a w e l l - d e f i n e d c y l i n d e r or cone to t r a c e   	and in the absence of other nearby surfaces  	the method of c y l i n d e r t r a c i n g 
u s u a l l y converges r a p i d l y . but when an e r r o r is made in f i t t i n g one cross s e c t i o n   the e r r o r must be detected and c o r r e c t e d   or subsequent a p p l i c a t i o n s of the c y l i n d e r t r a c e r t o the a x i s estimate w i l l diverge to an i n c o r r e c t or meaningless answer. several types of e r r o r are checked  and corrected where p o s s i b l e . 
　　the ends of the c y l i n d e r are checked f i r s t . 	the ends are s u c e p t i b l e to e r r o r 
because gross cross s e c t i o n changes f r e q u e n t l y occur t h e r e . if the diameter of the end cross section does not agree   w i t h i n a c e r t a i n l i m i t   w i t h t h a t p r e d i c t e d by the radius f u n c t i o n   equation 1  or if the a x i s is found to make a sharp bend at the end  the end p o i n t and cross s e c t i o n are d e l e t e d from the c y l i n d e r . 
　　for a l l o t h e r pointb on the a x i s   	the diameter of the cross s e c t i o n is compared 
w i t h t h a t p r e d i c t e d by the r a d i u s f u n c t i o n . the angle made by t h a t p o i n t and i t s two adjacent p o i n t s is also checked; an e r r o r e x i s t s if t h i s angle is less than 1 degrees. if an e r r o r is d e t e c t e d   a new cross bection plane is s p e c i f i e d midway between the adjacent axis p o i n t s . the parameter gap  which c o n t r o l s cross s e c t i o n s e p a r a t i o n  see  locating cross section p o i n t s   above   is e i t h e r increased or decreased  depending on the r e l a t i v e sizes of the p r e d i c t e d and estimated d i a m e t e r s . the new cross s e c t i o n data replaces the o l d   and t h e r a d i u s f u n c t i o n is recomputed. 
extending 	the c y l i n d e r 
　　usually a n i n i t i a l a x i s estimate i n c l u d e s only a s h o r t s e c t i o n of a longer piece t h a t 
may be c o n v e n i e n t l y described as a g e n e r a l i z e d c y l i n d e r . 	extending t h e c y l i n d e r f i n d s the longest piece t h a t may be c o n v e n i e n t l y d e s c r i b e d   	and aids in segmentation of complex o b j e c t s by l o c a t i n g gross changes 	in cross s e c t i o n diameter of an o b j e c t . 
　　extension is from one end at a t i m e . from one end  t h e a x i s is extended a f i x e d d i s t a n c e   and a s i n g l e new cross s e c t i o n added to the c y l i n d e r d e s c r i p t i o n . the r a d i u s is estimated from the cross s e c t i o n p o i n t s   and a c i r c l e of diameter p r e d i c t e d b y the r a d i u s f u n c t i o n   equation 1   i s f i t t e d to the cross s e c t i o n p o i n t s . as long as the extension i s compatible w i t h the r e s t o f the c y l i n d e r   a d d i t i o n a l extensions are made. 
　　i n c o m p a t i b i l i t y may be s i g n a l l e d e i t h e r by a sharp bend in the a x i s as a r e s u l t of the e x t e n s i o n   	or by disagreement between the measured and p r e d i c t e d r a d i i . 	when disagreement i s d e t e c t e d   	the r a d i u s 	f u n c t i o n is recomputed  	new c i r c l e s f i t on every cross s e c t i o n plane of the a x i s   	and the e x t e n s i o n attempted a g a i n . 	i f the disagreement p e r s i s t s   	the e n t i r e 	c y l i n d e r estimate obtained up to t h i s p o i n t is reprocessed by the c y l i n d e r t r a c e r   	and the extension attempted once again. 	if the attempt again f a i l s   	the e x t e n s i o n i s t e r m i n a t e d . 
　　termination is u s u a l l y because t h e g e n e r a l i z e d c y l i n d e r ends a t t h a t p o i n t   or because the c y l i n d e r meets or j o i n s another p o r t i o n of a complex o b j e c t . on the cone of figure 1  extension was made from the top and from t h e bottom. figure 1 shows the complete a n a l y s i s of the cone a f t e r extension from both ends. 
t y p i c a l 	operation 
　　the usual mode of o p e r a t i o n of t h e programs described here r e q u i r e some small amount o f manual d i r e c t i o n   i n the p r e l i m i n a r y grouping phase  a l l i n i t i a l c y l i n d e r groupings are made in a s i n g l e pass. then the operator must s p e c i f y which hypotheses are to be processed  and decide whether the a n a l y s i s converged o r d i v e r g e d . i t e r a t i o n c o n t r o l i n c y l i n d e r t r a c i n g and extending are e n t i r e l y automatic. 
　　the groups detected in the p r e l i m i n a r y grouping phase are ranked according to t h e i r l i k e l i h o o d o f r e p r e s e n t i n g w e l l - d e f i n e d g e n e r a l i z e d c y l i n d e r s . 	this ranking 	i s c a l c u l a t e d 	from the number of consecutive laser scans making up the g r o u p i n g   	and the l e n g t h - t o - w i d t h r a t i o o f the group. 	thus  l o n g   	t h i n groups are ranked higher than s h o r t   wide groups. 	the operator of the program s p e c i f i e s t h e groups to be analyzed i n t h e order o f t h i s r a n k i n g   	except t h a t a group which s u b s t a n t i a l l y overlaps a group already s u c c e s s f u l l y analyzed w i l l b e skipped. 
　　i t i s the j o b o f the c y l i n d e r t r a c i n g subroutine to i t e r a t i v e l y improve on c y l i n d e r assumptions passed t o i t . i n t h e complete a n a l y s i s of a c y l i n d e r segment  the c y l i n d e r t r a c e r w i l l b e c a l l e d a t l e a s t f o u r t i m e s   and in borne cases  as many as t e n times before a n a n a l y s i s i s complete. i t i s o n the basis o f these i t e r a t i o n s t h a t the operator must decide success or f a i l u r e of the a n a l y s i s . i t would b e d e s i r a b l e t o automate t h i s d e c i s i o n process. 
　　convergence or divergence of shape a n a l y s i s is u s u a l l y easy f o r a human o p e r a t o r to decide. probably  c o n s i d e r a t i o n s as to whether or not the r e s u l t s agree w i t h what is expected have some bearing on a human o p e r a t o r ' s judgment. but it has been our experience t h a t those analyses which are judged d i v e r g e n t have some p r o p e r t i e s in common. in these cases  the f i x u p s a p p l i e d by the c y l i n d e r t r a c e r to the ends of the c y l i n d e r u s u a l l y d e l e t e several a x i s p o i n t s from both ends  y i e l d i n g c y l i n d e r segments s h o r t e r than what were o r i g i n a l l y p o s t u l a t e d . the a x i s p o i n t s of convergent analyses l i e along a reasonably w e l l - d e f i n e d p a t h   w h i l e the a x i s p o i n t s of d i v e r g e n t analyses tend t o b e s c a t t e r e d   i t should not b e d i f f i c u l t to design a computer subroutine to d e t e c t divergence on t h i s b a s i s . 
some results 
　　our r o u t i n e s tend to do w e l l on o b j e c t s d e s c r i b a b l e as a s i n g l e g e n e r a l i z e d c y l i n d e r   and on p o r t i o n s of complex o b j e c t s which possess c o n s i d e r a b l e e l o n g a t i o n . 	they give 
marginal r e s u l t s i n the neighborhood o f j o i n t s between p a r t s of complex o b j e c t s   and where nearby p a r t s confuse t h e cross s e c t i o n f i n d e r . 
　　in order to represent an unbiased p i c t u r e of the c a p a b i l i t i e s and l i m i t a t i o n s of our program  t h e r e s u l t s presented here were a l l obtained w i t h a s i n g l e v e r s i o n of the a n a l y s i s program. some improvement in the r e s u l t s might have been expected by a d j u s t i n g parameters to give the best r e s u l t s f o r each p a r t i c u l a r p i c t u r e ; f o r each image shown here  we have at l e a s t once obtained a b e t t e r a n a l y s i s . but the r e s u l t s presented here were obtained in a s i n g l e evening  w i t h no adjustments between one p i c t u r e and the n e x t . 
　　f i g u r e 1 is t h e processed image of a snake made of m o d e l l i n g c l a y . from an i n i t i a l a x i s estimate comprising perhaps the middle t h i r d o f t h e f i g u r e   the complete a n a l y s i s of figure 1 was obtained by extension of the ends. s i m i l a r r e s u l t s have been obtained f o r other simple o b j e c t s   such as r i n g s   cones  e t c . 
　　a toy horse is d e p i c t e d in f i g u r e 1.  because of an e r r o r in the setup of the l a s e r   p a r t of the head is missing from the image.  f i g u r e 1 shows t h a t t h e a n a l y s i s 
was able to i d e n t i f y seven g e n e r a l i z e d c y l i n d e r s   comprising the body  the neck  the t a i l   and the f o u r l e g s . f i g u r e 1 is a d i f f e r e n t view of the same a n a l y s i s which shows the neck  body  and t a i l to b e t t e r advantage. both l e f t legs are p a r t i a l l y occluded by the shadows of the r i g h t l e g s . for reasons t h a t are p r e s e n t l y u n c l e a r   t h e a n a l y s i s of t h e body f a i l e d to stop at the rear l e g s   but continued to the t a i l . the c y l i n d e r t r a c e r u s u a l l y does poorly on very t h i n c y l i n d e r s   but i n t h i s case  a l l four legs were i d e n t i f i e d s a t i s f a c t o r i l y . some i n d i c a t i o n of t h i s d i f f i c u l t y may be seen in the bend of the a x i s of the r i g h t f o r e l e g . 
	a n a l y s i s of 	the baby d o l l shown in figure 
1 r e s u l t e d in t h e d e s c r i p t i o n of f i g u r e 1. the program f a i l e d to make a segmentation between the r i g h t l e g o f the d o l l   and i t s body. this is probably the same s o r t of e r r o r as t h a t which caused the body of the horse to extend toward the r e a r . the c y l i n d e r extender continued the a n a l y s i s of the r i g h t leg to i n c l u d e the f o o t . separation between the r i g h t arm and the body has been 
m a i n t a i n e d   even though the p a r t s are close enough to p o s s i b l y cause confusion of the cross s e c t i o n f i n d e r . the head is not very w e l l d e s c r i b e d . 
	the a n a l y s i s of the barbie d o l l 	 figure 
1  is shown in figure 1. the d e s c r i p t i o n of the body is poor  because of i t s nonc y l i n d r i c a l shape  and because the presence of the l e f t arm nearby confused the cross s e c t i o n f i n d e r . there i s l i t t l e separation between the legs in figure 1  but the program found both knees where the separation is g r e a t e s t . i n analyzing the r i g h t c a l f   separation between the legs was small enough to cause the cross s e c t i o n f i n d e r to regard both legs t o g e t h e r as a s i n g l e c y l i n d e r . this c y l i n d e r was extended upward toward the body  o v e r l a p p i n g the previous analyses of the knees. the short c y l i n d e r incompletely r e p r e s e n t i n g t h e l e f t arm is evidence of d i f f i c u l t y w i t h t h i n c y l i n d e r s   mentioned above in connection w i t h the horse. 
time and core requirements 
　　the program which performs shape a n a l y s i s   i n c l u d i n g p r e l i m i n a r y grouping  c y l i n d e r t r a c i n g   c y l i n d e r e x t e n d i n g   and i t e r a t i o n c o n t r o l   r e q u i r e s between 1 and 1 k  1 b i t words  on t h e pdp-1 computer. this includes between 1 and 1 k of data a r r a y s   1 k of d i s p l a y b u f f e r s   and 1 k f o r an i n t e r a c t i v e debugging package. simple f i g u r e s such as the snake may be processed in about one minute of computer t i m e . the horse and the two d o l l s each r e q u i r e d between f i v e and seven minutes. 
further 	research 
　　f u r t h e r research w i l l be necessary before the techniques we have described w i l l be able to recognize complete o b j e c t s . 
　　one of the major d e f i c i e n c i e s of our program i s the f a c t t h a t the cross s e c t i o n f i n d e r is so e a s i l y confused by nearby p o i n t s . c o n s i d e r a t i o n of the o u t l i n e s of o b j e c t s and t h e i r p a r t s w i l l g r e a t l y a i d i n t h e s e p a r a t i o n of cross s e c t i o n s . the o u t l i n e s are e a s i l y i n f e r r e d from abrupt depth d i s c o n t i n u i t i e s in an image  corresponding to the ends of segments traced by the l i n e l i n k i n g r o u t i n e s . r. k. nevatia and t. 1. 
b i n f o r d are c u r r e n t l y persuing t h i s approach 1 . 
　　a much more d i f f i c u l t c a p a b i l i t y to implement is 	the a b i l i t y to determine the r e l a t i o n s h i p s of parts of an o b j e c t to each o t h e r . 	this would n e c e s s a r i l y r e q u i r e analysis of surface c o n t i n u i t y between p a r t s   and would probably depend on g l o b a l c h a r a c t e r i s t i c s   	as determined from i t s o u t l i n e . 	based on i t s knowledge of the w o r l d   	such a r o u t i n e should be able to p o s t u l a t e the existence of missing or hidden segments. 	once the r e l a t i o n s h i p of p a r t s to the whole can be determined  	r e c o g n i t i o n can be performed to d i s t i n g u i s h among members of a known class of o b j e c t s . 
　　research on n o n - c i r c u l a r cross s e c t i o n s   separation of o b j e c t s from each other and from the background  and dealing w i t h the d i f f e r e n t kinds of o c c l u s i o n   are also necessary. 
acknowledgements 
　　the authors would l i k e to express t h e i r a p p r e c i a t i o n to dr. a. 	l. 	schawlow f o r the generous loan of a l a s e r   	to v i c t o r scheinman f o r the design and assembly of t h e laser 
d e f l e c t i o n apparatus  to richard underwood for the numerical r o u t i n e s f o r use in curve f i t t i n g   and to bruce g. baumgart  r. k. nevatia  and j. m. tenenbaum f o r t h e i r comments and suggestions. 
