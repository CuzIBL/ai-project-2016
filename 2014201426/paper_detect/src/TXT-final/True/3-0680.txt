
collaborative web search exploits repetition and regularity within the query-space of a community of like-minded individuals in order to improve the quality of search results. in short  search results that have been judged to be relevant for past queries are promoted in response to similar queries that occur in the future. in this paper we present the results of a large-scale evaluation of this approach  in a corporate web search scenario  which shows that significant benefits are available to its users.
1 introduction
collection size  document diversity  and limited searcher expertise all combine to make the web a very challenging information retrieval environment. in 1 the entire worldwide web consisted of just 1 terabytes of information; now it grows by 1 times this figure every single day  roush  1; lyman and varian  1 . moreover  the average search query contains only about 1 query terms  lawrence and giles  1  and the terms used are often poorly chosen  bollmannsdorra and raghavan  1; furnas et al.  1 . these problems have led to rapid developments in the term-based matching approaches at the heart of modern search engines. for the most part this has meant looking for new sources of knowledge with which to guide search. for example  brin & page  brin and page  1  and kleinberg  kleinberg  1  have argued for the need to consider factors such as link-connectivity information  while others have sought to exploit context as a way to disambiguate vague queries  see  lawrence  1  . still others have begun to consider the structure of the query-space as a new source of search knowledge. for example   fitzpatrick and dent  1; glance  1; raghavan and sever  1; wen  1  have all demonstrated how query logs can be mined to identify useful past queries that may help the current searcher.
　in  freyne et al.  1; smyth et al.  1; in press   a novel approach to web search-collaborative web search- was introduced. it combined techniques for exploiting knowledge of the query-space with ideas from social networking

 
　　the support of the enterprise ireland informatics initiative and science foundation ireland is gratefully acknowledged.to develop a web search platform capable of adapting to the needs of  ad-hoc  communities of users. in brief  the queries submitted and the results selected by a community of users are recorded and reused in order to influence the results of future searches for similar queries. results that have been reliably selected for similar queries in the past are promoted. for example  users of an ai-related web site might have a
tendency to select case-based reasoning results in response to vague queries such as 'cbr'  while largely ignoring alternatives such as google's higher-ranking 'central bank of russia' or 'comic book resources' results. in this instance collaborative search will gradually adapt its result-lists to emphasise case-based reasoning results  for searches that originate from such a site  perhaps through a search-box on the site.
　while intuitively appealing  the collaborative web search approach has never been fully evaluated under realistic conditions. previous evaluations have been limited to the use of artificial users  freyne et al.  1  or closed-world search scenarios  smyth et al.  1; in press . in our work we have implemented the collaborative web search technique as a robust and scalable meta search engine architecture and the central contribution of this paper is to evaluate its deployment in a realistic  real-world web search setting involving the employees of a local software company over an extended period of time. while the results indicate that there is indeed a significant benefit accruing from collaborative web search  they also serve to highlight certain issues  in relation to the manner in which promotions are made  that are likely to lead to critical problems over time. we conclude by discussing how these problems have been overcome in our implementation.
1 regularity & repetition in web search
collaborative web search is motivated by regularity and repetition that is assumed to be inherent in web search  especially among the searches of communities of like-minded individuals. it proposes to exploit these regularities when responding to new queries by reusing the result selections from similar past queries. but how commonplace is community-based search  and how regular and repetitive is its query-space 
1 the case for community-based web search
while most searches are conducted through generic search engines  servicing the needs of individuals  many are nevertheless examples of community-based searches. for instance  the use of a google search box on a specialised web site  e.g. a motoring enthusiast's site  means that its searches are likely to be initiated by users with some common  motoring  interest. alternatively  searches originating from a computer laboratory assigned to 1nd year students are likely to share certain characteristics related to their studies  courses  projects etc.  and social lives  college societies  local gigs etc. 
　of course  more formalised examples of community-based search are also possible. the advent of blogging services and social networking services such as friendster and orkut pave the way for a growing number of community-based search applications. while the precise nature of a community's shared interests may not be easy to characterise  they are nevertheless likely to be encoded within the search patterns  queries and result selections  of the community's members.
1	how much repetition 
if many searches can be traced back to ad-hoc communities of searchers  what degree of regularity can be observed  we can begin to answer this question by profiling the degree of term overlap between queries from different communities of searchers. one way to measure query similarity is by the degree of overlap between query terms as in equation 1; for example  sim 'jaguar pictures' 'jaguar photos' =1.
		 1 
　previous analyses of a variety of search engine logs have shown that query repetition is prevalent in specialised search scenarios that are likely to attract communities of like-minded searchers. for example  smyth et al.  in press  report how it is common to find that up to 1% of search queries may share at least 1% of their query terms with other queries'; this drops to 1% for more general search scenarios. later in this paper we describe a major evaluation of collaborative web search involving the employees of a local software company. prior to this evaluation  we performed a similar query analysis over 1 weeks worth of search sessions extracted from the company's internet access logs. our working hypothesis at the time was that these employees would behave as a community of like-minded searchers and that their search queries would exhibit a high degree of similarity  thus motivating collaborative web search.
　the results are presented in figure 1 as the percentage of queries at set similarity thresholds and the average number of similar queries for these different thresholds. the results show that the group of searchers do appear to behave as a community of like-minded users as high degrees of repetition are noted for many similarity thresholds. for example  we see that nearly 1% of queries share at least 1% of their query terms with other queries and that on average each of these queries shares 1% of its terms with about 1 other queries.
1 a review of collaborative web search
the collaborative web search technique is conceived of as a
form of meta-search; see figure 1 for the summary architecture and refer to  freyne et al.  1; smyth et al.  in press 

figure 1: query repetition in the search logs of the community used as part of the evaluation in section 1.
for a more comprehensive technical description. briefly  each new user query  qt  is submitted to a set of underlying search engines and their results are combined to form a meta-search result-list  rm. the novelty of collaborative web search stems from the way that this result-list is processed to produce a new result-list  rt  that reflects the learned preferences of a community of like-minded searchers. it achieves this by recording the selections of searchers. in other words  collaborative search records the fact that a result si has been selected for query qt  and then reuses this information for similar queries in the future  by promoting results that were reliably selected in the past.
1 profiling community preferences
the hit-matrix  h  is a key data structure for collaborative web search. it is a record of the results selected in past search sessions by a specific community of users  and multiple hit matrices can be readily maintained to reflect the separate preferences of many different communities. each time a searcher  from a specific community  selects a result page  pj  that was retrieved for query  qt  the value of htj is incremented. thus  htj represents the number of times that pj has been selected as a result for qt. the row of h that corresponds to qt provides a complete account of the number of all page selections for this query over all search sessions that have used this query. note that no record is maintained of which user selected which result  so in effect the hit matrix serves as an anonymous account of community preferences.
1 reusing similar queries
the similarity between a new query  qt  and a search record  row  in a hit-matrix can be estimated by the term overlap between the new query and the query of the past search record  equation 1 ; see  balfe and smyth  1  for a number of alternative query similarity models. collaborative web search selects those rows from the hit matrix whose corresponding query has a similarity to qt that is above some specified threshold  typically 1 . the pages associated with these

figure 1: the collaborative web search architecture.
records  rows  are called promotion candidates and they are assumed to be potentially relevant to the new target query because they have been relevant for similar queries  and for the same community of searchers  in the past.
1 result relevancy & ranking
consider a page  pj  that is associated with query  qi. the relevance of pj to qi is estimated by the relative number of times that pj has been selected for qi; see equation 1. and the relevance of pj to qt is a combination of relevance pj qi  for all qi's  q1 ... qn  deemed similar to qt  as shown in equation 1. each relevance pj qi  is weighted by sim qi qt  to discount the relevance of results from less similar queries; exists pj qi  = 1 if hij 1= 1 and 1 otherwise.
		 1 
		 1 
this weighted relevance metric is used to rank-order the promotion candidates. these ranked pages are then listed ahead of the remaining meta-search results  which are themselves ranked  according to a standard meta-search scoring metric   to give rt. of course  alternative promotion models can also be envisaged but are omitted here for space reasons.
1 communities and collaboration
obviously this approach assumes that the contents of a given hit-matrix reflect some relatively uniform domain of inter-

figure 1: the i-spy result page for the 'ijcai 1' query.
ests  for a community of like-minded searchers. collaborative web search contemplates the creation of multiple hit-matrices to enable different communities of users to access a search service that is adapted for their query-space and their preferred pages. for example  a large web portal might create different hit-matrices for different portal sections  e.g. news  sports  entertainment  business sections  on the grounds that searchers are more likely to submit queries that are related to the content that is found within this portal section.
1 an example session
collaborative web search has been implemented in the form of the i-spy search engine  http://ispy.ucd.ie . i-spy can be configured to use a range of different search engines as its base-level search engines  including google  teoma  hotbot etc.  and it allows users to use existing search communities or to create new ones via a simple form-based interface.
　figure 1 shows the results of a typical search for the query 'ijcai 1' by a particular i-spy community. the result-list is presented in the main panel  flanked by recent and popular queries and web pages lists; certain sensitive information items have been blanked out in the figure. in this case the top 1 results are shown and the first 1 of these are result promotions; indicated by the 'i-spy eyes' icon next to the promoted result titles. this means that these results have been previously selected for this query or for similar queries. in fact we can see from the 'related queries' lists after the first and third results that these have been previously selected for the similar query 'ijcai'. the results shown are obviously relevant to the target query. the top result is for the main ijcai 1 home page and the third result corresponds to the main ijcai conferences page  for example. however it is also worth noting that the second result is for the forthcoming user modeling conference  um 1. this page has been promoted because it has been selected in the past  for the current query  by members of the current community-these community members have a specific business interest in user modeling technology-but ordinarily this result would not be expected to appear so high in the result list for 'ijcai 1'.
this result is  however  relevant to this query given the community context  especially since um 1 takes place directly before ijcai 1 and in the same city. this type of promotion speaks to the potential power of i-spy to promote results that are uniquely relevant to the specific needs of a community of like-minded searchers results that would ordinarily be lost among the competing results of traditional  generic search engines.
1 live-user evaluation
past evaluations of collaborative web search have included a mixture of artificial-user and live-user studies  smyth et al.  1; freyne et al.  1; smyth et al.  in press . however these studies have been limited; for example  the live-user evaluation studied a narrowly focused  single-shot  questionanswering search task which did not allow for more realistic open-ended search scenarios over an extended period of time. in this section we describe the results of a more realistic trial  which took place over a 1-week period among the 1 staff members of a local software company.
1 preliminaries
the trial began on monday  november 1  1 and the results presented in this paper account for the 1 working-weeks  monday to friday  up to and including december 1. during this time employees were asked to use i-spy as their primary search engine; prior to the trial 1% of search sessions used google. i-spy was configured to draw on google and hotbot as a source of search results and a new community was created for participants with a hit-matrix trained from search log data for the 1 weeks prior to the start of the trial. i-spy's query-similarity threshold was set at 1%  so that only those past sessions that shared more than 1% of their query terms with the current target query would be considered to be similar for the purposes of result promotion  see section 1 . participants were introduced to i-spy via a short explanatory email and encouraged to use it as they would a normal search engine. over the 1 weeks more than 1 queries were submitted and more than 1 result urls were selected.
　figure 1 presents a histogram of the number of search sessions with different numbers of promotions. it shows that 1% of search sessions contained at least 1 promoted result; on average these sessions contained 1 promotions. this speaks to the potential for i-spy's result-promotion technique to usefully influence a significant percentage of searches. the results are in broad agreement with the pre-trial query-overlap analysis described in section 1  which suggested that we could expect up to 1% of new queries to have 1%-similar queries from the past to draw on as a source of promotions  see figure 1 .
1 successful sessions
while the above figures indicate that i-spy is making promotions in roughly half of the search sessions  the real test is whether these promotions turn out to be relevant for the searcher  and whether they are more relevant than nonpromoted results. evaluating the relevance of search results in a trial such as this is difficult to do  at least in a direct fashion. standard search interfaces do not provide a facility to

figure 1: a histogram of the number of search sessions with different numbers of result promotions.
allow users to indicate how well their information needs have been answered by search results  and while it would be possible to add such a facility to i-spy for the purpose of measuring relevance in this trial  many users indicated that they would find this to be a nuisance. for this reason we examine a less direct measure of relevance.
　we propose that the selection of at least one result in a given search session acts as a crude  but nevertheless useful indicator of result-list relevance. we refer to a search session  where at least one result has been selected  as a successful session. if no results are selected  a failed session  then we can be relatively confident that the search engine has not retrieved a result that is obviously relevant to the searcher. note that we do not distinguish here between sessions with different numbers of selected results  mainly because it is not possible to conclude much from the frequency of result selections. for example  one might be tempted to conclude that users selecting more results is a sign of increasing result relevance  except that a similar argument can be made in support of decreasing result relevance  on the basis that the initial selections must not have satisfied the users.
　to analyse the ability of collaborative search to deliver successful sessions  we split the search sessions into those that contained promotions  promoted sessions  and those that did not  standard sessions . the former correspond to sessions where collaborative search has the potential to influence relevance  whereas the latter serve as a pure meta-search benchmark against which to judge this influence. incidentally  there appears to be no difference between the queries for the promoted sessions when compared to those for standard sessions and both sets of queries have almost identical distributions; for example  an average of 1 terms per query for the promoted sessions compared to 1 for the standard sessions was measured. indeed  given enough time it is likely that many of the standard queries would eventually be paired with new similar queries and so participate in future promoted sessions. figure 1 a  presents the average percentage of successful sessions among the promoted and standard sessions and

figure 1: promoted vs. standard sessions:  a  the percentage of successful sessions; and  b  the mean position of selected results among successful sessions.
demonstrates a clear advantage for the promoted sessions. on average  1% of the promoted sessions were successful  compared to 1% for the standard sessions  a difference that is significant at the 1% confidence level. in other words  the collaborative search result-promotion mechanism leads to a 1% relative improvement in the chances that a given search will translate into a successful search session.
1 selection positions
as a complementary measure of result-relevance  it is also interesting to compare the promoted and standard sessions in terms of the average position of selected results within successful sessions; that is  those sessions in which selections have been made. we would like to see relevant results appearing higher up in result-lists. moreover  assuming that users are likely to select results that at least appear to be more relevant than those that do not  then we would like to minimise the mean position of a selected result.
　figure 1 b  presents the mean position of the selected results among the successful sessions of the promoted and standard sessions. this once again shows a clear advantage for the former. on average  the mean position of a selected result among the successful promoted sessions is 1  compared to 1 for the successful standard sessions. this difference is statistically significant at the 1% confidence level and corresponds to a 1% reduction in the position of relevant results for promoted sessions compared to standard sessions.
　it is worth commenting on the importance of this observed difference in the selection positions. while there is an advantage due to the promoted sessions  one might ask whether the observed reduction of one or two places is likely to be important. we believe that it is  for a number of reasons  not the least of which is that results should be ordered by their expected relevance as a matter of course. in addition  users have a tendency to focus their attention on the top-ranked results. the fact that promoted sessions have a higher success rate than the standard sessions is likely due to this difference in the position of apparently relevant results  because for the most part i-spy promotes results from lower-down in the standard result-lists  returned by google and hotbot  to higher positions.
this observed difference may become even more important
in other search scenarios  such as mobile web search  where screen-space is so restricted as to severely limit the number of results that may be presented on a single screen. for instance  on many mobile devices  eg. wap phones   screen-space is so restricted that only 1 results can be presented per screen. the positional advantage enjoyed by i-spy results suggests that it has the potential to ensure that relevant results will appear on the first page of such mobile-search results. in fact 1% of the result selections that occur in the promoted sessions are for results in the top 1 of a result-list  compared to only 1% of the standard session selections. moreover  1% of promoted session selections are for the top result  compared to only 1% of standard session selections.
1 discussion
the results so far indicate that i-spy's collaborative web search has the potential to significantly improve search performance. result promotions are made frequently  and when they are they translate into more successful search sessions and a better ranking for relevant results. in this section we briefly consider the number of promotions made during a session and the likely success of this session. in our analysis to date we have noticed that promoted sessions can contain up to 1 or more promoted results; this may be a problem because too many promotions may swamp result-lists to the detriment of search performance. in addition  sessions with many promoted results are likely to be caused by the reuse of large numbers of past search sessions  some of which may be the result of less reliable query overlaps  which in turn are more likely to contribute results of limited relevance to the target query.
　one solution that we have adopted recently is to provide the searcher with a facility to adjust the level of community personalization that is offered  by manipulating a slider-bar to increase the number of promoted results that are displayed  see figure 1 . we are also considering different resultintegration strategies to allow for a more flexible combination of i-spy relevance and meta-search result scores.
　we are concerned about issues relating to fairness  reliability and security. for example  it should be clear that as it stands  older results will tend to be preferred over newer results; the former will have had a greater opportunity to attract selections. this may cause problems when it comes to the promotion of very recent results. we are currently looking at ways to address this issue  for example by using a suitable decay function to gradually erode the selections of older results. we are also investigating ways to detect false selections by unreliable searchers as a way to defend against the fraudulent activities of self-interested parties; see also  o'mahony et al.  1; smyth et al.  in press .
1 conclusions
collaborative web search is an approach to web search that exploits the natural regularity that exists within the search behaviours of ad-hoc communities of users. it espouses the reuse of search sessions for past queries that are similar to the current target query  resulting in the active promotion of those results that have been preferred by the community in

figure 1: i-spy's promotion slider-bar allows the searcher to manipulate the degree of community personalization.
the past. in effect  this approach offers a form of anonymous personalization  thus protecting the privacy of individuals.
　in this paper we have presented the results of a significant evaluation of the collaborative web search approach in a corporate search environment. the results show the clear benefits that are available: the promotion of results translates into more successful search sessions and relevant results are ranked more highly. the evaluation has also helped to clarify the potential pitfalls of swamping result-lists with too many promotions. we have found that the best benefits arise from between 1 result promotions indicating the need for a mechanism to limit the number of promotions on a session by session basis. in response  we have described how i-spy's interface has been adapted to include a means for searchers to interactively control the number of promotions at search time.
