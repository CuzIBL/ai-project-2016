 
       neomycin it a medical consultation system in which mycin's knowledge base is reorganized and extended for use in gud1n  a teaching program. the new system constitutes a psychological model for doing diagnosis  designed to provide a basis for interpreting student behavior and teaching diagnostic strategy. the model separates out kinds of knowledge that are procedurally embedded in mycin's rules and so inaccessible to the teaching program. the key idea is to represent explicitly and separately: a domain-independent diagnostic strategy in the form of meta-rules  knowledge about the structure of the problem space  causal and data/hypothesis rules  and world facts. 
　　　at a psychological model  neomycin captures the forwarddirected  'compiled association  mode of reasoning that characterizes expert behavior. collection and interpretation of data are focused by the  differential  or working memory of hypotheses moreover  the knowledge base is broadened so that guidon can teach a student when to consider a specific infectious disease and what competing hypotheses to consider  essentially the knowledge a human would need in order to use the mycin consultation system properly. 
introduction 
       in order to use a knowledge base as subject material for teaching  it is important that the kinds of things a student needs to be told be represented flexibly  so that they can be singled out and articulated. development of intelligent tutoring systems such as sophie   why  1  wumpus   and guidon   i i    can be viewed  in part  as a problem of knowledge representation. this research has shown the advantages of: 
　　　　- multiple 	representations 	of 	knowledge 	 e.g.  	the simulation model and semantic network in sophie   
　　　　- representations that can be both interpreted and used to generate teaching text  e.g.  brown'* meteorological automata  and production rules used in wumpus and guidon   
　　　　- network representations of knowledge that capture  importance   scholar     complexity  or  pre-requisite  associations  wumpus. bip     analogy  and  generalization  relations  wumpus   
　　　　- and representations that allow for variants on expert performance  for modelling the student   west   buggy  . 
       in the guidon program we have been exploring the problem of using mycin's rule set as teaching material. mycin  is a rule-based expert system that provides therapy advice for certain kinds of infectious diseases. it has spawned a class of systems  called  emycin systems   which all use the same production rule language and interpreter  1} guidon can operate using the rule set of $ny emycin system as subject material. 
　　　mycin's rules were thought to be potentially useful for teaching because: 1  formal evaluations indicate that it captures a 
　this research has been supported in part by arpa and onr contract nooo1c-1. computational resources were provided by the sumex-aim facility  nih grant rr 1 . 
high level nf expertise   and 1  modular design and representational met a-knowledge enable the program to explain its reasoning . ironically  we have found that it it in precisely these two areas-expertise and explanatory capability-to important for a successful teaching program  that mycin falls short. to solve these problems  we have implemented a new system we call neomycin. 
a. the limitations of mycin for application to teaching 
first  mycin is designed to be used as a consultant  its 
knowledge is too narrow to be used for teaching a student to be a primary diagnostician. the knowledge base is designed to interpret culture results from the blood and the cerebral-spinal fluid. but what expertise suggests that such a culture should be taken  what knowledge does a human draw upon for focusing on bacteremia or meningitis  and what competing hypotheses  and medical tests  need to be considered before mycin should even be used  this 
knowledge is certainly a critical part of leaching infectious disease diagnosis  but mycin knows nothing about it. 
       second  protocols of experts solving the same cases presented to mycin indicate that the program does not organize or use its knowledge the way a human expert does. this result is not surprising  for it is consistent with a half-decade of psychological research into medical problem-solving    1        . if guidon  our tutorial program  is to articulate and recognize the hierarchical organizations of knowledge and search strategies that humans find useful  we need to reorganize mycin's rule set and incorporate en explicit model of diagnostic thinking. in particular  the model must exhibit: focused  forward-directed use of data} trigger associations that suggest new hypotheses  follow-up questions that establish the disease process   picture of the patient h and management of a changing  working memory   hereafter   differential   of hypotheses undar consideration. to this extent  the development of neomycin is an attempt to synthesize previous research  and to analyze its application to our infectious disease problem domain. 
1 pevejoprng a  psychological model fry modifying emycin 
　　　a psychological model of diagnostic thinking cannot be represented using the emycin representation alone  that is  by simply rewriting mycin's rules. instead  the representation and interpreter must be augmented and the rules organized by multiple  orthogonal structures. 
　　　for example  a simple interpreter change is to allow incoming data to cause new subgoals to be setup and pursued. consider the trigger entecedent rule  if the patient has a stiff neck and a headache  then consider meningitis. b*when a physician hears that the patient has a stiff neck  the association to meningitis might come to mind  prompting him to determine if the patient has a headache as well. to bring about this effect in neomycin  a new type of antecedent rule had to be allowed  and a local change made to the emycin control structure. 
　　　besides interpreter changes  different kinds of knowledge had to be separated out of the rules and represented explicitly. fig. 1 shows e typical  paraphrased  mycin rule in which different kindt of knowledge ere procedurally embedded. 
medical examples in this paper are simplified  we make no 
claims about completeness or accuracy. they are for purposes of illustration only. 
if: 1  the infection is meningitis 
1  the subtype of meningitis is bacterial 
1  only circumstantial evidence it available 
1  the patient is at least 1 years old 
1  the patient is an alcoholic 
then: there is sussestive evioence that diolococcuspneumoniae is an organism causing the meningitis. 
figure 1. typical mycin rule 
　　　this rule is an example of  compiled expertise.  we can list come of the individual steps of reasoning and knowledge sources out of which it is composed  unknown to mycin  but explicitly represented in neomvcin: 
　　　　- analysis of other rules shows that this rule  to determine the organism  is only invoked after it has been established that the patient has an infection. thus  four major subgoals are established in this order: is there an infection  is it meningitis  is it bacterial  is it diplococcus-pneumoniae  each of these subgoals hypothesizes a more specific cause of disease. thus  the ordering of clauses constitutes ′ top-down refinement strategy. however  mycin does not know about this specialization hierarchy. it does not even know that diplococcus-pneumoniae is a bacterium. perhaps most serious of all for meeting our teaching goals  mycin omits intermediate categories such as acute/chronic meningitis and  gram negative meningitis  that physicians find helpful. in neomycin these categories are represented explicitly in en etiological taxonomy by allowing parameters to be specializations 
of one another. 
　　　　- the clause about the patient's age prevents mycin from esking if a child is an alcoholic. mycin does not know that the ordering of these clauses is important  or what the relationship is. 
in neomycin these world relations are captured by separate  screening  rules. 
　　　　- when there is laboratory evidence  a culture with visible organisms   this rule does not apply  clause 1  however  a companion rule still allows the circumstantial evidence of alcoholism to be considered  but gives it less weight. this principle of considering circumstantial evidence even when there are hard  physical observations of the cause  is not explicitly known to mycin. the principle is compiled identically into 1 pairs of rules  rather then being stated as a reasoning rule for combining hard and soft evidence. neomycin has rules for reasoning about the evidence it hes collected  so connections between data and hypotheses are separate from the contexts in which they will be used. 
　　　these forms of knowledge-a  top-down  strategy  an etiological taxonomy  world facts  evidence weighing rules-form a basis for a psychological model about knowledge organization and access  but they are not sufficient. consider the above rule again. how does a physician remember to ask about alcoholism  how does he remember the connection with diplococcus  experts use a rich 
c. a realistic problem-solver needs focusing strategies 
       as we mentioned above  we can't use mycin for teaching about diagnosis because the range of problems it knows about is not realistically wide enough. but if we simply added knowledge about more diseases and when to order laboratory tests we would be in trouble: a top-down diagnostic strategy is inadequate for a broader range of problems. the combinatorics of the medical diagnosis search problem make it impossible for an expert to consider every infection  to work top-down. initial information most commonly brings the physician into the middle of his taxonomic hierarchy  via the  compiled associations  such as the trigger rule given above . working from the middle  the physician must first look upwards to focus the possibilities  is it a traumatic process  cancer   and then refine downwards. the approach used by mycin's rules only works because the user of the program is the one who focuses on meningitis. mycin can verify that the historical and laboratory evidence is consistent with meningitis  but it doesn't have the knowledge for considering it in the first place. the program has only two infections to consider and does not know about other causes of the findings reported by the user. 
       for the program itself to shoulder this focusing burden  so that guidon can teach it to a student   we should more properly think of its area of expertise as being related to the observations a user will bring to it  rather than the problems it knows how to confirm and refine. thus  mycin's area of expertise is  meningitis   in contrast  neomycin deals with  abnormal neurological signs  or  headache and fever.  in order to give neomycin the capability to deal with a broader range of problems  to actually have it think of other causes of headache and fever  we: 1  expanded the etiological knowledge to include broad categories of other  non-infectious problems  such as  toxic problem    neoplastic problem   1  incorporated the focusing strategy of  group and differentiate  so the program could manage this broader range of possibilities; and 1  to enhance the program's ability to apply this strategy we added knowledge about disease processes  knowledge that cuts orthogonally across the etiological taxonomy. 
ii am overview of neomycin 
       a few words about the character of mycin's problem domain are in order. we assume that a diagnosis or problem solution consists of an ordered list of problem causes that have been selected from a fixed  hierarchical space of hypotheses  e.g.   cancer process    chronic meningitis   or state categories  e.g.   mass lesion in the brain  . we assume that an informant presents a problem to the program  which acts as a consultant  the role played by a student using guidon. there are two types of data: soft data  circumstantial or historical  and hard data  laboratory or direct measurements . some of the evidence may be missing  and conclusions will usually be uncertain. 
　　　a schematic of the neomycin system  fig. 1  illustrates the various knowledge sources and their relation to the strategic knowledge and differential. these components are shown as icons expanded in subsequent figures. the interpretation of fig. 1 follows. 

set of organizational aids and mnemonics for accessing their knowledge. 
       for example  one can think of  taking the patient's history  as e process of  determining the differential of possible causes.  under this strategy  the expert follows the principle  rule model  that  compromised host conditions broaden the differential by suggesting special causes.  alcoholism is one of these conditions. the essociation to diplococcus might be remembered as a simple causal story: alcoholics breathe in their own secretions  so organisms found in the mouth find their way to the lungs  causing pneumonia. neomycin incorporates these psychological aids: 1  a representation of diagnostic strategy that provides a meaningful  useful orientation for collecting data   attempt to broaden the differential  ! 1  structural associations for indexing evidence to consider  abstractions such as  compromised host conditions  and rule models that use them ; and 1  rule justifications that relate date/hypothesis associations to underlying causal processes. 
1 

and 


1 

　　　　a cancer patient l′ at tome risk of getting cryptococcsl meningitis. bather than asking directly if the patient has cancer  the program models an expert's efficient casting of a wider net by asking a more general question. specifically  there era  screening rules   that lead it to determine first if the patient is immunosuppressed  rule1  and then compromised  rule1 . this is the only form of backward chaining that occurs in neomycin. task metarule 1 succeeded. 
- 	findout: leukemia 
-- findout: immunosuppressed 
trying rule1/patlent-1i 
1  is j.smith a compromised host  at alcoholic  tickle-cell-disease  immunosuppressed   
 * yes 
rule1 failed due to clause 1 
if the patient were not compromised  the program could have concluded that he is not immunosuppressed  rule1 . now it is unsure and must ask directly. if the patient is not immunosuppressed  the program will know that he doea not have leukemia  rulo1 . the answer of  leukemia  below implies  immunosuppressed   so rute1 falls  and the original goal is determined. 
- 1j finished: immunosuppressed 
1  la j.tmith immunosuppressed  e.g. corticosteroid therapy  cytotoxic drug therapy  radiation therapy  leukemia   
** leukemia 
i will assume that leukemia is one of the diagnoses of jjmith 
rule1 failed due to clause 1 
- finished: leukemia 
trying evidence rules: leukemia -  crypt1ccus trying rule1/patient-1; rule1 succeeded. 
conclude: fungal-meningitis is crypt1ccus  .1  
repeating ear loop: focus - crypt1ccus task metarule1 succeeded. 
attention turns to a sibling. agsln  the  ensbllng step  is asked about first.... 
enter ph loop: focus   coccidioides task metarules 1 succeeded. 
1  has the patient ever been to a cocci-endemic area  
 * no 
trying evidence rules: cocci-endemic -  coccidioides 
rule1 failed due to clause 1 
rule1 failed due to clause 1 observed stop-pursuing metarule1 
repeating ear loop: focus - coccidioides 
repeating ehs loop: focus - coccidioides teak metarule1 succeeded. 
having exhausted its limited knowledge  the program finds no other relevant  hypothesis-oriented questions to ask. several general questions are asked... 
1  it j.smith receiving any medications  
  * n 1 
repeating ehs loop: focus - coccidioides teak rule1 succeeded. 
1  hat j.smith been recently hospitaliied  
  no 
repeating ehs loop: focus - coccidioides 
if additional data had been supplied  new hypotheses might have been placed on the differential and strstegles for grouping or refining might have been called into play once again. this ends the history-taking process. next the program would order laboratory tests  process them  and perhaps return to gathering circumstantial evidence. 
iv the diagnostic meta-strategy 
       formalizing the diagnostic strategy from protocol analysis was the most difficult part of designing neomycin fig. 1 shows the general outline of the meta-strategy. each non-terminal node in the tree stands for a task that is achieved by a set of rules. an important aspect of our model of diagnosis is that the process can be taught as a task-posing activity: the problem-solver thinks in terms of what he is trying to do  e.g.  to consider unusual causes and so broaden the differential  in order to bring knowledge sources to mind. thus  the meta-strategy is structured so the tasks make sense as things that experts try to do. 

       fig. 1 shows that the main object of the meta-strategy it to decide what data to collect next  invoke mycin's findout routine   generally by focusing on some hypothesis in the differential. aside from collecting initial information  the basic idea is that collecting circumstantial evidence is a process of establishing the hypothesis space. this process takes the form of considering what could cause the reported data  grouping and refining the differential  and asking general questions '. a great deal of what we might call heuristic confidence is placed in the general questions  which constitute the 
          group and differentiate  is used here in the loose sense of establishing general focus on a process that is consistent with hypotheses suggested independently by the data. clustering  in multiple ways  end discriminating  the usual meaning of the term  it one operation for achieving this focus. 

parameters 	or 	state-cetegory 
peremeterg. 	state-category 	parameters 	stand 	for pathophysiological states or categories of disease  e.g.  a mass lesion in the brain . we are investigating tha possibility of using pople's  planning links   to mora precisely distinguish between causal and subtype links' . causal rules are used by the  explore end refine  task to work backwards from state-category hypotheses 
in the differential to prior causae  and ultimately to diagnostic so called because they indirectly control the invocation of the domain-dependent object rules. davis' conception of mete-rules hypotheses in the etiological taxonomy  as shown in fig. 1x 
was that they would directly order object-level rules. however  in our theory of diagnostic strategy  mate-rules reason about the state of the differential and knowledge sources  kinds of evidence  that could change it in desirable ways. thus  our mate-rules choose kinds of object rules  hypothesis-confirming  process-oriented  
causal . 
＊＊ 
　　　　while we might say that an unknown mass lesion  a spaceoccupying substance  is caused by a tumor  it is more proper to 
represent a tumor as a kind of maas lesion. 
1 

       disease process knowledge is represented as a frame associated with certain taxonomic perameters. slots ere process descriptors such as  extent    location   end  course   associated with a literal value and a pointer to the parameter to establish it. for example  associated with brain abscess is the triple  extent focal focalsigns   meaning that the extent of the disease is focal end this can be determined by asking about  focal signs.  disease process knowledge is orthogonal to the etiological taxonomy  making it useful for grouping and discriminating hypotheses  see typescript before question 1 . 
vi related research 
　　　besides the icai projects cited in the introduction  our work has been motivated by previous research in teaching problemsolving strategies  e.g.     . we believe neomycin is the first attempt to formalize a runnable psychological model of diagnostic strategy which can be presented to a student. as should be obvious from our representations  a considerable debt is owed to the medical problem-solving literature  cited above. 
       both reggie  and atkins  t  modified the mycin system to make it more acceptable to physicians  particularly to improve knowledge acquisition. aikins use of an etiological taxonomy and trigger rules  derived from rubin's work  is particularly close to our approach. however  we go a step further by representing strategical knowledge separately in domain-independent form. our teaching application has also made clear the importance of disease process knowledge for broadening the diagnostic range of a consultation program. 
　　　other research in cognitive psychology has been helpful to us  particularly studies at the learning research development center      in modelling the differences between experts end novices in geometry and physics problem solving. to some extent  our attempt to  decompile  mycins knowledge is the inverse of anderson's task of modelling how a novice composes and generalizes knowledge from experience. 
vii some limitation 
　　　pople's experience has been useful to point out limitations in our design. he shows that a simplistic causal network is not adequate when an attempt is made to represent all of general internal medicine . for example  when the causal connections between data and the taxonomy are long and complex  it may not be also   lesson 1  we need to represent the various kinds of knowledge explicitly so that they can be accessible for teaching. our method is to represent strategical knowledge in domain independent form  wholly separate from the medical knowledge described above. this requires that the medical knowledge be organized so that it can be indexed by the strategies  e.g.  as the disease process frame links abstract features to data points . 
　　　in a sense  we have re-discovered the procedural/declarative problem  as have other cognitive psychologists  e-g.  anderson  rumelhart  . we allow for the fact that the expert has composed associations  so he does not think about the justifications of data/hypothesis links  and he makes wide tentative jumps to bridge concepts.  however  we represent these compiled 
essociations declaratively for flexible use  and redundantly store intermediate steps  as text  to allow for explanation of reasoning. 
ix future research 
       development of neomycin and guidon will proceed in parallel. we intend to compare neomycin's performance to mycin to determine if our more principled representation has changed the performance of the system. this is a possibility because we have simplified some rules so they represent more closely the associations a human expert normally remembers. preliminary runs give comparable results  though neomycin asks fewer questions because of its focused approach. we also intend to use our new representation for a computer failure diagnosis consultant  to test the domain-independence of our model. 
       guid1  a new version of guidon  will use the neomycin representation  making it possible to articulate diagnostic strategy. a new phase of development will begin as we try to use the diagnostic strategies  end variants of them  for interpreting student behavior  leading to capabilities to evaluate partial solutions and provide assistance. the first version of guidon attempted these things  but was not able to recognize or suggest psychologically valid approaches. 
acknowledgements 
　　　we are especially grateful to dr. timothy beckett  md  for his patient explanations  and willingness to be directed in our discussions. bruce buchanan and bob london have also contributed to the guidon project. 

feasible to follow each path  possible cause . mis  bridge concepts   similar to fellovich's  logical competitor sets    are attempts to model how an expert jumps over to distal  tentative hypotheses. they essentially provide a quick way to find the intersection of causes for a set of disease symptoms. 
       similarly  rubin's thesis illustrates a number of strategies for combining hypotheses  for example  relating complications and causes  that we have not yet found to be important in mycin's domain. to this extent  our model is not the complete story of human diagnostic reasoning  but it can be built on as we expand our experience into other domains. we do not yet understand how en expert organizes his differential; how context is saved and restored from interrupts; how urgency  cost  and human values factor into the diagnostic process  and so on. 
viii summary of what we learned 
　　　in order to teach diagnosis we need a psychological model of problem-solving. in particular   lesson 1  we need to incorporate into our model the medical knowledge and strategies an expert uses for initial problem formulation. an expert thinks in terms of a hierarchy of causes and the process characteristics of a disease so that he can order the data and his search. moreover  an expert has learned  compiled associations  that allow him to efficiently i  associate hypotheses with data  trigger rules  pople's bridge concepts   and 1  cast a wide net of questions  general  screening  end follow-up  pinning-down  questions . 
1 

