plan recognition 
using a hypothesize and revise paradigm: an example 
	charles f. 	schmidt and n.s. 	s r i d h a r a n 
departments of psychology and computer 	science 
rutgers u n i v e r s i t y   new brunswick  nj 1 
　　　
　　　a great deal of research has focused on the problem of how to generate a plan that s a t i f i e s a given goal   1   . the problem of plan recognition is to take as input the sequence of actions performed by an actor and to identify the goal pursued by the actor and also to organize the action sequence in terms of a plan structure. this plan structure e x p l i c i t l y describes the goal-subgoal relations among i t s component units. our concern with plan recognition has arisen from our research  1 1  in the development of a theory of how persons understand the observed actions of others. a variety of experiments  have demonstrated that the summary as well as the recall protocols of an action sequence can be predicted if it is assumed that the observer is actively reconstructing from the observations the plan or plans that the actor is executing. 
　　　the psychological theory of plan recognition  believer  consists of a set of knowledge structur es and processes defined within the aimds system  1 . the specification of the knowledge sources for the believer model arose from considerations of the properties of the problem domain and do not rest on any particular psychological assumptions about properties of the human information processing system. for example  the observed sequence of actions that serve as input to a plan recognition system do not provide information that i d e n t i f i e s which of the set of outcomes associated wxth an action sequence corresponds to the goal or goals of the actor. in f a c t   the actor's plan may have failed or been abandoned or interrupted in which case the goal outcome would not be represented at a l l in the action sequence. if cases such as these are to be recognized  then a plan recognition process must be capable of counter factual reasoning that shows how a hypothesized goal could have been achieved had some aspect of the physical world been otherwise. further  actions are l i n e a r l y ordered and unbounded in time. plans are bounded  h i e r a r c h i c a l   and nonlinearly ordered based on the logical connection between an enduring outcome of one action and the precondition of some subsequent action. further  a plan is well-formed with reference to the planner's beliefs about the world rather than with respect to the actual state of the world. for these and similar reasons  we have argued that any process of plan recognition must use meta-knowledge about plans and the psychological constraints which define a well-formed plan. knowledge of only the physical constraints on action does not provide s u f f i c i e n t information to recognize plans   1   . 
　　　in this paper we present  by means of an example  those aspects of a plan recognition process that have been implemented in believer. the properties of this process have been motivated primarily by our desire to incorporate within this process certain psychological assumptions about characteristics of the human plan recognition process. the two major assumptions are that the human process i s :  1  a general non-specialized process; and  1  is based on a hypothesize and revise strategy. the remainder of this paper is concerned with conveying the meaning of these labels. however  it w i l l be useful to f i r s t explicate these ideas in an informal way. 
p r o b l e m - s o l v i n g : 	schmidt 　　　because of interest in application or for methodological reasons  much of the recent work in ai has been concerned wxth the representation of expert knowledge within a r e l a t i v e l y narrow domain. chess  restaurants  flush t o i l e t s and particular electronic c i r c u i t s are well-known examples of this approach. an expert's knowledge i s   by d e f i n i t i o n   highly specialized and customized to a particular domain. this has led researchers to encode this knowledge in s i m i l a r l y specialized and customized forms which are often generically referred to as scripts  1 . the use of s c r i p t - l i k e knowledge is an important aspect of the human information processing c a p a b i l i t y . 
however  v e r y few of us are expert in e v e r y t h i n g and none of us are born t h a t way. s p e c i a l i z e d   customized knowledge must be a c q u i r e d using q u i t e general and schematic knowledge   1     a c c o r d i n g l y   the system we have designed and implemented uses m u l t i p l e communicating knowledge sources to customize and s p e c i a l i z e the general knowledge about a c t s and plans to s p e c i f i c o b s e r v a t i o n a l i n p u t . 
reduced 	to 	v a r i o u s 	types of matching drocesses. 
       the requirements d e r i v e d from the c u r r e n t es are l o g i c a l requirements t h a t must be met if the a c t i o n s are to be i n t e r p r e t e d using t h a t p a r t i c u l a r es. consequently  a mismatch s i g n a l s the v i o l a t i o n of an e x p e c t a t i o n and i n d i c a t e s t h a t the es must be r e v i s e d . after p r e s e n t i n g the o p e r a t i n o f t h i s 
　　　
　　　the knowledge needed by a process of plan recognition has been decomposed into three major knowledge sources. these knowledge sources together with some of the major lines of communication between them arc shown in figure 1. in this figure the knowledge sources are referred to as the person  plan  and world domains. each knowledge domain defines the concepts  relations  and logical dependencies oetween concepts that govern the representation of particular instances of objects within that domain. the boxes labeled person model  pm    expectation structure  eg   and world 
model  wm  graphically represent the d i f f e r e n t contexts within which particular assertions are maintained. the wm consists of the assertions that the system believes to be true of the current physical s i t u a t i o n . this set of assertions is constantly changing and being updated as a new description of an observed action is input to the system. in figure 1 the beginning of such an input stream is shown and referred to as input action sequence. the pm contains assertions about what the sytem believes the actor believes  wants  and l i k e s   etc. 
　　　the es represents the plan structure that the system currently believes the actor is executing. this a t t r i b u t i o n of a plan to the actor requires that:  1  the incoming act sequence match the p a r t i a l order of the plan structure;  1  the actor have certain beliefs and wants  the person model requirements ; and  1  that certain assertions about the physical world be true  the world model requirements . we w i l l show that by defining the es appropriately and using this knowledge decomposition  the es can be used by the plan recognition process to compute the pm and wm requirements. further  by matching the plan units of the es to the incoming actions the schema variables of the es can be bound and used to further customize and specialize the es to the observatinal context. in this way the basic process of plan recognition is 
basic matching orocess we w i l l show how the r e s u l t s of t h i s mismatch can be used to t r i g g e r and guide a s t r a t e g y of es r e v i s i o n . this hypothesize and r e v i s e s t r a t e g y is congruent w i t h our goal of using knowledge s t a t e d at a general l e v e l in plan r e c o g n i t i o n . the r e v i s i o n r u l e s are anchored on classes of mismatches between es requirements and the o b s e r v a t i o n s . consequently  we have been able to avoid anchoring these r e v i s i o n r u l e s to p a r t i c u l a r es s t r u c t u r e s . 
       this hypothesize and r e v i s e s t r a t e g y is f u r t h e r m o t i v a t e d by our assumption that human observers do not use a s t r a t e g y of h e u r i s t i c search to explore a l a r g e space of p o s s i b l e i n t e r p r e t a t i o n s of a sequence of a c t i o n s . rather the observer is assumed to e x p l o r e o n l y a few  u s u a l l y only one  hypotheses at a t i m e . this hypothesis is adapted to the r e a l i t i e s of the o b s e r v a t i o n s by a process of refinement and r e v i s i o n . this s t r a t e g y does not i n s u r e c o r r e c t n e s s nor completeness. however  t h i s is not our g o a l . rather  we hope t h a t t h i s s t r a t e g y w i l l a l l o w u s t o p r e d i c t the c o n d i t i o n s under which the human observer w i l l succeed o r f a i l i n the task of plan r e c o g n i t i o n . 
the 	process of 	i n t e r p r e t a t i o n 

       the process we d e f i n e below takes a sequence of act d e s c r i p t i o n s and by r e - r e p r e s e n t m g them as plan u n i t s   produces a plan s t r u c t u r e t h a t is supported by and is c o n s i s t e n t w i t h the world model and the person model. 
hypothesize and 	revise 
       the three main steps of the process a r e :  1   setupes  an appropriate es is set up and t h i s es is customized for use in the current context. the es may be simply summoned from memory  constructed by a plan generator from knowing the goal of the planner  or may be p o s t d i c t i v e l y assembled unit by unit from the incoming observations.  1   actinput  
problem-solving-1 	: 	schmidt 
1 the input act description 	is 	used 	to 
update the world mode 1 and is then matched a g a i n s t an expec ted p l a n u n i t in the es. a proper match produces b i n d i n g s for the v a r i a b l es i n the e1 thus making the f u r t h er e x p e c t a t i o n s more s p e c i f i c . the de t a i l s o f t h i s e x p e c t a t i o n guided match ing process are r epor ted in   1   .  1   revise  c o n f l i c t s t h a t a r i s e between the e x p e c t a t i o n s and observ a t i o n s t r i g g e r r u l e s for h y p o t h e s i s rev l s i o n . the s t r u c t u r e of es schemata 
are s a t i s f i e d in both these models  the i n o r d e r t o p r o p s are checked. i f the p r o p o s i t i o n mentioned in an i n o r d e r t o p r o p s was in f a c t accomolished by an e a r l i e r p l a n but is no longer t r u e then the assumption of   i n o r d e r t o   between the two plans is not s u p p o r t a b l e . 
　　　the diagnosis and analysis of the currently attributed plan is performed by a decision tree  using information maintained in a structure 
　　　
　　　the es consists of a number of plan units with specified  morderto  relations among them which constitutes a p a r t i a l order. the starting plan units and the f i n a l unit are i d e n t i f i e d . the goal of the f i n a l unit is also the goal assigned to the es. the set of t r i p l e s  pi s 1  called the 
 inordertoprops  is formed from those plans pi and p1 such that the goal proposition s of pi is among the preconditions of p1. for this it should also be the case that no other plan unit occuring in between p1 and p1 undoes the proposition s. the  modelrequirements  are pairs  s p  with propositions s  which are opportunities for a plan unit p in the es  such that there is no other plan 1 set up to accomplish s. each such proposition is required to be satisfied in the i n i t i a l world model. 
　　　monitoring these propositions aids the interpretation process in developing further expectations and j.n the recognition of c o n f l i c t s and failed plans. as input actions are matched against expected plan u n i t s   they are shiftea into the hypothesis set h  to designate that they are supported by observations and are no longer  expected  to occur. this d i s t i n c t i o n between 1 and e is represented graphically in figure 1 where those units in h are linked to input actions that have been taken up by the system. as a plan unit is shifted from the set e to the set h  other members of e are considered to be  next expected  plan units. a next expected member has i t s modelrequirements checked against the world model. if such a modelrequirement proposition is true in the person model and false in the world model  then this plan unit is flagged as  expected to f a i l   . if a modelrequirement proposition is false in both the person model and world model  then a plan to accomplish the proposition is generated and inserted into the es. if the modelrequirements called interpretation . each terminal node of this decision tree c a l l s for a corresponding revision rule. the revision rules perform actions that could range from accommodating the next observed action as being optional  or including it as part of the present plan  or generating and inserting plans to accomplish f a i l e d modelrequirements  or claiming that the planner failed in successfully carrying out his plan  or as drastic as abandoning the current assumptions and developing a different plan structure using whatever information can be meaningfully carried over from the present plan structure. we i l l u s t r a t e below the actions of the three components of the hypothesize-revise procedure. 
example of d a sic match process and conflict resolution 

　　　an example expectation structure is presented below using krl-like  conventions. the notation  refer: v  introduces a variable name and a l l subsequent uses of the variable designate the same e n t i t y . this es is constructed by setupes from eight plan units that use variables to make 