 
for probabilistic reasoning  one often needs to sample from a combinatorial space. for example  one may need to sample uniformly from the space of all satisfying assignments. can state-of-the-art search procedures for sat be used to sample effectively from the space of all solutions  and  if so  how uniformly do they sample  our initial results find that on the positive side  one can find all solutions to a given instance. nevertheless  sampling can be highly biased. this research provides a starting point for the development of more balanced procedures. 
1 	introduction 
there has been much recent progress in the area of algorithms for solving boolean satisfiability problems. current methods can handle problem instances with up to a million variables. the emphasis in this work has been on the decision version of the satisfiability problem. a problem instance is either shown satisfiable by producing a satisfiable assignment or by proving that no such solution exists. a natural extension of this problem  for the satisfiable case  is to consider whether one can sample from the set of all satisfying assignments. an effective sampling procedure would be of use in a large range of probabilistic reasoning tasks. in the worst-case  the sampling problem is even harder than the satisfiability problem  roth  1 . however  this leaves open the question how of hard it is to sample solutions from practical problem instances. in particular  can state-of-the-art random walk style procedures for sat  such as walksat  selman et al.  1   be used to sample from the space of satisfying assignments  
　we investigated this question  and our key findings are as follows. on reasonable size problem instances  the walksat procedure does reach all satisfying assignments. however  the sampling can be highly non-uniform  several orders of magnitude in the probability of reaching solutions . quite unexpectedly  we found that sampling on our structured problem instance is much more uniform than on our hard random problem instance. this shows that  in a sense  the search on a random problem instance is more complex. we also considered the question of how to improve the uniformity of our sampling approach. our results show  again somewhat surprisingly  that coverage does not become more uniform with more noise injected in the random walk.  of course  the effectiveness of finding solutions degrades  but apparently  this degradation is proportional for all solutions.  
　because of space limitations  we present only some of our key data. we hope this work will lead to a better understanding of random walk style procedures for sampling solutions  including possible ways for getting more uniform sampling. 
our work should be contrasted with the more standard 
markov chain monte carlo  mcmc  approaches  such as simulated annealing  sa . for mcmc methods  one can show that the underlying markov chain eventually reaches an equilibrium distribution  although this can take exponential time . unfortunately  formal guarantees are of little practical value. for example  even for finding a single satisfiable assignment  sa has been shown to be orders of magnitude slower than walksat  selman et al.  1   even ignoring the issue of whether sa reaches the stationary distribution . the new class of local search methods for sat are based on ideas from biased random walks. these methods are designed to reach some solution as quickly as possible. such strategies have proven to be quite effective  but they inherently exploit the fact that they operate far away from equilibrium. nevertheless  as our results show  they can reach all solutions on non-trivial problem instances. moreover  our work may suggest ways of making the sampling more uniform  possibly leading to a new more powerful class of sampling methods. 
1 	sampling experiments 
we consider a hard random 1-sat instance and a more structured problem from a planning application. in order to generate a random 1-sat instance  we first created 1 uniform random 1-sat instances  with 1 variables and 1 clauses. we chose an instance with 1 solutions for our detailed 
table 1: summary statistics from coverage experiments 

* research supported in part by afosr  darpa  and nsf 
1 	poster papers 


figure 1: frequency of finding a specific soln. vs. the median number of flips to find this solution for a 1-sat problem. 

figure 1: frequency of finding a specific soln. vs. the median number of flips to find this solution for a logistic problem. 
experiments.  relsat  bayardo and pehoushek 1  was used to systematically generate all solutions.  for the logistics planning formula  we started with logistics.d. cnf available from satlib with over loelo solutions. to facilatate solution set sampling experiments  we added 1 unit clauses  constraining the instance to 1 solutions. 
　for the 1-sat and logistic instances  we performed 1 and lc1 runs of walksat  respectively. all of these runs successfully found a solution  and walksat ultimately found every solution for both instances. summary statistics for these experiments are available in table 1. 
　figures 1 and 1 display the relationship between  solution frequency   how often a particular solution is reached  and  speed   the median number of flips to reach that solution . each point represents a unique solution. the figure further confirms the results from table 1: walksats solution sampling can be highly non-uniform. notice the scale on the y-axis. for the random instance we see a range over 1 orders of magnitude. for the logistic problem  we see that the solution sampling is also biased  albeit much less than on the 1-sat problem. the figure also indicates that on the 1-sat problem  rare solutions are typically found with fewer flips than common solutions. no such relation is evident for the logistic problem in figure 1b. 
1 	solution space structure 
in this section  we attempt to gain insight into the structure of the solution space by analyzing hamming distances between solutions. for both the logistics and 1-sat problems  we computed the hamming distance between all solutions. thus  we generated 1 n1  distances per problem  where n is the number of problem solutions. 
　figures 1a and b show histograms of these distances for the 1-sat and logistics problem  respectively. the 1-sat hamming distance distribution is trimodal  while the logistics problem gives a unimodal distribution. these distributions suggest that the 1-sat instance's solution space has multiple clusters of solutions  while the logistic problem's solution space has only a single cluster of solutions. 
　of course  it is inherently difficult to analyze structure within these 1+ dimension solution spaces  and many other underlying structures could explain the results seen in figure 1. nevertheless  we believe that these figures are highly suggestive. 
1 	obtaining more uniform coverage 
in the previous experiment with the 1-sat instance  we observed that rare solutions are generally found with fewer flips than common solutions. intuitively  one needs to start relatively close to such a rare solution to find it. following up on this observation  we decreased the cutoff value  number of flips until restart  for walksat. as shown in figure 1a  our experiments indicate that a lower cutoff indeed makes the sampling more uniform on the 1-sat instance. unfortunately  as a side effect  the median number of flips to reach a solution goes up. thus  there appears to be a tradeoff between speed and uniformity on the 1-sat instance. note that theoretically  a cutoff of 1  no flips  gives us purely uniform sampling. however  such a strategy is clearly infeasible for any instance of practical interest.  a cutoff below 1 makes it practically infeasible to find all solutions for our random problem instance.  varying the cutoff used for the logistic problem did not have an observable effect on uniformity of sampling  as expected. 
　intuitively  increasing walksats noise level would lead to a less greedy and more  erratic  search. it would therefore be reasonable to expect more uniform sampling of solutions. quite surprisingly however  as shown in figure 1b  the frequency of the most common and the rarest solution is hardly affected by the noise level. this unexpected finding requires further study. it also means that we need to develop other ways to improve walksats sampling. we obtained similar results for the logistic problem  which are not shown due to space constraints. 

poster papers 	1 


figure 1: hamming distances between all solutions for a  a  1-sat and  b  logistics problem 

figure 1: uniformity of sampling for a 1-sat problem:  a  soln. frequency vs. cutoff  b  soln. frequency vs. noise 
1 	summary 
1. walksat is able to find all solutions for the 1-sat and constrained logistic problem  within a reasonable number of trials. 
1. solution sampling can be highly non-uniform  particularly for the 1-sat problem. 
1. the 1-sat instances appear to have a more complicated solution space than the logistic problem. 
1. increasing walksats noise does not appear to increase the solution sampling uniformity  while it degrades walksats speed. 
1. challenge: devise ways to obtain more uniform sampling. 
