 

1 	introduction 
in this talk  we discuss the following problem: suppose we have a mobile robot moving around in an otherwise unknown man made environment. is it possible to let the thing wander around and build incrementally  using passive vision  a three dimensional representation which: 
1. does not grow too large even if many measurements are accumulated  capability of  intelligently forgetting  . 
1. is accurate even though the motion of the robot is not accurately known  converges in time toward the  real world  description   
   we have made some progress toward the solution of this problem whose applications to the field of robotics should be obvious. 
   this presentation is in three parts. in the first part we somewhat detail the basic assumptions and techniques that have allowed us to come up with efficient solutions to the problem of building a local 1d map from stereo vision and structure from motion. in the second part  we show how the motion of the vehicle can be computed accurately by visual motion based techniques. in the third part we present a purely geometric approach to the problem of combining several viewpoints into a single surface and volume representation of the environment. in the fourth part  we present a solution to the same problem that takes into account the uncertainty in the visual measurements and the motion of the robot. 
1 this work was partially supported by esprit project p1 ¡¡¡¡in our work  we have followed two guiding lights. the first is geometry: a vision system is mostly a geometric engine and ours deals directly with geometric entities which are constructed from the visual inputs. the second guiding light is that of uncertainty. uncertainty is always present in the real world and cannot be engineered away. therefore it must be present explicitely in the representations which are manipulated by the system. 
1 	building 1d maps from passive vision 
we exploit the fact that in a man made environment many polyhedral or closely polyhedral objects are present. therefore  it is natural to adopt a representation that is based on linear geometric primitives: points  lines  and planes. the line primitives are computed immediatly from the input images and then used as tokens in the stereo and motion matchers that compute 1d geometry and motion. we have developed several stereo matchers which all use the basic paradigm of hypothesis prediction and testing to match 1d line segments  1  and differ by the number of cameras inputs they use. the fastest  most reliable and accurate matcher is the one using three cameras. 
   they all use as their basic principle the idea of working not on the images themselves to establish the matches but on symbolic representations of these images. these symbolic representations are neighborhood graphs of line segments extracted from the images. the matchers can accomodate any camera geometry thanks to a powerful calibration technique described in  from which the epipolar geometry can be easily computed. thanks to this  they 
	faugeras 	1 
can operate in a purely geometrical setting which increases their speed and reliability. 
1 obtaining a more accurate estimation of the robot motion from passive vision 
some information about the robot motion is available from  for example  inert ial guidance and/or odometry. this information is usually not accurate enough and passive vision is an efficient way of obtaining a more accurate estimation. inversely  if the robot is not moving or moving with an accurately known motion  then passive vision can be used to estimate the motion of a mobile object passing by  using exactly the same methods. we have developed a number of techniques for solving this problem which are all based on a combination of three ingredients: hypothesis prediction and testing to establish the token matches  representing and manipulating uncertainty to evaluate their likelihood  and geometry to provide the framework. 
1 	motion from 1d points and lines 
this set of techniques exposed in |1j allows us to obtain the motion of a camera by matching points in the retinas at two positions at times t and t + at  or lines in the retinas at two positions at times t    + at1  and t + at1. it therefore uses the same primitives as the ones which are used by the stereo matcher and can be computed at video rates. it turns out that  contrarily to what has been reported in the literature  this token matching based approach for the estimation of motion is quite robust to noise and provides very accurate results. 
1 	motion from stereo 
supposing that we have computed 1d by stereo at times t and t ¡ö+ at  by matching 1d primitives such as points  lines  and planes between the two representations  then we can reliably compute the motion of the robot. we use the same ingredients as before: hypothesis prediction and testing  uncertainty manipulation  and geometry. this work is a generalization of some previous work  1  and is described in more details in . 
1 combining several viewpoints: a 
geometric approach 
the problem which is tackled here is that of producing from the previous geometric and kinematic data a coherent de-
scription which is both: 
1. surface oriented: to allow recognition / manipulation. 
1. volume oriented: to allow trajectory planning / man-ipulation. 
in order to achieve this we use our previously computed estimates of motion to express all our local 1d data  or a subset of it  in the same coordinate system. we then compute a volumetric tesselation of 1d space that is intrinsic to the measurements. this part uses heavily some recent results in computational geometry . we then exploit a simple visibility property to distinguish the tessels which are empty  their reunion provides the volume representation of free space  from those which are not  their border provides the surface representation of the objects/obstacles . this work is described in more details in  1j. it solves the problem of building a coherent 1d description of the environment but does not completely satisfies the first requirement that we set up at the beginning. indeed  if the number of measurements increases  so does the complexity of the representation  as measured for example by the number of texels . a solution to this problem is provided in the next section. 
1 combining several viewpoints: a probabilistic approach 
if we not only represent the geometry of our primitives  but also the uncertainty that is attached to them we end up with a slightly different picture from the one of the previous section. our representation of the environment is made of a number of uncertain geometric primitives attached to coordinate frames related by uncertain rigid motions. the more we move the robot and make visual measurements  the more we increase the number of geometric primitives in the representation. this is clearly unsatisfactory and we must provide the system with means of   forgetting intelligently . this is achieved by exploiting the following simple idea: if a physical line segment s  for example the edge of a desk  is detected in  let us say  two positions 1 and 1 of the mobile robot  it is then present as segment s1 in the coordinate system attached to position 1 and as segment s1 in the coordinate system attached to position 1. since we can relate by a rigid motion positions 1 and 1  by applying the correct transformation to s1  the physical segment s is represented by two segments 1  and s'1 in the coordinate system attached to position 1. by comparing the representations of s1 and s1 in terms of both their geometry and their uncertainty  our system is capable of discovering that these two segments are very likely to be instances of the same physical segment. it then proceeds to merge them into a single segment whose representation is a combination of the representations of s1 and s1. it has therefore  forgotten  the two instances of s and merged them into a single  better  one  better in the sense that it is more accurate than either one. we have therefore reached two 

goals: 
1 	panels and invited talks 

1. the accuracy of the description increases with the number of measurements. 
1. its size does not grow out of control since we are ca-pable of fusing pieces of it which are instances of the same physical event. 
this part of our work is described in more details in  1 1 . 
1 	conclusions 
the system that we have sketched in this abstract has been fully implemented and is used to drive a mobile robot designed at inria. this robot is used by a variety of users as a testbed for vision algorithms. in a near future it will bo equipped with video rate capabilities for computing the line segments which are at the basis of our 1d representations. all the matching algorithms that we use are very highly parallel  and this is an obvious way of improving the response time performances of the system. this approach is followed in a joint effort with a number of european academic and industrial partners. we think that the most important contribution of our system is to provide a proof of existence that vision theory and practice have now reached a stage where fascinating questions such as the relation of shape and function  the relation of language and our perception of the 1d world  and many others can 1 reasonably asked without confining them to solipsistic systents. 
