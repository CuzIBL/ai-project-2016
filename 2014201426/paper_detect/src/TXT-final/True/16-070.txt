 
the well known knuth and bendix completion procedure computes a convergent term rewriting system from a given set of equational axioms. this procedure was extended to handle mixed sets of rules and equations in order to deal with axioms that cannot be used as rules without loosing the required termination property. the developed technique requires the termination property of the rules modulo the equations. we describe here an abstract model of computation  assuming the termination property of the set of rules only. we show that two abstract properties   uniform confluence modulo  and  uniform coherence modulo  are both necessary and sufficient ones to compute with these models. we then give sufficient properties that can be checked on  parallel critical pairs   assuming the rules are left linear. these results allow to deal with sets of axioms including coramutativity  associativity and idempotency. 
introduction 
　　　　term rewriting systems  trs in short  are used for a lot of artificial intelligence applications. trs express computations based on directed equalities  whenever properties are satisfied. the well known confluence property expresses roughly that the result of a computation does not depend on the choice of the rules to be applied. when a trs is not confluent  it can be transformed into an  equivalent  confluent one  using the well known knuth and bendix completion procedure  k&b 1 . this procedure can be seen as a way to compile equational specifications into confluent sets of rules. then these rules can be used as 
well as  prolog like  programs  der 1 . 
during the ten past years  the knuth and 
bendix completion procedure was shown to be a 
major tool for a wide class of problems  mainly the word problem in universal algebras  k&b 1   equivalence proofs of sets of axioms in algebra 
 les 1   	unification 	in 	equational 	theories 
 jkk 1   proving consistency and assertions in algebraic specifications of data types  h&h 1   theorem proving in first order logic  h&d 1   program synthesis from specifications  der 1  
 h&p 1   computing with rewrite programs  der 1 . the knuth and bendix completion procedure is based on using equations as rewrite rules and computing  critical pairs  when left members of rules overlap. if a critical pair has distinct irreducible forms  then a new rule must be added and the procedure recursively applies until it eventually stops. this procedure requires the termination property of the set of rules  which can be proved by various tools. a full implementation of these techniques is described in  les 1 . 
　　　　the method was extended to handle the case of equational term rewriting systems  etrs in short  i.e. sets a of axioms split into a set r of rules and a set e of equations  in order to allow axioms such as commutativity  which cannot be directed without loosing the termination property. a first approach by lankford and ballantyne  l&b 1  studies permutative axioms that generate finite e-congruence classes. the case of infinite e-congruence classes was studied by peterson and stickel  p&s 1  and huet  hue 1 . these approaches are unified and generalized in  jou 1   where two properties  e-confluence and e-coherence  are shown to be both necessary and sufficient ones to compute with etrs. when an etrs is not e-confluent and e-coherent  it can be transformed into an equivalent e-confluent and ecoherent one by computing  e-critical pairs . in addition to a complete e-unification algorithm  this e-completion procedure requires the termination of the relation induced by the rules in the econgruence classes. 
　　　　the termination of a set of rules can be checked by various tools such as the recursive path ordering  der 1  and the recursive decomposition ordering  jlr 1 . on the contrary  checking the e-terraination of a set of rules is actually an open problem except for the special case of associative and commutative equations. moreover  a set of rules can be terminating and not e-terminating as noticed by jeanrond  jea 1 . the following counterexample is extracted from a set theory or from a boolean ring theory: assume + is an idempotent function symbol and let l- r be any rule. then 1 - 1 -  1+r   which induces an infinite derivation even if the set of rules itself was terminating. 
　　　　to solve this problem  padawitz developed in  pad 1  new techniques based on a so called  strong confluence  property  proved to be sufficient for a church-rosser property. however  it is rather complicated to express and carries on a lot of technical restrictions  in addition to the left linearity of the set of rules. 
　　　　our first goal in this paper is to give a well suited framework in order to simplify and 

generalize padawitz's results. this is achieved by describing an abstract model of computation in the same way as in  jou 1j: it makes clear that two properties   uniform confluence modulo  and  uniform coherence modulo  are both necessary and sufficient conditions for the church-rosser property that we need. uniform confluence modulo ensures that the normal form of any term  using the rules of r  is unique up to the equality generated by the equations of e. uniform coherence modulo says roughly that the uniqueness is also true if the reduction is applied to terms that are equal  up to the e-equality. 
　　　applying then this abstract model to etrs  we obtain easily a more general version of padawitz's results as well as new ones. more precisely  we introduce sufficient conditions for uniform confluence modulo and uniform coherence modulo called local confluence in one step and local coherence in one step  that can be checked on critical pairs or on  parallel critical pairs  as in  pad 1 . 
　　　　section i is devoted to recall classical notions about trs. a purely axiomatic approach working with arbitrary relations is developed in section i i . abstract results obtained in section ii are applied to etrs in section i i i . equalities are used as usual in a first subsection  whereas they are used in a parallel way in a second one and in a recursive parallel way in a third one. 
i-preliminaries 
definitions 1: given a set x of variables and a graded set f of function symbols t f x  denotes the free algebra over x. elements of t f x  are called terms. terms may be viewed as labelled trees in the following way : a terra t is a partial application of n* into f x such that its domain d t  satisfies: 
  1  the empty word e is in d t . 
  1  iu is in d f ... ti ...   iff u is in d t . d t  is the set of occurrences of t  1 t  the subset of non variable occurrences of d t   v t  the set of variables of t and # x t  the number of occurrences of x in t. a term t is said to be linear iff // x t *l for any x in v t . let t/u be the subterm of t at occurrence u and t u -t'  the terra obtained by replacing t/u by t  in t.  
definations 1: substitutions s are defined to be endomorphisms of t f x  with a finite domain d s  - {x in x i s x  1 xj. composition of two substitutions s and s' is denoted by s s'. 
the subsumption preorder   on t f x  is defined by: t   t' iff t'- s t  for a substitution s called a match from t to t'. given a subset v of x  we define s s'  v  iff s x  1 s' x  for all x in v  which is equivalent to s'=s'o s  v  for some substitution s . v is omitted if equal to x. a substitution s is a unifier of two terms t and t' iff s t =s t' . for any unifiable terms t and t '   there exists a minimum unifier of t and t'  for the ordering    v t uv t'      called most general unifier  mgu for short  of t and t'.  definations-1: 	we 	call axiom or equation any pair 
　　　　　　　　 t t'  of terms and write it t - t ' . the a-equality -a  or |-*-|a  is the smallest congruence closed under instanciation and generated by a finite set a of axioms. 
i - i a denotes one step of a-equality. 
i -n-i a denotes n steps of a-equality. 	 
　　　　many theoretical problems in equational theories  word problem ...  can be approached by using rewrite rules that is one-way equations. working with rules requires good properties as shown by knuth and bendix  k&b 1   
definitions 1: a term rewriting system r is a set of pairs g- d s.t. v d cv g . 
we say that a term t r-reduces at occurrence u to a terra t' using the rule g- d  and we write t - r t    iff there exists a match s from g to t/u and t' - tfu  - s d  . we may omit r. a term rewriting system r is left  resp. right  linear if g  resp. d  is linear for all g- d in r. 
-*- r is the reflexive transitive closure of - r  -+- r the transitive closure of - r and =r the generated equational theory. an irreducible term' for -  is said in normal form  t! denotes a normal form of t  that is a term t  in normal form s.t. t -*-  t'. a term rewriting system r is terminating  or noetherian  if there is no infinite sequence of the form: to - r tl - r ... tn - r . . . .  
ii.abstract properties of confluence 
　　　　from now on  we deal with weakly terminating equational term rewriting systems  etrs in short   that is sets a of axioms split into a terminating trs r and a set e of equations with a 
　　　　decidable e-equality. these etrs are said to be weakly terminating because the relation -e - r =e induced by - r in the e-equivalence classes is not necessarily terminating as required in other works  hue 1   p&s.1   jou 1 . 
　　　　we start here using abstract relations: in this section  |-|e is any symetric relation whose reflexive transitive closure is -e   - r is any relation and -a is the reflexive  symmetric and transitive closure of - r u =e . this abstract approach allows us to generalize padawitz's results and provides new ones by appropriate choices of the relation |-|e in section i i i . 
　　　　to decide a-equality  the classical way is to require a church-rosser property  which allows to decide whether tl  a t1 or not by computing the normal forms of tl and t1 and checking for their e-equality. two properties called confluence and coherence are needed to ensure the church-rosser property. the style of properties we use here is quite different from jouannaud's  jou 1  or huet's  hue 1   because we explicitely use normal forms in the definitions. this difference is quite important in the abstract part of the paper: it allows removing the so-called e-termination property of the set of rules. it will however carry on other restrictions in section i i i . 

j.-p. jouannaud et al. 1 



j.-p. jouannaud et al. 1 


applying the parallel c r i t i c a l pairs lemma  there exist a parallel c r i t i c a l pair  p q  and a substitution s such that t1=s p  and t ' l - s   q   . since p and q reduce to p' and q' s.t. p' |=rec c-=|e q'   t1-s p  -*-  s p'  |-rec-e-|e s q'   -*- s   q   - t ' l . let now z be the set of variables x in v g  s.t. so x  contains a subterm si gi  at some occurrence wi  for i in  k+l.-n . since g is linear  such variables are not instanciated in the c r i t i c a l pair  belong to v q  and satisfy so x  = s x . on the other hand  with the hypothesis 1 on parallel c r i t i c a l pairs  for any y in v dl   y belongs to v q  z and satisfies s y -sl y . 


conclusion 
　　　　local confluence in one step and local coherence in one step are defined in an abstract 
way for arbitrary 	symmetric relations. 
three different relations are then used with their corresponding critical pairs  that carry on sufficient conditions to be checked on critical pairs. 
simple equality is classical  as also the associated notion of critical pair. the corresponding theorem requires the rules to be left and right linear. 
parallel equality requires parallel critical pairs and allows to remove the condition of right linearity. however  critical pairs resulting from the superposition of equational axioms on rules have to be confluent  without any step of parallel equality. 
this restriction can be simply explained. consider an instanciation of a parallel critical pair which affects a variable that is not used in the superposition. by the way of rewritings  this variable can be mixed with the other variables. as a consequence  the term substituted for this variable can be embedded in a member of the parallel equality. replacement of this term by an equivalent one introduces one more step of equality. an elegant way of solving this problem is to define a recursive one step equality as padawitz. indeed we obtain a strictly more powerfull result without any more restriction on the equational axioms and we can deal with padawitz's examples and also with a lot of other ones. an interesting point is that we do not define recursive critical 
j.-p. jouannaud et al. 1 
pairs. instead  we require equational axioms to superpose on rules only by the way of a matching of subterms of these rules: recursive equalities occur only outside of parallel critical pairs. 
　　　　finally  as confluence and coherence in one step are checked on critical pairs  a knuth and bendix like completion algorithm can be hoped from these results. 
