item selection strategies for collaborative filtering 
rachael rafter  barry smyth 
smart media institutce  university college dublin  ireland 
{rachae 1.rafter  barry.smyth }  ucd.ie 

1 introduction 
automated collaborative filtering  acf  methods leverage the ratings-based profiles of users that are similar to some target user in order to proactively select relevant items  or predictively rate specific items  for the target user. many of the advantages of acf methods are derived from its contentfree approach to recommendation; it is not necessary to rely on content-based descriptions of the recommendable items  only their ratings distribution across the population of raters. furthermore  acf methods have an element of serendipity associated with them  as users can find items for which they would never have explicitly searched but nonetheless find interesting. the raters  items and ratings form an sparse matrix  r and the classical acf prediction task is to predict the rating that user t will give to item i given that rltl is currently empty. for example  resnick's well-known algorithm  resnick et al  1  predicts rt i based on t's average rating  and the rating each rater r gives to i  relative to r's average rating  and weighted by the correlation between the shared ratings of t and r. 

　it is well known that the success of acf depends broadly speaking  on the quality of the user profiles and on the coverage of the ratings space that they provide  smyth et al  
1; rafter and smyth  1a; rafter et al  1a; 1b; herlocker et al  1; breese et al  1; konstan et al  
1 . at the same time efficiency depends on the number of users that are taken into account during rating and the size of their individual profiles. for example  resnick's algorithm is 1 r.i  where r is the number of raters and i the average number of items that they have rated. 
　in this paper we are interested in looking for ways to improve the efficiency of acf without compromising the quality of recommendations. our basic proposal is to find ways of reducing the number of items that need to be considered during recommendation. for example  resnick's algorithm above compares each rater profile to the target user by computing the correlation between all item ratings that these profiles share  which can often be a large number of ratings. by selecting a subset of shared ratings we can significantly improve the efficiency of this fundamental prediction step. 
however  naive item selection strategies are likely to result in significant reductions in recommendation accuracy and so more intelligent strategies  based on an understanding of the relative value of different items  are proposed. 
1 item selection strategies 
let us assume that for reasons of efficiency it is necessary to select a subset of k shared items for consideration during acf prediction using resnick's algorithm. which subset should be chosen  one could select the k items at random. alternatively one to look to identify those items that are likely to contribute more information to the prediction task. 
1 	inverse popularity 
one approach to selecting useful items during acf prediction is to look at how popular an item is among the rater population. the motivation here lies in the belief that relatively poorly distributed items among the population should be better predictors of a users preferences  rafter and smyth  1b ; if a user has looked at an unusual item this should tell us more about her preferences than an item that everyone is familiar with. for example in a movie recommendcr  most people will have seen movies like  the lord of the rings  or  fight clubhand therefore most profiles will contain these movies  but all this really tells us is that these are popular movies. however if a user profile contains more unusual movies such as  run lola run  or  buffalo 1   that most other profiles don't contain  then we can tell more about that user's individual taste for movies. accordingly  our inverse popularity strategy weights the items in a profile according to the number of users in the population that have that item in their profile and selects those k items  shared between rater and target user  that have the highest inverse popularity score  equation 1 . 
		 1  
1 	deviation of ratings 
poster papers 	1 the deviation of ratings strategy is based on the principle that the more users tend to disagree about an item the more informative that item is about any given user's particular preferences. for example  in a movie recommender most users will 
1 	experimental evaluation 
an experimental evaluation has been carried out to evaluate how our inverse popularity and deviation of ratings selection strategies impact prediction quality. to do this we have implemented a version of resnick's acf algorithm and modifled it to select different sized subsets of shared items as the basis for prediction. four different item selection strategies are reported: 
  all selects all shared items as per the standard resnick approach. 
  random selects a random subset of a: shared items. 
  popularity selects a subset of k shared items according to the inverse popularity metric. 
  deviation selects a subset of k shared items according to the deviation of ratings metric. 
　in turn we evaluated the above methods using a subset of the largest 1 profiles  1 as the user population  and 1 as the target users  from the eachmovie dataset   mcjones  1 . from each target user profile we selected 1 items at random  1 in total  for which to predict scores measuring the quality of the prediction as the average prediction error by computing the difference between the predicted rating and the actual rating in the standard way. in addition  we vary the value of k from 1 to 1 to investigate the impact of different profile subset sizes. 
　the results are presented in figure 1 as graphs of average prediction error versus k for each of the 1 selection strategies  all  random  popularity  deviation . the results for all are obviously a straight line as this strategy in unaffected by k by design. the error for this strategy serves as an optimal benchmark against which to judge the other 1 techniques. in each case we find that the popularity and deviation techniques significantly outperform the naive random selection approach. for example  at a: = 1 the random method presents with a prediction error of about 1 compared to errors of 1 and 1 for the popularity and deviation methods  and a 
　minimum error of 1 for the all benchmark. a similar pattern is found for k   1. 
figure 1: average prediction error v. .v. k 
　it is interesting to note that for k = 1 the prediction accuracy of the various techniques is seen to converge  indicating that there is little difference in the selection benefits for item subsets of this size. however  the average overlap of the population is 1 meaning that at the k = 1 mark almost all overlapping items are being considered by any of the four strategies and therefore it is appropriate that the accuracy converges. in point of fact it is appropriate that item selection strategies work well at low values of k for two reasons. first  it maximises the potential efficiency advantages. secondly  most profiles tend to have relatively small numbers of ratings and so the shared ratings between two profiles is likely to be small; in eachmovie more than 1% of profiles have less than 1 ratings. 
1 	conclusions and future work 
we have described two item selection strategies for acf  deviation and popularity  that reduce the set of items used when making predictions. we have discussed how these strategies improve the efficiency of acf and our evaluation has shown that these improvements incur little compromise in the quality of prediction  when compared with the standard resnick algorithm. the results also show that our strategies outperform the naive random strategy and therefore are selecting a more intelligent subset of items. efficiency in acf is a well documented problem and we believe that item selection strategies such as those proposed in this paper are one of the keys to solving efficiency problems. in the future we look to investigating other similar item selection strategies  such as combining the popularity and deviation methods   based on a further understanding of the relative values of items. 
　the development of item selection strategies such as those we have described forms part of a larger research goal concerning the value of items in acf. in any acf prediction or recommendation task we can imagine three distinct beneficiaries. the first and most obvious beneficiary is the target user  the person for whom the prediction is being made. the second is the party making the recommendation - for example  

1 	poster papers 

an online store whose desire it is to make recommendations to the target user and encourage them to purchase something. finally the acf system itself is also a potential beneficiary in the sense that with each prediction or recommendation made the system learns a new piece of information about the user. in such a situation where three distinct parties can potentially benefit from the outcome of the recommendation  there are clear trade-offs. for example  the online store may prefer to recommend expensive items over cheaper alternatives to customers and even weight items for recommendation not only according to their relevancy to the customer but also according to their price. conversely  the user is unlikely to opt for such a recommendation strategy. the trade-off we are most interested in investigating is that of optimising recommendations for short-term benefit against optimising them for longterm benefit. the straightforward recommendation strategy is to select the item with the highest relevancy for the target user  i.e. the one she is most likely to like  for recommendation. this optimises recommendations on a short-term basis - the best option is selected for the current recommendation. however  if we were to weight recommendations not only based on the probability of the user liking them  but also based on the amount of knowledge the system is likely to gain with each recommendation we could potentially make better recommendations in the future. 
　our research so far has shown that different items have different levels of knowledge gain. relatively unpopular items  or those that tend to have a high deviation of ratings tell us more about the user and her preferences than an item that everyone has seen and liked. in the future we plan to look at the potential benefit of weighting items not only according to their relevance to the user  but also according to their associated knowledge gain  and investigating how such a strategy affects the quality of future predictions. 
