 
one important facet of common-sense reasoning is the ability to draw default conclusions about the state of the world. such an ability enables one to assume  for example  that a given bird flies in the absence of information to the contrary. one drawback of the circumscriptive approach to common-sense reasoning has been its inability to produce default conclusions about equality. for example  generally one cannot tentatively conclude that president usa  』 fido using circumscription. in this paper we give a second-order axiom and model theory for circumscribing equality  and prove that they are equivalent. 
1 	introduction 
circumscription  bossu 1  etherington 1  1  lifschitz 1  mccarthy 1  1  perlis 1  shoham 1  seeks to solve the problem of common-sense reasoning by  preferring  certain models of a theory t to others. more precisely  circumscription picks out those models of a theory that are minimal with respect to some partial order on models  shoham 1 . thus  a circumscriptive partial order encodes our intuitive sense of which of the logically plausible alternative models of t are the most  normal  and reasonable. 
　absent evidence to the contrary  common sense suggests that different names denote different things. for example  this paper is not the same thing as your car  your cat  or your phone number. in a circumscriptive setting  this common-sense principle translates into a preference for those models of the world in which as many terms as possible are unequal  i.e.  those in which equality is minimized. minimizing equality  though  requires the inclusion of preferences between models having different universes - and in the usual types of circumscription two models must have the same universe in order for them to be comparable. thus  it is not surprising that the simple forms of circumscribing a theory t will not produce any facts about equality of terms that were not already deducible from t  etherington 1   this 
   *this work was supported by darpa under grant n1-c-1  kbms project  gio wiederhold  principal investigator . 
1 	automated deduction 
marianne winslett 
computer science dept. 
university of illinois 
urbana  il 1 
problem with equality has been a drawback of circumscription  especially since other common-sense reasoning approaches such as default logic and autoepistemic logic deal satisfactorily with equality. sections 1 and 1 of this paper propose a new kind of circumscription that remedies this deficiency. section 1 shows how to strengthen equality circumscription so that it also circumscribes the domain. 
　in the past  many authors have sidestepped the equality problem by adopting a herbrand universe assumption. however  this assumption mandates that different terms must denote different objects. for example  in a herbrand universe  president usa  cannot be bush. we desire a mechanism that will allow us to conclude that president usa  = bush if this is entailed by t. 
　mccarthy  proposed two methods of dealing with the equality problem. the first was to state  unique name  axioms  formulas such as gutter 』 cat  explicitly in t. in general  however  not all facts of this nature will be known in advance  who is the president  . in addition  there may be an infinite number of such facts. the second method proposed by mccarthy was to introduce multiple types of equality  with one variety of equality not enjoying the full principle of substitutivity. this approach is rather unwieldy. rather than working around the problem  it would be preferable simply to circumscribe equality. 
　the inspiration for our approach to circumscribing equality comes from the category-theoretic concept of initial model semantics  goguen 1 . under this approach  the preference ordering on models is determined not by a simple model/submodel relationship  but rather by the existence  or lack thereof  of homomorphisms between one model and another. this results in semantics where all predicates  including the equality predicate  are minimized. we believe that homomorphisms will  in many cases  prove more useful than the model/submodel relationship in determining a partial order on models. 
　this paper will not adopt a category-theoretic presentation because that formalism is more complex than is needed in this paper. instead  we directly present the idea of homomorphisms between models in section 1. 
　we do not intend equality circumscription as a replacement for the traditional forms of circumscription  or as the ultimate method of non-monotonic reasoning. rather  we see it as yet another tool in the catalog of non-monotonic reasoning techniques  one which in some cases will prove more appropriate than other tools. a major challenge for artificial intelligence research in this area will be the development of systematic means of choosing policies for application of these tools. simply encouraging the use of equality circumscription does not give much more insight into the solution of a problem than encouraging a would-be author use an editor or suggesting that an ai system architect use an atms. 
1 	a model theory for equality circumscription 
the model theory for equality circumscription is based on homomorphisms between models. we first define the concepts of signature and model  and then define homomorphisms between models. a signature is a description of the terms available to create sentences in a logical theory. it lists the function symbols  predicate symbols  and their arities. constants are not considered separately  but instead are treated as 1-ary functions. because this paper only covers finite theories  signatures will also be finite. 
　a model over a signature consists of a universe u and extensions for all the function and predicate symbols. the extension of a function symbol is an actual function 
 of proper arity  on u  while the extension of a predicate symbol is a relation  of proper arity  on u. 
let m' and m be models of a theory t  and let ur and 
u be the universes of m' and m  respectively. then a homomorphism from m' to m is a function h : v -  u from the universe of m' to the universe of m  satisfying the following conditions: 
1. the mapping h is a homomorphism on functions. by this we mean that if / is an n-ary function symbol from t's signature  and it has extensions f and f i n m' and m respectively  we require that 

1. the truth of predicates is preserved. if p is an n-ary predicate symbol from t's signature with extensions p' and p in m' and m  then 

it will sometimes be convenient to treat n-tuples such as a1 ...  an as vectors a  so that we can write h a  as shorthand for n a1  ...  h an   and so on. 
　if there is a homomorphism from model m' to m  we write m' -  m. 
　the existence of a homomorphism m' -* m can represent a number of different relationships. it may be that the true atoms of m' are a proper subset of their counterparts in m. this is the model/submodel relationship used in ordinary circumscription  and it means that m1 is preferable to m  from the viewpoint of circumscription. alternatively  the morphism could map two or more separate elements of af s universe onto a single element in m. since we want to minimize equality  intuitively m' should be preferable to m  because m equates atoms that m! does not. thus we might be tempted to create a partial order  based on the idea that mf is preferred to m iff m1 -  m. unfortunately  this does not work  since it is possible to have both m' -  m and m -  m'. instead  we consider such models with two-way morphisms to be incomparable  and arrive at the following definition: 
　definitions. a model m' is preferred to m iff mf -  m but not m -* m'. a model m is preferred if no other model is preferred to m. 
　 section 1 describes a different  stronger semantics that also provides a form of domain circumscription.  
　theories typically have multiple preferred models. for example  the theory p a  v p b  will not have a single preferred model. it says explicitly that we don't know what model represents the true state of the world. 
example 1 fido and the president. 
let t be the theory containing the two formulas dog fido  and happy president usa  . ordinary circumscription of this theory would not allow us to conclude that president usa  』 fido  or that fido is not happy. the model theory for equality circumscription  on the other hand  produces both these conclusions. 
our signature contains two 1-ary function symbols 
 fido  usa   one 1-ary function symbol  president   and two 1-ary predicate symbols  dog  happy . a model over this signature must include a universe and interpretations for the constants  functions  and predicates. two particular models of the theory are shown in figure 1. 
　in figure 1  h is a homomorphism a -  b  a mapping from a to b that preserves functions and the truth of predicates. the dashed arcs represent the mappings of h from model a to model b. for example  the constant fido denotes the universe object fidoa in model a  but denotes fidob in model b. consequently  h maps fidoa onto fidob. note that in model b  president usa =fido  and fido is happy. there can be no homomorphism from model b to model a  since such a morphism could only map fidob onto one object  and there is no object which is both happy and a dog in model a. hence  model a is preferred to model b  assuming an appropriate completion of the remainder of the information in a. 
　neither a nor b gives a complete description of a model of the theory: there are many other syntactically correct terms in the language  such as president president usa    and any model must have extensions for them. equality circumscription will prefer models in which all of these expressions denote unique elements in the universe  i.e.  in which the unique name axioms hold. for a model m to be preferred  the predicates dog and happy must be false on all ground terms  except for terms fido and president usa   respectively. example 1 inheritance. 
suppose we wish to encode an inheritance hierarchy  in particular the common-sense principle that birds generally fly. this can be expressed  mccarthy 1  by a formula which says that all normal birds fly  vx. b x  a -iafr x  -  f x  . exceptions are allowed - ostriches do not fly  vx. o x  -  - / x   . if we know that tweety is 
rathmann and winslett 
a bird  b t    both the appropriate ordinary and equality circumscription1 of these formulas will conclude that tweety flies. the difference between the two approaches appears when we add another sentence to the theory. if we know of a particular ostrich  blutto  o b    ordinary circumscription will no longer conclude that tweety flies  because tweety and blutto might designate the same individual. equality circumscription  which prefers models in which tweety and blutto are distinct  will still conclude that tweety flies. 
　we now show that the model theory for equality circumscription is in fact based on a partial order.1 
proposition 1 the preference relation on the models of a theory is a partial order  transitive  asymmetric  and irreflexive . 
　 proofs of the theorems in this paper appear in  rathmann 1 .  
　theorem 1 shows that when testing to see whether a model is preferred  it suffices to consider models whose universes are generated by the constants and functions of the underlying signature: 
theorem 1 let a be a non-preferred model of a universal theory t. then there exists a preferred model boft such ihat b is preferred to a and b }s universe is exactly the interpretation of the ground terms of the signature of t. 
1
　　this requires an extension to equality circumscription to allow some predicates to vary and hold others fixed. 
1
　　authors differ on whether a partial order should be reflexive or irreflexive. in this presentation we have chosen irreflexive  so that the order behaves like    rather than  . 
1 	automated deduction 
theorem 1 has an important corollary:1 
corollary 1 a universal theory t has preferred models iff t is consistent. 
　theorem 1 shows that the unique name axioms follow from the equality circumscription of t  whenever possible. since we minimize equality at the same priority as all other predicates  the unique name axioms do not follow when that would increase the extension of other predicates  and theorem 1 reflects this. for example  if t is  a 』 b  -   p a  v p 1    then the unique name axioms will not hold in all preferred models of t  as when those axioms are true  p must have a non-empty extension. 
theorem 1 if the equality predicate does not appear positively  i.e.  governed by an even number of negation signs  in the conjunctive normal form of a theory t  then a 』 b is true in all preferred models of t  for all ground terms a and b. 
　of course  when the equality predicate does appear positively in t  then  as many as possible  of the unique name axioms will still hold in the preferred models of t. we do not yet know how to state this property formally. 
　equality circumscription also avoids some of the overly strong conclusions that plague traditional circumscription. for example  if t is the theory {p f a  }  under ordinary circumscription v v   i s true i n all preferred models of t. in contrast  under equality circumscription  we reach new conclusions about the truth 
1
　　in new work  we have shown that this corollary  though not theorem 1  holds for all first-order theories  so that every consistent theory has a preferred model under equality circumscription. 

or falsity of ground formulas  but not in general about non-ground formulas. under equality circumscription  in all preferred models of t the formula schema  p t  holds  for t any ground term except /   a   . the formula vx p x   -  x = /   a     does not follow  however. one can think of this property as saying that we draw conclusions about known and named individuals  rather than about all the individuals in the universe. 
   thus equality circumscription in its basic form admits the possible existence of additional unknown individuals who are similar to known individuals. for example  if we know that one penguin exists  penguin opus    then equality circumscription permits models containing any number of unnamed penguins. in contrast  ordinary circumscription would conclude that opus was the only penguin extant. if in addition we know that opus is a bachelor  bachelor opus    equality circumscription will permit any number of unnamed bachelor and/or penguin elements to appear in models. if we also know that bill is a cat  cat bill    there may also be unnamed cats in the world under equality circumscription; however  bachelor cats will not be permitted  because under equality circumscription  any unnamed element must enjoy properties that are a subset of those of some particular named element. the existence and nature of these unnamed individuals follow from the homomorphisms used to pick out preferred models; the model having a minimal universe  just opus and bill  is not preferred to a model containing  extra  elements because the extra elements  fold onto  the minimal universe: one can construct a homomorphism from the larger to the smaller universe  mapping all cats to bill and all bachelors and penguins to opus. one may think of equality circumscription as allowing the existence of unnamed individuals whose properties are analogous  in a homomorphic sense  to those of known individuals. 
e x a m p l e 	1 	lotteries. 
let t contain formulas stating that the universe contains 1 distinct anonymous individuals.  do this by stating that there exist x1 through x1 such that each xi 』 xj for distinct i  j  and for all y  y is equal to one of the xis.  include one constant  harry  in the language  designating our friend harry. a d d the fact that one of these people won the lottery  1x winner x    and consider the question   did harry win the lottery   ordinary circumscription admits models where harry did win; common sense supposedly requires the answer that harry did not. equality circumscription says that harry did not win  but that some other  unnamed individual did win.1 
1
　　if individuals arc uniquely identifiable by name  then equality circumscription will answer  maybe  to the question; if they are identifiable by some other means  as for example by an ordering on social security number  then if that ordering predicate is considered relevant to the question  the answer will again be  maybe.  if the predicate is considered irrelevant  as in the case of social security numbers  then it should be allowed to vary when circumscribing  and the answer will be  no.  see the remarks in section 1 on choice of circumscriptive policies. 
   as theorem 1 only guarantees consistency in the case of universal theories  in the remainder of this paper we restrict our attention to universal theories.1 
1 	an axiom for equality 
circumscription 
the model theory for equality circumscription  as presented in the previous section  used a single-sorted firstorder logic. like ordinary circumscription  the axiom for equality circumscription uses second-order logic. in addition  for equality circumscription we must introduce a second sort. to show the need for this sort  let us first present a straw-man axiom using only a single sort. 
   by analogy with ordinary circumscription  as a first cut at a second-order axiom for equality circumscription  one might devise the following formula: 

where sf   s is shorthand for a formula specifying that there is a homomorphism from the  model  defined by s' to that defined by s  but not in the reverse direction. 
 readers who are not familiar with the notation used in circumscription axioms need not be alarmed; all will be explained below.  this would not capture the semantics of equality circumscription  however  as a non-preferred model of t will satisfy this axiom if its universe is smaller than that of any model which is preferred to it.1 
   the purpose of the second sort  hereafter called the test sort  is to allow comparison of a model m with models m' having universes larger than that of m. this is important  since when minimizing equality  it is quite possible that such an m' may have fewer equality atoms true than in m  and hence be preferred over m. 
   the second sort is used for  intuitively speaking  testing to see whether a particular model is preferred  by constructing a second model  in the test sort  to compare to the original one. the preferred models of the original theory t will be models of the second-order theory circ t   restricted to the original sort. in what follows  it will be convenient to assume that theory t contains no free variables  and that the signature of t contains at least one constant. 
   we assume that the elements of the test sort are disjoint from those of the original sort. in light of theorem 1  it suffices  when testing to see if a model is preferred  to consider only other models with universes as large as the set of  possibly skolemized  ground terms of the language. we therefore assume that the test sort is of that 
size.1 
1
　　 as mentioned in footnote 1  new results show this restriction to be unnecessary. 
1
　　two universes are isomorphic if there exists a one-to-one  onto mapping between them. universe u1 is larger than u1  and u1 is smaller than u1  if u1 is isomorphic to a proper subset of u1 and is not isomorphic to u1. 
     1both of these conditions on the test sort can be expressed as statements in first order logic  and enforced by adding these statements to the axiom for equality circumscription. we will not add these conditions explicitly in this paper. 
rathmann and winslett 

   let f be the set of all function symbols in the signature of t  and let p be the corresponding set of predicate symbols. recall that constants are actually 1-ary functions  so the constants of t appear in f. for every function symbol / in f  let /' be a function variable that matches / in arity and type. extending this notation  let 1 be a tuple of all the function symbols and predicates in f and p  except equality  and let s' be a tuple of function and predicate variables matching those of s in arity and type. the members of s have arguments and results only in the original sort  and the members of s' are similarly confined to the test sort. we will change our notation for theories slightly to include the functions and predicates as a parameter of the theory. thus  t s  denotes t with its usual functions and predicates  and t s'  denotes the result of replacing in t all the function and predicate symbols of s with the appropriate variables of s'. the quantifiers of t s  range only over the original sort  and the quantifiers of t s'  range only over the test sort. 
　the second order axiom for circumscribing equality looks very similar to that for ordinary circumscription. the circumscription of t  denoted circ t   is given by 
		 1  
u is a unary predicate variable taking arguments of the second sort. intuitively  the predicate variables u and s' pick out a universe  called the test universe  and a set of predicate valuations  respectively  over the test sort. in essence u and s  construct a new  test model  of t over the test sort  to see whether the test model is preferred to the model given by the original sort and the predicate valuations of s  the original model . the con-
junct tu 1'   defined precisely below  guarantees that the test model actually satisfies the formulas of t. the biggest difference from ordinary circumscription comes in the construct s'   s  which is shorthand for 
		 1  
the unary function variable h takes an argument of the test sort and produces a result in the original sort; the reverse is true for g. formula  1  ensures that h is a homomorphism from the test model to the original model  and that there is no homomorphism in the reverse direction. as described in section 1  this is the condition for the test model to be preferable to the original model. more precisely  hom h  is shorthand for 
		 1  
the quantifier of  1  ranges over the test sort. formula 
 1  is the analog  in second-order logic  of the definition of homomorphism given in section 1.  to see this  recall that equality is one of the predicates in p.  the definition of reversehom g  is symmetric to that for hom h . in this case the universal quantifier ranges over the original sort. 
1 	automated deduction 

1 equality circumscription with domain closure 
in many applications of circumscription  we expect a slightly stronger form of equality circumscription to be desirable: equality circumscription with domain closure. domain closure corresponds to the common-sense reasoning assumption that only those things that must exist do exist. equality circumscription with domain closure  ecdc  differs from plain equality circumscription in that preferred models must have universes that are an interpretation of the ground terms of the signature of t  a minimal universe  under ecdc. in other words  preferred models must have universes that are minimal in the sense that every element in them is designated by some ground term. informally  we are eliminating all models containing unnamed elements. in applications where one knows a priori that all the relevant individuals are known and named  i.e.  are designated by ground terms  the use of ecdc rather than ordinary equality circumscription is indicated. the partial order on models that corresponds to ecdc is obtained by adding a requirement that all preferred models have minimal universes: 

　definition. a model m' is preferred to model m under ecdc iff 
1. m ' - m and not m - m'; or 
1. m' is the restriction of m to a smaller and minimal universe. 
proposition 1 shows that the new preference relation is a partial order on models. 
proposition 1 the preference relation for ecdc is a partial order. 
　preferred models under ecdc are also preferred models under equality circumscription: 
proposition 1 if m is a preferred model of t under 
ecdc  then m is also a preferred model of t under equality circumscription. 
   more precisely  for a universal theory the preferred models under ecdc are obtained by restricting the preferred models of equality circumscription: 
proposition 1 given a universal theory t  its preferred models under ecdc are the restriction to minimal universes of its preferred models under equality circumscription. 
　note that proposition 1 guarantees that a universal theory will always have preferred models under ecdc. example 1 fido and the president  continued. 
continuing the example begun earlier  under ecdc a preferred model must have in addition a minimal universe. therefore t now has only one preferred model  up to isomorphism. in this model  fido and usa map to separate elements of the universe; and the president function is injective  i.e.  no two different applications of it give the same result. in addition  there is exactly one dog  the interpretation of fido; and there is one happy thing  the interpretation of the president of the usa. 
　what is the relationship between ecdc and ordinary global circumscription  all statements  both quantified and ground  that are true under ordinary circumscription will also follow under ecdc  as theorem 1 shows. 
theorem 1 if a model is preferred under ecdc  then it is preferred under ordinary global circumscription. 
a second-order formulation of ecdc is presented in 
 rathmann 1 . the formulation is very similar to that for plain equality circumscription  and has the same number of second-order quantifier alternations. the equivalence of the second-order and model-theoretic formulations is also proven there. 
1 	extensions 
we have also devised varieties of equality circumscription that allow one to circumscribe only certain predicates  to allow selected predicates to vary  and to circumscribe with priorities. these variants change the definition of ordinary equality circumscription in the same manner as these variants change the definition of global circumscription. 
1 	conclusions 
in this paper we have shown the advantages of the use of a preference relation between models that is based on homomorphisms between models  rather than the model/submodel relationship usual in circumscription. in particular  this new preference relation allows one to prefer models of a theory in which different terms denote different objects  to the maximum extent possible. this principle of common-sense reasoning cannot be implemented using previously proposed forms of circumscription. 
1 	acknowledgments 
we would like to thank moshe vardi  joseph goguen  
phokion kolaitis  vladimir lifschitz  matt ginsberg  and ken forbus for their helpful advice. joseph goguen invented the concept of  initial model  and provided guidance on the role of category theory in semantics. phokion kolaitis helped us to understand our model theory when we found ourselves confused. moshe vardi  vladimir lifschitz and ken forbus generously volunteered to read our manuscripts  and gave valuable comments. discussions with matt ginsberg inspired example 1. 
1 	