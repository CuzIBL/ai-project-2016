 
　　　　folio is an expert system to assist portfolio managers. it interviews a client and  on the basis of expert knowledge  determines the client's investment goals and the portfolio that best meets them. folio is a test bed for a theory of heuristic reasoning about uncertainty  cohen and grinberg  1   and its task has many parallels to established al paradigms such as diagnosis in medicine and construction of a student model in icai domains. folio uses a goal programming algorithm  hillier and lieberman  1  as a relaxation method for resolving the client's multiple goals into a portfolio that fits them optimally. this paper discusses the motivations for building folio; its task  design  and operation; and examples of its recommendations. 
motivalionsfor folio 
　　　　modern portfolio theory  rudd and clasing  1; sharpe  1  is currently applied by large institutions to problems of asset allocation for large clients  such as pension funds  as well as for small  individual clients. the central idea of these applications is to divide up the clients assets between several funds that have different characteristics. the relevant characteristics of the client are the client's desired risk and return; given these  an optimum allocation of assets can be found with a quadratic programming algorithm  sharpe  1 . other characteristics of the client  besides those associated with risk and return  can enter into the problem but in practice are rarely considered. this may be because it is difficult to assess these factors accurately. the client's risk tolerance is uncertain  as is his or her tax status  asset structure  and investment goals. the information provided by the client is often incomplete and inaccurate  and sometimes it is even contradictory. thus  no matter how sophisticated an asset allocation algorithm is  its recommendations are subject to the same suspicion as the data on which they are based. 
　　　　our goal in the folio project has been to develop an asset allocation program that is sensitive to the uncertainty implicit in client data. our research takes two paths: first  our work on an expert system to interview a client and recommend a portfolio and  second  our development of a theory of heuristic reasoning about the uncertainty that arises during the interview. 
this paper discusses the expert system research. 
the asset allocation problem 
　　　　folio's tasks are to figure out what the client needs  and to allocate his or her assets. asset allocation is a simplification of the more general problem of portfolio management  because the goal is to allocate a client's assets to one or more funds of securities  rather than to individual securities. folio recognizes nine funds  or classes  of securities. these include dividendoriented  low risk stocks  government and highly rated taxable bonds of mixed maturities  tax free municipal bonds  growth stocks  and others. folio infers the client's goals during an interview and  at the end  compose:; i: portfolio of shares in each fund. this composition is guaranteed to provide an optimum fit to the client's goals. folio leaves the investment advisor free to instantiate its recommendations with particular securities. 
　　　　since asset allocation involves shares in funds of securities  folio requires only aggregate knowledge about the properties of the securities in each fund; for example  it knows the average riskiness and rate of leiurn for the entire fund  not for individual securities within it. this has three important consequences. first  the program need not know thousands of stocks and bonds individually and intimately. second  since aggregate figures change more slowly than those for individual securities  folio can be kept current without perpetually changing parameter values for large numbers of securities. third  the responsibility for security analysis rests with the investment advisor  not with folio. 
the structure of folio 
　　　　folio has three main components: a set of interview functions  a forward-chaining production system for inferring the client's goals  and a goal programming algorithm to maximize the fit of the client's portfolio to his goals. the inierview functions are very simple  distinguished only by an editor to allow the client to change his answers. since most clients are asked the same questions  each client is asked all the questions at the beginning of the consultation. 
　　　　folio uses a goal programming algorithm to maximize the fit of a portfolio to the goals that the portfolio is supposed to satisfy. goal programming is a kind of linear programming in which the ubjective function is made up of terms describing the deviations from the target values of each goal. the result is a solution that minimizes the summed deviation from all the goals. 
　　　　fourteen goals received much discussion. these include hedges  goals for different kinds of income  and goals for acceptable degrees of risk. each goal is represented by five parameters: a target value that is more desirable than any other; a 
　　　　penalty for exceeding the target value  which is a monotonically nondecreasing function of the difference between the target value and the actual value; a similar penalty for falling short of the target 
　　　　
p. cohen and m. lieberman 1 
value; a lower bound  below which the penalty becomes infinite; 
　　　　
and an upper bound  above which the penalty becomes infinite. these parameters are described by four linear constraints on each goal: 
 1  
　　　　where fi is a number that indicates whether and to what extent fund i satisfies a given goal  in this case  g1. 
	assuming 	that 	lowerbound 	  	target 	  	upperbound 
 which is always the case   if a portfolio could be found such that diff and diff + were equal to zero for every goal  that portfolio would be a perfect fit to its goals. this rarely happens  however  so  instead  one might try to find a portfolio that minimizes the sum of diff' and diff  for all goals g. in tact  an additional embellishment allows us to emphasize some goals over others: we can multiply diff f and/or diff by a number that indicates the importance of achieving goal   and try to minimize the following sum: 
		 1  
　　　　in fact  p+ and p  are just the respective penalties for exceeding and falling short of the target value for goal i. fquation 1 is minimized with a modified  two phase simplex algorithm 
 hillier and lieberman  1 . parts of the algorithm are written in franz lisp  folio's  native language    although the array pivoting procedures are pascal  foreign functions.  the algorithm takes about five minutes to produce a portfolio for a client with three or four accounts on a lightly loaded dec 1 /1. 
　　　　having discussed how folio derives a portfolio from a description of the client's goals  we now turn to the problem of inferring those goals from data collected during the interview. folio infers a client's goals with heuristic rules  two of which are shown in figure 1. 
　　　　in general  the conditions of folio's ruies test some aspect of the client's assets structure  risk status  stated goals  or tax bracket. most conclusions specify one or more goal statements. the first of the rules in figure 1 asks whether the client needs a chunk of cash in less than a year  if so  it is the judgment of folio's consulting expert that the necessary sum 
if the client needs a relatively large sum of money from this 
account in less than a year  then set the lower bound for the goal of  preserve capital  to produce the needed amount. if the client has a medium or high income need  and the client is not in a high tax bracket  and the client has low tolerance for risk to income then set the target value for taxable interest to its maximum  and set the penalty for failing to achieve the target to be proportional to the client's income need. 	figure 1: 	two of folio's rules for inferring goals 
should be invested in a fund that preserves capital  in practice  a money market fund . note that  because a lower bound is set in this example  the program will try to guarantee that at least the needed amount is invested in money market funds.1 the first rule in figure 1 explicitly mentions the client's account. in fact  most of folio's rules apply to the  current  account  which may be one of several. some rules  however  look at all the accounts at once. for example  folio would recommend that a client's portfolio produce interest in the account that is taxed the least; indeed  it encourages the client by its recommendations lo seek as much interest as possible in tax free and tax deferred accounts. 
　　　　the second rule in figure 1 illustrates the flexibility of using penalties in addition to target values for goals. folio will seek as much taxable interest as possible for a client who satisfies the conditions of the rule  but it will not be penalized severely for failing to realize the maximum figure if the client's income need is not high. rules with conclusions that are sensitive to the magnitude of a parameter in the conditions are useful when the conditions are uncertain. for example  one may be uncertain whether the client has enough interest-need to warrant the goal of maximum taxable interest. if the client says his or her interest 
   in practice  if contfadictory bounds nre set  the linear programming algorithm will be unable tu find a feasible solution. for example  if we lequire that 1% of a client's assets produce tax tree interest  and 1% produce capital gains  and 1% produce taxable interest  the lp will blow up because 1% of the client's assets are being required for three mutually exclusive goals of course  it ir. perfectly peemissable to want 1% of the asr.ets to produce dividends and 1% to produce capital gains because these aren't nuitually exclusive. in general  folio's rules set target values and penalty functions instead of bounds to avoid the problems isherent in setting inflexible bounds*. 
　　　　
1 	p. cohen and m. lieberman 
need is very high  then folio can be relatively certain that the actual interest need is at least medium  and so will set a penalty that will make it strive to achieve the maximum possible taxable interest. if. on the other hand  the client's stated interest need is medium  then folio is less certain whether it is at least medium  and so will not penalize itself so heavily for failing to achieve the maximum possible interest. 
　　　　note that the rules' conclusions do not specify funds but  rather  goals. it is the responsibility of the goal programming algorithm to make a selection of funds that best satisfy the goals. 
　　　　the current version of folio uses about 1 of these rules to infer one or more of the five parameters of each of 1 goals. many rules conclude about all five parameters of a goal. it is possible to have multiple values for a goal parameter; for example  the target value for the  preserve-capital  goal might be set to both 1% and 1% by different inference rules. currently  such conflicts are resolved by other heuristics rules; for example  if there are multiple values for p ' for a goal  the maximum of the va'ues is chosen. conflicts should be resolved by selecting the value in which folio has the most certainty  but this awaits the theory of reasoning about uncertainty discussed in cofien and grinberg 1 . 
summary and future research 
　　　　folio is an expert assistant for portfolio managers. it analyses the client's needs and suggests allocations of clients' assets to a small number of asset classes. it has three conceptually distinct parts: the first conducts an interview and produces many useful parameters  such as tax bracket  and proportion of current investments in equity . the second part uses expert  heuristic inference rules to infer the client's goals. lastly  folio uses an optimizing technique to ensure that the final portfolio comes as close as possible to satisfying the client's goals. folio's recommendations are in terms of classes of investments. the investment advisor who uses folio then implements these recommendations by buying securities that belong in the recommended classes. 
　　　　folio is as yet untested  although it is currently being run on extant accounts. the program is immune to a problem that we believe troubles human advisors  namely  forming a preconception about the client and then ignoring interview evidence that is contrary to the preconception. we expect that a program like folio could significantly increase an advisor's efficiency  and  of course  it is a natural froni end for an electronic filing system for storing client information. running alone  
overnight perhaps  it could review old accounts in the light of current economic circumstances and alert the advisor to accounts that may need adjustments in their portfolios. 
acknowledgements 
