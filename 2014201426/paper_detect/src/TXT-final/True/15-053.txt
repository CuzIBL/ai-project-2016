 
　　expertise in fault diagnosis often depends on recognizing particular patterns in observed data corresponding to situations that have previously been 1een and correctly interpreted this approach can result in significant efficiencies by avoiding a costly and detailed analysis based on the causal relationships between faults and observable data recognition-based reasoning requires highly focused search strategies in order to extract relevant information from a knowledge base that contains a large number of prototypes for various possible faults this paper describes a model of recognition-based reasoning and describes an implementation of the model. designed to solve diagnostic problems in pediatric cardiology the model first analyzes portions of the patient data to hypothesize a small set of potential diseases knowledge specific to each selected hypothesis is then used to refine these initial choices the model has been validated against actual hospital cases and performs in a manner comparable to expert physicians 
1. introduction. 
　　expertise in many diagnostic problem domains depends on both an extensive  detailed knowledge base about potential faults and their manifestations and on control structures capable of selecting only those purtions of the knowledge base likely to be relevant to the current problem we have developed a model of diagnostic reasoning for such problems which performs at expert levels through the use of three components. an initial recognition component triggers a small set of working hypotheses about a fault refinement rules  specific to each triggered hypothesis  work to accept  reject  or modify the hypothesis  or to suggest alternate hypotheses for consideration a causal model component generates precise expectations about each fault for use by the refinement rules successful diagnosis results from good first hypotheses about possible defects  efficient mechanisms for refining these hypotheses  and accurate techniques for determining the plausibility of possible defects 
     in fault diagnosis  expertise often consists of the recognition of specific situations as instances of ones that have been seen and successfully corrected in the past  1 1 . such recognition-driven expertise is baaed upon a large repertoire of domain specific knowledge in the form of rules that trigger models of possible faults. these models in turn contain expectations for testing whether a proposed model fits the conditions of an observed situation. the complexity and level of detail of this knowledge leads to serious problems with the computational complexity of search processes. our model focuses computational resources so that this detailed. prototypical knowledge can be utilized in an efficient manner 
     not all fault based task environments lend themselves to this treatment  of course. the complexity of possible defects may be such that predefined fault models cannot be constructed in such cases  more complex causal reasoning is often required 
1. problem domain. 
     the above approach to diagnostic problem solving has been demonstrated in a program we call galen galen diagnoses cases of congenital heart disease in children in this domain  galen is presented with some observable data about a circulatory system that contains one or more faults or defects. all possible defects that can occur within the circulatory system are assumed to be known in advance  as are the immediate effects they have on the rest of the system some sets of defects uniquely correspond to named diseases it is galens task to identify what disease is present  and therefore what defects are present  given this patient data. the disease whose expectations best match the observed data is selected as the final diagnosis 
1. knowledge base. 
     the knowledge base in galen consists primarily of an organized collection of hypotheses the hypotheses specify potential defects  expectations associated with these defects  and rules for refining the hypotheses or suggesting other possible hypotheses 
1. hypotheses. 
     each hypothesis has two main parts the first part is a model of the hypothesized phenomena themselves. in congenital heart disease  this is a partial model of a diseased circulatory system the models provide expectations about what should be observed if the hypothesis is true the second part is a group of production rules that describe how to investigate the truth or falsity of the hypothesis. these rules describe conditions under which a hypothesis should be accepted  rejected  or modified. they also describe when to temporarily abandon a hypothesis in favor of another 
　　three different forms of hypothesis have proven useful in diagnosing faults in the domain of congenital heart disease. category hypotheses describe groups of diseases that have some important features in common. 
for 	example  	the 	category 	hypothesis 
'diseases with increased  pbf' includes all diseases that involve increased pulmonary blood flow. the category hypothesis 'cyanotic heart disease' includes hypotheses that could explain why the patient is cyanotic. the 

models of a category hypothesis describe important expectations that are common to all its member hypotheses. the production rules in a category hypothesis deal primarily with choosing the most appropriate member hypotheses for the given situation. 
disease hypotheses describe individual diseases. 
disease hypotheses typically contain several models that represent the state of the circulatory system under several variants of the disease. these variants describe differences in severity  e.g mild aortic stenosis  moderate aortic stenosis  or the presence of significant co-occurring defects  e.g. aortic stenosis with mitral insufficiency . the production rules in a disease hypothesis act to select an appropriate variant model of the disease  in much the same way that the rules in a category hypothesis act to select an appropriate disease. 
     pathophysiological hypotheses describe individual faults within the circulatory system. they contain a sin gle model of the portion of the system that contains the fault. pathophysiological hypotheses contain rules that trigger diseases  or categories of diseases  which result from the faults they describe 
1. hierarchical structure. 
　　an important reason for the success of our model is the use of a hierarchically organized knowledge base which allows the program to consider possible diagnoses at appropriate levels of abstraction these levels range from very general  categories of diseases   to mid-range  specific diseases   to very specific  defects within diseases  
　　describing hypotheses at different levels of abstraction is important in achieving efficiency during diagnosis category hypotheses are included because some data cues suggest broad classes of hypotheses without necessarily suggesting any specific disease within the class further specification of the exact defect can then be postponed until analysis of additional data have been completed  rather than hypothesizing a disease that might have to be rejected later. we can also prune away large areas of the problem space with a minimum of effort if we can reject an entire category of hypotheses  instead of having to reject hypotheses one at a time at the other end of the spectrum  pathophysiological hypotheses are included primarily as a way to organize patient data into meaningful chunks we can use a pathophysiological hypothesis as a short form for the complex of data that led to its proposal 
     the set of all hypotheses known to galen forms a 
     search graph  in which the graph's vertices arc the hypotheses themselves and the graph's edges are production rules. a given hypothesis is  connected  to another one if the first hypothesis has a rule whose consequent specifies an operation on the second triggering a hypothesis activates its production rules  which in effect starts a search of the graph at the corresponding point. 
1. control. 
     galen contains two major procedures for recognizing defects: propose and review. together  these two procedures implement a highly focused search strategy for moving through the hierarchy of hypotheses. galen operates primarily by alternating cycles of propose and review: propose to suggest an initial place to begin searching the hypothesis graph  and review to continue the search until more data is needed. 
w. thompson et al. 1 
1. propose. 
　　the propose procedure allows initial attention to be focused into the graph of hypotheses at some appropriate point. this is done by applying rules which look for specific features of the incoming data and trigger one or more hypotheses if they are successful when a hypothesis is triggered  a specialized set of rules within the hypothesis are applied which specify the most appropriate model for the hypothesis based on an examination of the data and of other hypotheses for example  the disease hypothesis 'tetralogy of allot' will choose a model reflecting a 'severe' form of the disease if the patient is less than two months old: 

     the level of abstraction of triggered hypotheses may vary due to differences in the usefulness and specificity of data cues. for example  clubbing of the fingertips can indicate cyanosis  which would result in 'cyanotic heart disease' being triggered this is a category hypothesis that represents some six possible diseases; the cyanosis data cue alone is not powerful enough to select among them. an early diastolic murmur heard near the pulmonary valve  however  would result in the more specific hypothesis 
'insufficient pulmonary valve' being directly triggered: 

1. review. 
     once the propose procedure has identified plausible places to begin searching the graph of hypotheses  the review procedure can carry out a search from there. the review procedure compares a hypothesis' models against accumulated data  then applies rules within the hypothesis that examine the results of the comparison. these rules typically look for violated expectations in the patient data and specify new models of the original hypothesis that do not give rise to the same violations.  the rules can also accept or reject current hypotheses or trigger new ones . for example  if the disease hypothesis 'tetralogy-oliallot' detected that its model 'severe  tetraiogy' expected increased vascularity on x-ray but none was observed  a new model  'mild tetralogy' would be specified as an alternative: 

1 w. thompson et al. 
 unobtained 
　 x-ray  vascularity    then  specify rnild tetralogy   
     under some conditions  a hypothesis may have its models compared against other hypothesis' models in addition to being compared against data the decision to make this extra comparison is made by rules in the affected hypotheses themselves. such additional comparisons can be useful if there is overwhelming evidence in favor of one or more hypotheses  or if there is some important pathophysiological hypothesis that should be taken into account whenever a new hypothesis is triggered 
1. expectations 
　　a third procedure is also critical to galen's performance. the modeler uses two types of causal rules to precompile models of the circulatory system that are associated with hypotheses in the knowledge base one type of rule determines the hemodynamic results of a defect or abnormality in the circulatory system another type of rule determines the observable results of a defect or abnormality for example  a leaky valve can cause changes in flow and pressure in its vicinity hemodynamic results  as well as an audible murmur observable results . 
　　the modeler starts with a model of the normal circulatory system and adds a set of defects corresponding to those present in a specific disease. next  all relevant rules are applied to the defects  yielding a circulatory system containing new hemodynamic and observable abnormalities. rules are then applied in turn to the resulting abnormalities  until no new rules are applicable. the result is a model of how a real circulatory system would appear in the specific disease. 
1. performance. 
　　galen's knowledge base contains information sufficient to diagnose 1 congenital cardiac diseases and disease variants. it is able to respond to cases covering approximately 1% of the diseases found in the flies of the pediatric cardiology clinic at the university of minnesota heart hospital. in a typical run  galen inspects 1 pieces of patient data  distributed in the categories of history  physical examinatioa x-ray. and eikg. hypotheses are proposed as each item of data is examined. in such a run  1 specific disease models are usually considered. following the last item of data  a priority rating of these models is established  based upon the degree of fit between galen's expectations for each disease and the actual patient data values. results of validation studies carried out using patient cases from the hospital files indicate that: 1  galen is able to reach the same diagnosis as medical staff on the most common forms of congenital heart disease  1  galen is also able to reach a correct diagnosis on selected cases of congenital heart disease that were initially misdiagnosed by medical staff  and 1  the reasoning steps employed by the program and the expert diagnosticians are similar  1 . 
acknowledgements. 
galen was implemented on facilities provided by 
sumex-aim. the model of problem solving in pediatric cardiology is based on earlier work done by david b. swanson  paul johnson and james h. moller. richard m keller and robert l. sedlmeyer provided valuable assistance in the development of galen. 
bibliography 
 d.b. swanson   computer simulation of expert problem solving in medical diagnosis   ph.d. 
dissertation  university of minnesota  1. 
 j. aikins   prototypes and production rules: a knowledge representation for computer consultations   ph.d. dissertation  rep. # stan csd-1  stanford university. 1 
 f. hayes-roth  d a. waterman  d. b. lenat   principles  of pattern-directed inference systems   in pattern directed inference systems  f. hayes-roth & d. a waterman  eds.. academic press  1  pp 1 
 p. johnson  a duran  f hassebrock. j. moller  m. prietula   expertise and error in diagnostic reasoning   cognitive science  1. #1  pp 
1 
 p e johnson. f. hassebrock. 'validating computer simulation models of expert reasoning   cybernetics and systems research  north-holland publishing company  1. 
