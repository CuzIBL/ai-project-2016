 
       an organization is presented for implementing solutions to knowledge-based ai problems. the hypothesize-and-test paradigm is used as the basis for cooperation among many diverse and independent knowledge sources  ks's . the ks's are assumed individually to be errorful and incomplete. 
　　　　a uniform and integrated multi-level structure  the blackboard  holds the current state of the system. knowledge sources cooperate by creating  accessing  and modifying elements in the blackboard. the activation of a ks is datadriven  based on the occurrence of patterns in the blackboard which match templates specified by the knowledge source. 
　　　　each level in the blackboard specifies a different representation of the problem space; the sequence of levels forms a loose hierarchy in which the elements at each level can approximately be described as abstractions of elements at the next lower level. this decomposition can be thought of as an a prion framework of a plan for solving the problem; each level is a generic stage in the plan. 
       the elements at each level in the blackboard are hypotheses about some aspect of that level. the internal structure of an hypothesis consists of a fixed set of attributes; this set is the same for hypotheses at all levels of representation in the blackboard. these attributes are selected to serve as mechanisms for implementing the data-directed hypothesize-and-test paradigm and for efficient goal-directed scheduling of ks's. knowledge sources may create networks of structural relationships among hypotheses. these relationships  which are explicit in the blackboard  serve to represent inferences and deductions made by the ks's about the hypotheses; they also allow competing and overlapping partial solutions to be handled in an integrated manner. 
       the hearsay ii speech-understanding system is an implementation of this organization; it is used here as an example for descriptive purposes. 
introduction 
       this paper describes an organization for knowledgebased artificial intelligence  ai  programs. although this organization has been derived while developing several generations of speech understanding systems  we feel that it has general application to other domains of large ai problems  e.g.  vision 1 robotics  chess  natural language understanding  and protocol analysis . 
       our efforts follow from the early work of reddy  1  and reddy and vicens  vicens  1   through the hearsay! system  reddy  et a!.  1a  1b; erman  1   which was the first demonstrable connected-speech understanding system  up through the currently developing hearsayll system  erman  et ai.  1; lesser  et al.  1; fennell  1 .1 these efforts 
1 this research was supported in part by the defense advanced research projects agency under contract no. f1-c-1 and monitored by the air force office of scientific research. 
1 reddy  1  is a comparison of the speech and vision problem domains. 
1 lesser et al  1  contains a detailed description of hearsayll  including the design decisions which mark its derivation from hearsay!. 
have increasingly focused on the overall system organization for solving the problem; this has resulted in the design and construction of a sophisticated and structured environment within which problem-solving strategies are developed. others working in this area also consider this aspect important.* the hearsayll system will be used here as the primary example for describing the organization. 
	the 	problem 
       the class of ai problem that is addressed in this paper is characterized by having a large problem space and the requirement of a large amount of knowledge for its solution. the large amount of explicit knowledge differentiates these problems from other al areas  e.g.  theorem-proving  in which very general  weak  methods are applied using meager amounts of built-in knowledge  newell  1 . further  the knowledge needed covers a wide and diverse set of areas  some examples in the speech understanding problem are signal analysis  acoustic-phonetics  phonology  syntax  semantics  and pragmatics . we call each such area a know ledge-source  ks  and also define a ks to be an agent which embodies the knowledge of its area and which can take actions based on that knowledge. 
       the sources of knowledge are often incomplete and approximate. this errorful nature may be traced to three sources: first  the theory on which the ks is based may be incomplete or incorrect. for example  modern phonological theories  as applied to the speech problem  are often vague and incomplete. second  the tmpumentation of a ks may be incomplete or incorrect; this may be caused by an incorrect translation of the theory to the program or by an intentionally heuristic implementation of the theory. finally  the knowledge source may be operating on incorrect or incomplete data 
supplied to it by other ks's.1 
       as one knowledge source makes errors and creates ambiguities  other ks's must be brought to bear to correct and clarify those actions. thts ks cooperation should occur as soon as possible after the introduction of an error or ambiguity in order to limit its ramifications. 
       a mechanism for providing thts high degree of cooperation is the hypothetize-and-test paradigm. in this paradigm  solution-finding is viewed as an iterative process. each step in the iteration involves a  the creation of an hypothesis  which is an  educated guess** about some aspect of 
1 newell  et al.   1  contains an excellent in-depth study of the speech understanding problem. the current state-of-theart is represented in the papers of the 1 ieee symposium on speech recognition  erman  1b; reddy  1 . in particular  barnett  1  1   and rovner  et al   1  also describe htghly structured systems; baker  1  has a highly structured system based on a simple markov model. 
1 for the purposes of this discussion  a ks can be considered static; i.e.  whether a ks learns from experience is an issue that is orthogonal to this organization. 
1 this may also include externally supplied data  e.g.  the digitized acoustic wave-form which is the input to the speech-understanding system ; the transducers of these data can be considered to be ks's which also introduce error. 
1 

the problem  and b  a test of the plausibility of the hypothesis. both of these steps use a priori knowledge about the problem  as well as the previously generated hypotheses. this iterative guess-building terminates when a consistent hypothesis is generated which satisfies the requirements of an overall solution. 
       as a strategy for developing such systems  one needs the ability to add and replace sources of knowledge and to explore different control strategies. thus  such changes must be relatively easy to accomplish; there must also be ways to evaluate the performance of the system in general and the roles of the various knowledge sources and control strategies in particular. this ability to experiment conveniently with the system is crucial if the amount of knowledge is large and many people are needed to introduce and validate it. one means of helping to provide these flexibilities is to require that ks's be independent. 
       because the problems are large and require many computation steps for their solution  the system must be efficient in its computation. this must be certainly true for a  production  application system; however  it must also be reasonably efficient in the development versions because of the experimental way that a complex  knowledge-based system is developed. that is  many iterative runs over a significant amount of test data must be made to develop and evaluate the knowledge sources and control strategies. 
	model 	for 	cooperation 	of 	knowledge 	sources 
       the requirement that knowledge sources be independent implies that the functioning  and very existence  of each must not be necessary or crucial to the others. on the other hand  the ks*s are required to cooperate in the iterative guessbuilding  using and correcting one another's guesses; this implies that there must be interaction among the processes. these two opposing requirements have led to a design in which each ks interfaces to the others externally in a uniform way that is identical across ks's and in which no knowledge source knows what or how many other ks's exist. the interface is implemented as a dynamic global data structure  called the 
blackboard. 1 the primary units in the blackboard are guesses about particular aspects of the problem; these units  which have a uniform structure throughout the blackboard  are called hypotheses. at any time  the blackboard holds the current state of the system; it contains all the guesses about the problem that exist. subsets of hypotheses represent partial solutions to the entire problem; these may compete with the partial solutions represented by other  perhaps overlapping  subsets. 
       each knowledge source may access any information in the blackboard. each may add information to the blackboard by creating  or deleting  hypotheses  by modifying existing hypotheses  and by establishing or modifying explicit structural relationships among hypotheses  the generation and modification of globally accessible hypotheses is the exclusive means of communication among the diverse ks's. this mechanism of cooperation  which is an implementation of the hypothesize -and-test paradigm  allows a ks to contribute knowledge without being aware of which other ks's will use the information or which ks supplied the information that it used. it is in this way that knowledge sources are made independent and separable. the structural relationships  which are mentioned above and which will be described below  form a network of the hypotheses and are used to represent the deductions and inferences which caused a ks to generate one 
1 the term  blackboard  was used by simon  1  in describing a mechanism in long-term memory as part of a 
theory of the psychology of problem-solving. simon  1  further develops this concept and elaborates its uses in the context of an abstract model for problem-solving. 
hypothesis from others. the explicit retention in the blackboard of these dependency relationships is used to hold  among other things  competing hypotheses. because these are held in an integrated manner  selective backtracking for error recovery and other search strategies can be implemented in an efficient and non-redundant way. 
	decomposition 	of 	knowledge 
	the 	decomposition 	of 	the 	overall 	task 	into 	various 
knowledge sources is regarded as being natural; i.e.  the units of the decomposition represent those pieces of knowledge which can be distinguished and recognized as being somehow naturally independent. such a scheme of  inverse decomposition   or  composition  seems very natural for many problem-solving tasks  and it fits well into the hypothesize-andtest approach to problem-solving. as long as a sufficient  covering set  of knowledge areas required for problem solution is maintained  one can freely add new knowledge sources  or replace or delete old ones. each knowledge source is selfcontained  but each is expected to cooperate with the other knowledge sources that happen to be present in the system at that time. 
       a knowledge source is specified in three parts: a  the conditions under which it is to be activated  tn terms of the conditions in the blackboard in which it is interested   b  the kinds of changes it makes to the blackboard  and 1  a procedural statement  program  of the algorithm which accomplishes those changes. a knowledge source is thus defined as possessing some processing capability which is able to solve some subproblem  given appropriate circumstances for its activation. 
	activation 	of 	knowledge 	sources 
       a knowledge source is instantiated as a knowledgesource process whenever the blackboard exhibits characteristics which satisfy a  precondition  of the knowledge source. a precondition of a ks is a description of some partial state of the blackboard which defines when and where the ks can contribute its knowledge by modifying the blackboard. the ks contributes its knowledge through the mechanism of making hypotheses and evaluating and modifying the contributions of other knowledge sources  by verifying and rating or rejecting the hypotheses made by other knowledge sources . a ks carries out these actions with respect to a particular context  the context being some arbitrary subset of the previously generated hypotheses in the blackboard. thus  new hypotheses or modifications to existing hypotheses are constructed from the  static  knowledge of the ks and the educated guesses made at some previous time by other knowledge sources. 
       the modifications made by any given knowledge-source process are expected to trigger further knowledge sources by creating new conditions in the blackboard to which those knowledge sources  in turn  respond. the structure of a hypothesis is so designed as to allow the preconditions of most 
ks's to be sensitive to a single  simple change in some hypothesis  such as the creation of a new hypothesis of a particular type  a change of a rating  or the creation of a 
structural link between particular kinds of hypotheses . through this data-directed interpretation of the hypothesize-
1 the approach taken in knowledge source decomposition is not an attempt to characterize somehow the overall problem 
solution process and then apply some sort of traffic flow analysis to its internal workings in order to decompose the total process into minimally interacting knowledge sources. rather  knowledge sources are defined by starting with some intuitive notion about the various pieces of knowledge which could be incorporated in a useful way to help achieve a solution. 
1 

and-test paradigm  ks's can also exhibit a high degree of asynchronous activity and potential parallelism. 
       control schemes in which one ks explicitly invokes other ks's are not appropriate because of the requirement that ks's be independent and because the invocatron of a ks may depend on a complex set of conditions which is created by the combined actions of several ks's. further  such direct-calling schemes complicate ks's by requiring that they contain information about the ks's that they will call. these same arguments apply against a centralized control scheme which is explicitly predefined   wired-in   for a particular set of ks's. 
decomposition 	of 	the 	blackboard 
　　　　the blackboard is partitioned into distinct information levels; each level is used to hold a different representation of the problem space.  examples of levels in the speech problem are  syntactic    lexical    phonetic   and  acoustic ; examples in scene analysis are  picture point    line segment    region   and  object   associated with each level is a set of primitive elements appropriate for representing the problem at that level.  in the speech system  for example  the elements at the lexical level are the words of the vocabulary to be recognized  while the elements at the phonetic level are the phones  sounds  of english.  each hypothesis exists at a particular level and is labeled as being a particular element of the set of primitive elements at that level. 
       the decomposition of the problem space into levels is a natural parallel to the decomposition into ks's of the knowledge that is to be brought to bear. for many ks's  the ks needs to deal with only one or a few levels to apply its knowledge; it need not even be aware of the existence of other levels. thus  each ks can be made as simple as its knowledge allows; its interface to the rest of the system is in units and concepts which are natural to it. also  new levels can be added as new sources of knowledge are designed which need to use them. finally  it will be shown that the multi-level representation allows for efficiently sequencing the activity of the ks's in a non-deterministic manner and for making use of multiprocessing. 
　　　　the sequence of levels forms a loose hierarchical structure in which the elements at each level can approximately be described as abstractions of elements at the next lower level.  for example  an utterance is composed of phrases  which are made of words  put together as syllables  each of which can be described as a sequence of phones  each of which is composed of acoustic segments  each of which can be described by a sequence of ten-millisecond intervals with certain kinds of acoustic characteristics.  
       most of the relationships of a hypothesis are with hypotheses at its level or adjacent levels; further  these relationships can usually be derived  by a ks appropriate to the level  without having to delve below the level of abstraction of 
1 one might think of this model for data-directed activation of ks's as a production system  newell  1  which is executed asynchronously. the preconditions correspond to the lefthand sides  conditions  of productions  and the knowledge sources correspond to the right-hand sides  actions  of the productions. conceptually  these left-hand sides are evaluated continuously. when a precondition is satisfied  an instantiation of the corresponding right-hand side of its production is created; this instantiation is executed at some arbitrary subsequent time  perhaps subject to instantiation scheduling constraints  it is interesting to note that this generalized form ot hypothesize-and test leads to a system organization with some characteristic!; also similar to qafl  rulifson  ct at.  1  and plannlr  hewitt  1    in particular  thorp are strong similarities in the data-directed sequencing of processes 
1 many of the ideas here fit neatly into simon's description of a  nearly decomposable hierarchical system   simon  1 . 
the hypothesis. this locality of context simplifies the function of knowledge sources.  or from the other point of view  the decomposition of knowledge into sufficiently simple-acting ks's also simplifies and localizes relationships in the blackboard. 1 
       the decomposition of the blackboard into distinct levels of representation can also be thought of as an a priori framework of a plan for problem-solving. each level is a 
       generic stage in the plan. the goal at each level is to create and validate hypotheses at that level. the overall goal of the system is to create the most plausible network of hypotheses that sufficiently covers the levels.  'plausible' and 'sufficiently' here mean  plausible and sufficient in the judgment of the knowledge sources .  in speech understanding  for example  the goal at the phonetic level is a phonetic transcription of the utterance  white the overall goal is a network which connects hypotheses directly derived from the acoustic input to hypotheses which describe the semantic content of the utterance. 
　　　　the creation or modification of an hypothesis which is based on a context of hypotheses at a lower level  or levels  can be considered an action of synthesis  or abstraction; conversely  manipulations of an hypothesis based on a higher level context can be considered analysis  or elaboration. in order to reduce the propagation and accumulation of errors caused by ks's  both kinds of action are needed in the system.1 
       because of the choice of decomposition  the context for an analysis or synthesis action is usually localized to the level just above or below the level at which the action takes place. however  this is not a requirement; in fact  an action which skips over several levels can serve strongly to direct the activity of the system and thereby significantly prune the search space. such a jump over levels is equivalent to constructing a major step m a plan. further  there is no requirement that a jump necessarily be filled in completely  or even partially  if ks's are confident enough in the consistency of the larger step. thus  the ks's can dynamically define the granularity in the hypothesis network necessary to assure the desired degree of consistency  this granularity may vary at different places tn the blackboard  depending on the particular structures that occur. 
appendix a contains a description of the blackboard and 
ks decompositions for the hearsayll speech-understanding system. 
hypotheses: 	structure 	and 	interrelationships 
       the internal structure of an hypothesis consists of a fixed set of attributes  named fields ; this set is the same for hypotheses at all levels of representation in the blackboard. these attributes are selected to serve as mechanisms for implementing the data-directed hypothesize-and-test paradigm.1 
the values of the attributes are defined and modified by the 
ks's. 
attributes can be grouped into several classes: 
1 this simplification of form and interaction is an expected characteristic of a nearly decomposable hierarchical system 
 ibid. . 
1 the use of the terms 'analysis' and 'synthesis' here are reversed from their usual uses in the speech recognition domain. traditionally  'synthesis' means going from a higherlevel representation  e.g.  lexical  to the speech signal  while analysis refers to the other direction. in speech recognition  however  the objective is the synthesis of a meaning for the utterance from the pieces of data which make up the speech signal 
1 in hearsayll  a ks can specify particular attributes of hypotheses at particular levels which it wants to have monitored. whenever a change is made to one of these monitored attributes  the ks can be activated and notified of the nature of the change. the section below on  datadirected activation of knowledge sources  contains a more complete description of this process. 

1 

   the first class of attributes names the hypothesis: it contains the unique name of the hypothesis  the name of its level  and its label from the element set at that level. 
   the next class of attributes is composed of parameters which rate the hypothesis. these include separate numerical ratings derived from a  a priori information about the hypothesis  b  analysis actions performed on the hypothesis  c  synthesis actions  and d  combinations of  a    b   and  c . 
   another set of attributes contains information about ks attention to the hypothesis. these include a cumulative measure of the amount of computation that has already been expended on the hypothesis as well as suggestions for how much more processing should occur and of what type  e.g.  a general request for analysis or synthesis or a specific request for a change to some attributes. these suggestions are goals. . 
   one very important set of attributes describes the structural relationships with other hypotheses  as described below. 
   for each problem domain  it is likely that there are other attributes which ere basic to the problem and which should be provided in the structure of the hypotheses; these form a problem - spacific class of attributes. in speech understanding  for instance  time is a fundamental concept  so the hearsayii system has a class of attributes for describing the begin- and end-time and the duration of the event which the hypothesis represents.  these attributes include ways of explicitly representing fuzzy notions of the times.  for vision  likely attributes would include the location and dimension of the element and trajectory information for moving objects. 
   the capability for arbitrary ks-spectftc attributes is also included. this can be used by a ks to hold arbitrary information about the hypothesis; in this way a ks need not hold state information about the hypothesis across activations of the ks and allows  for example  the easy implementation of generator functions. if several ks's share knowledge of the name of one of these attributes  each of them can access and modify the attribute's value and thus communicate just as if it were a  standard  attribute; this can be used as an escape mechanism for explicit ks intercommunication. 
   a unique class of hypothesis attributes  called processing state attributes  contains succinct summaries and classifications of the values of the other attributes. for example  the values of the rating attributes are summarized and the hypothesis is classified as either  unrated    neutral   noncommittal    verified    guaranteed   strongly verified and unique   or  rejected . other processing state attributes summarize the structural relationships with other hypotheses and characterize  for example  whether the hypothesis has been  sufficiently and consistently  described synthetically  i.e.  as an abstraction of hypotheses at lower levels . the processing state attributes are especially useful for efficiently triggering knowledge sources; for example  a ks may specify in its precondition that it is to be activated whenever a hypothesis at a particular level becomes  verified . these attributes are also used for the goal-directed scheduling of knowledge sources  as described in the next section. 
       given a specific hypothesis  a ks can examine the value of any of its attributes. a knowledge source also needs the ability to retrieve sets of hypotheses whose attributes satisfy conditions in which the ks is interested. {e.g.  a ks in the speech system may want to find all hypotheses at the phonetic level which are vowels and which occur within a particular time range.  the system provides an associative retrieval search mechanism for accomplishing this. the search condition is specified by a matching-prototype  which is a partial specification of the components of a hypothesis. this partial specification permits a component to be characterized by: a  a set of desired values or b  a don't-care condition. a matchingprototype is applied to a set of hypotheses;' those hypotheses whose component values match those specified by the matching-prototype are returned as the result of the search.  associative retrieval of structural relationships among hypotheses is also provided.  more complex retrievals can be accomplished by combining the retrieval primitives in appropriate ways. 
       structural relationships between nodes  hypotheses  in the blackboard are represented through the use of links; links provide a means of specifying contextual abstractions about the relationships of hypotheses. a link is an element which associates two hypotheses as an ordered pair; one of the nodes is termed the upper hypothesis  and the other is called the lower hypothesis. the lower hypothesis is said to support the upper hypothesis while the upper hypothesis is called a use of the lower one; in general  the lower hypothesis is at the same or a lower level in the blackboard than the upper hypothesis. 
       there are several types of links  with the types describing various kinds of relationships. consider this structure: 

hi is the upper hypothesis and hz  h1  and h1 are the lower hypotheses of links l1  1  and l1  respectively. if the links are all of type or  the interpretation is that hi is either an h1 or an h1 or an h1. this is one way that alternative descriptions are possible. if the links in the figure are of type and  the interpretation is that all of the lower hypotheses are necessary to support the existence of h1.  note that  in general  all of the supporting  lower  links of a hypothesis are of the same type; one can thus talk of the  type of the hypothesis   which is the same as the type of all of its lower links.  
       these two types of node represent different kinds of abstractions: the or-node specifies a set/member relationship while the and-node defines a composition abstraction. variants of the and- and or-links are also possible. for example  a sequence link is similar to the and-link except that an ordering is implied on the set of lower hypotheses supporting the upper hypothesis.  for the hearsayll speech understanding system  this ordering usually is interpreted as indicating a time ordering of the lower hypotheses.  
       besides showing analysis and synthesis relationships between hypotheses  e.g.  that one hypothesis is composed of several other units   a link is a statement about the degree to which one hypothesis implies  i.e.   gives evidence for the existence of   another hypothesis. the strength of the implication is held as attributes of the link. the sense of the implication may be negative; that is  a link may indicate that one 
1 this set can be derived by the ks from several sources. the hearsayll implementation includes the following primitive sources: a  all hypotheses  in the blackboard   b  all hypotheses at a particular level  c  all hypotheses at a particular level whose time attributes overlap a given interval  this provides an extremely efficient  two-dimension partition of the blackboard   and d  all hypotheses whose attributes which are being monitored  for the ks  have changed. 
1 the particular kinds of relationships described here are some of those that were were designed for the speech problem. although they undoubtedly are not the complete set for all conceivable needs  they do represent the kindt o' relationships that need to be and are expressable in the blackboard. 
1 
hypothesis is evidence for the invalidity of another. this statement of implication may be bi-directional; the existence of the upper hypothesis may give credence to the existence of the lower hypothesis and vice versa. finally  these relationships can be constructed in an iterative manner; links can be added between existing hypotheses by ks's as they discover new evidence for support. 
       just as an hypothesis can have more than one lower link  so it can have several upper links. each of these represents a different use of the hypothesis; the uses may be competing or complementary. the ability to have multiple uses and supports of the same hypothesis  as opposed to creating duplicates for each competing use and abstraction  serves to keep the blackboard compact and thereby reduces the combinatory explosion in the search space. further  since all the information about the hypothesis is localized  all uses and supports of the hypothesis automatically and immediately share any new information added to the hypothesis by any knowledge sources. 
       a problem with this localization can occur if the interactions between hypotheses span more than one level. in this case  a particular support of the hypothesis  at a lower level  may be inconsistent with one  or more  of the uses of the hypothesis  at a higher level  but is consistent with other uses  or potential uses  of the hypothesis. in order to avoid duplicating the hypothesis  a mechanism  called a connection matrix  exists in the system. a connection matrix is an attribute of a hypothesis; its value specifies which of the alternative supports of the hypothesis are applicable   connected to   which of its uses. the use of a connection matrix allows the results of previous decisions of ks's to be accumulated for future use and modification without necessitating contextual duplication of parts of the data base. this kind of reusage and multiple usage of blackboard structures  which results in localization of information  reduces much of the expensive backtracking that characterizes many problem-solving systems. 
       appendix b contains an example of a structure built in the blackboard of the hearsayll system. 
goal-directed 	scheduling 	of 	knowledge 	sources 
       as described earlier  the overall goal of the system is to create the most plausible network of hypotheses that sufficiently spans the levels. at any instant of time  the blackboard may contain many incomplete networks  each of which is plausible as far as it goes. some of these incomplete networks may also share subnetworks. through the results of analysis and synthesis actions of knowledge sources  incomplete networks can be expanded  or contracted  and may be joined together  or fragmented . at any time  there may be many places in the blackboard which satisfy the  precondition  contexts for the activation of particular ks*s. the task of goal-
directed scheduling is to decide to which of these sites to allocate computing resources. 
       several of the attribute classes of a hypothesis can be helpful in making scheduling decisions. particularly valuable are the values of the attention attributes  which  as described earlier  are indicators telling how much computation has been expended on the hypotheses and suggestions by ks's of how desirable it is to devote further effort on the hypothesis  along with the kinds of processing that are desirable . the processing state attributes are also valuable for making scheduling decisions. 
       using these kinds of information  a knowledge source might be scheduled for execution because it possesses the only processing capability available to be applied to an important incompletely explored area of the blackboard for example  if 
1 again  this fits well into simon's formulation of hierarchical systems. 
the blackboard contains focusing factors1 which highlight activity in a blackboard region in which there are no structural connections between two adjoining levels  the scheduler should give a higher priority to a knowledge source which will attempt  as indicated in its external specifications  to make such a connection than to a knowledge source which is likely merely to perform a minor refinement on the ratings in one of the levels. however  if there are no such processes ready to execute  the scheduling algorithm can perform a type of means-ends analysis in which it schedules those knowledge sources which are likely to produce blackboard changes which  in turn  might trigger the activation of ks's in which the system is currently interested 
       another parameter for determining ks activation priority is the validity of the hypotheses which make up the context for the activation of the ks. this measurement can be used to implement a best-first strategy. 
       the implementation of the goal-directed scheduling strategy is separated from the actions of individual knowledge sources. that is  the decision of whether a ks can contribute in a particular context is local to the ks  while the assignment of that ks to one of the many contexts on which it can possibly operate is made more globally. the three aspects of a  decoupling of focusing strategy from knowledge-source activity  b  decoupling of the data environment  blackboard  from the control flow  ks activation   and c  the limited context in which a ks operates  together permit a quick refocusing of attention of ks's. the ability to refocus quickly is very important because the errorful nature of the ks activity leads to many incomplete and possibly contradictory hypothesis networks; thus  as soon as possible after a network no longer seems promising  the resources of the system should be employed elsewhere. 
implementation of dat a-dihected knowledgesource activation 
       associated with every knowledge source is a specification of the blackboard conditions required for the activation of that knowledge source. this specification  called a precondition  is a decision procedure whose tests are matching-prototypes and structural relationships which  when applied to the blackboard in an associative manner  detect the regions of the blackboard in which the knowledge source is interested. this procedure may contain arbitrarily complex decisions  based on current and past modifications to the blackboard  resulting in the activation of desired knowledge sources within the chosen contexts. the context corresponding to the discovered blackboard region which satisfies some knowledge source's precondition is used as an initial context in which to activate that knowledge source. the efficiency of the ks precondition evaluation is an important aspect of the system's implementation  especially as the knowledge is decomposed into more and smaller ks's and each ks activation requires less computation. 
	the 	hearsayll 	system  	as 	an 	example 	of 	an 
implementation  makes precondition evaluation efficient by placing additional functions in the routines which modify the blackboard these functions are activated whenever any ks modifies an attribute in the blackboard which some other ks has asked to be monitored. the essence of the modification is preserved in a data structure  called a change set  which is 
1 a focusing factor is a goal  attention attribute  attached to a hypothesis by a ks which indicates the kind of change desired in an attribute of the hypothesis and the desirability of the change. in addition  such goals may be specified for regions of the blackboard independent of the existence of hypotheses in the region. 
1 the ideas of goal-directed scheduling are presented here only sketchily; hayes-roth et al  1  provides a complete description of its use in the hearsayll system. 

1 

specific to the attribute changed and the ks which requested the monitoring. a ks specifies in a non-procedural way  either statically or dynamically  those attributes which it wants to monitor  in order to increase the efficiency  monitoring can further be localized to particular levels or even individual hypotheses. 
change sets serve to categorize blackboard modifications 
 events  and are thus useful in precondition evaluation since they iimit the areas in the blackboard that need be examined in detail. as currently implemented in hearsayll  the precondition evatuator of each knowledge source exists as a separate process which monitors changes in the data base  i.e.  it monitors additions to those change sets in which the ks is interested . the precondition process is itself data-directed tn that it is activated only when sufficient changes have been made in the blackboard  i.e.  when an entry is made into one of its change sets  as a side-effect of a relevant blackboard modification . in effect  the precondition processes themselves have preconditions  albeit of a much simpler form than those possible for knowledge sources. for example  a precondition process in the speech system may specify that it should be activated whenever changes occur to two adjacent hypotheses at the word level or whenever support is added to the phrasal level. by using the  coarse  classifications afforded by change sets  the system avoids most unnecessary executions of the precondition processes the major point is that the scheme of precondition evaluation is event-driven  being based on the occurrence of changes in the blackboard; i.e.  it is only at points of modification to the blackboard that a precondition that was previously unsatisfied may become satisfied. in particular  precondition evaluators are not involved in 1 form of busy waiting in which they are constantly looking for something that is not yet there. 
       once invoked  a precondition procedure uses sequences of associative retrievals and structural matches on portions of the blackboard in an attempt to establish a context satisfying the preconditions of one or more of  its  knowledge sources; any given precondihon procedure may be responsible for instantiating several  related  knowledge sources. notice that the data-directed nature of precondition evaluation and knowledge-source activation is linked closely to the primitive functions that are able to modify the data base  for it is only at points of modification that a precondition that was unsatisfied before may become satisfied hence  data base modification routines have the responsibility  although perhaps indirectly  of activating the precondition evaluation mechanism. 
implementation 	on 	parallel 	computers 
       because of the independence of ks's and their datadirected activation  there is a great deal of potential parallelism in this organization. trends in computer architecture indicate that large amounts of computing power will be economically realized in asynchronous multiprocessor networks. thus  the implementation of such large ai programs on multiprocessors becomes an attractive goal. there are  however  a set of issues in such an implementation; most of these deal with interference among ks*s when they attempt simultaneously to access the blackboard. effective solutions to these problems have been developed in the hearsayll implementation; lesser  et a/.   1   lesser  1   fennell  1   and fennell and lesser  1  describe these solutions. 
acknowledgments 
       we wish to acknowledge the contributions of the following people: richard fennell for his major role in the development of hearsay i and ii  and  in particular  the multiprocessing aspects of the system organization  and for helpful suggestions for this paper  raj reddy for many of the 
basic ideas which have led to the organization described here allen newell for his insights into the task of problem-solving gregory gill for his untiring efforts in system implementation and frederick hayes-roth for suggestions for this paper. 

parametric level - the parametric level holds the most baste representation of the utterance that the system has; it is the only direct input to the machine about the acoustic signal. several different sets of parameters are being used in hearsayll interchangeably: 1-octave filter-band energies measured every 1 msec  lpc-denved vocal-tract parameters  and wide-band energies and zero-crossing counts. 
seemental level - this level represents the utterance as labeled acoustic segments. although the set of labels may be phonetic-like  the level is not intended to be phonetic ~- the segmentation and labeling reflect acoustic manifestation and do not  for example  attempt to compensate for the context of the segments or attempt to combine acoustically dissimilar segments into  phonetic  units. as with all levels  any particular portion of the utterance may be represented by more than one competing hypothesis  i.e.  multiple segmentations and labelings may co-exist . 
phonetic level - at this level  the utterance is represented by a phonetic description. this is a broad phonetic description in that the size  duration  of the units is on the order of the  size  ot phonemes; it is a fine phonetic description to the extent that each element is labeled with a fairly detailed allophonic classification  e.g.   stressed  nasalized  i   . 
surface-phonemic level - this level  named by seemingly contradicting terms  represents the utterance by phonemelike units  with the addition of modifiers such as stress and boundary  word  morpheme  syllable  markings. 
syllabic level - the unit of representation here is the syllable. 
lexical level - the unit of information at this level is the word. 
phrasal level - syntactic elements appear at this level  tn fact  since a level may contain arbitrarily many  sub-levels  of elements using the and and or links  traditional kinds of syntactic trees can be directly represented here. 
conceptual level - the units at this level are  concepts   as with the phrasal level  it may be appropriate to use the graph structure of the data base to indicate relationships among different concepts. 
       as examples of knowledge sources  figure 1 shows the first set implemented for hearsayll. the levels are indicated as horizontal lines in the figure and are labeled at the left. the knowledge sources are indicated by arcs connecting levels; the starting point s  of an arc indicates the level s  of major  input  for the ks  and the end point indicates the  output  level where the knowledge source's major actions occur. in general  the 
1 appendices a and b are reprinted  with slight modifications  from lesser  et a   1 ; they are included here for convenience. 
1 

action of most of these particular knowledge sources is to create links between hypotheses on its input level s  and: 1  existing hypotheses on its output level  if appropriate ones are already there  or 1  hypotheses that it creates on its output level. 
	figure 1. 	a set of knowledge sources for hearsay!!. 
the segmenter-classifier knowledge source uses the description of the speech signal to produce a labeled acoustic segmentation. for any portion of the utterance  several possible alternative segmentations and labels may be produced. 
the phone synthesizer uses labeled acoustic segments to generate elements at the phonetic level. this procedure is sometimes a fairly direct renaming of an hypothesis at the segmental level  perhaps using the context of adjacent segments. in other cases  phone synthesis requires the combining of several segments  e.g.  the generation of ft  from a segment of silence followed by a segment of aspiration  or the insertion of phones not indicated directly by the segmentation  e.g.  hypothesizing the existence of an  i  if a vowel seems velanzed and there is no  i  in the neighborhood . this ks is triggered whenever a new hypothesis is created at the segmental level. 
the 	word candidate 	generator 	uses 	phonetic 	information 
 primarily just at stressed locations and other areas of high phonetic reliability  to generate word hypotheses. this is accomplished in a two-stage process  with a stop at the syllabic level  from which lexical retrieval is more effective. 
the semantic word hypothesizer uses semantic and pragmatic information about the task  news retrieval  in this case  to predict words at the lexical level. 
the syntactic word hypothesizer uses knowledge at the phrasal level to predict possible new words at the lexical level which are adjacent  left or right  to words previously generated at the lexical level. this knowledge source is activated at the beginning of an utterance recognition attempt and  subsequently  whenever a new word is created at the lexical level. 
the phoneme hypothesizer knowledge source is activated whenever a word hypothesis is created  at the lexical level  which is not yet supported by hypotheses at the 
surface-phonemic level. its action is to create one or more sequences at the surface-phonemic level which represent alternative pronounciations of the word.  these pronounciations are currently pre-specified as entries in a dictionary   
the phonological rule appher rewrites sequences at the surface-phonemic level- this ks is used: 1  to augment the dictionary lookup of the phoneme hypothesizer  and 1  to handle word boundary conditions that can be predicted by rule. 
the phone-phoneme synchronizer is triggered whenever an hypothesis is created at either the phonettc or the surface-phonemic level. this ks attempts to link up the new hypothesis with hypotheses at the other level. this linking may be many-to-one in either direction. 
the syntactic parser uses a syntactic definition of the input language to determine if a complete sentence may be assembled from words at the lexical level. 
the primary duties of the segment-phone synchronizer and the parameter-segment synchronizer are similar: to recover from mistakes made by the  bottom-up  actions of the phone synthesizer and segmenter-oassiher  respectively  by allowing feedback from the higher to the lower level. 
       in addition to the knowledge source modules described above  all of which embody speech knowledge  several policy modules exist  these modules  which interface to the system in a manner identical to the speech modules  execute policy decisions  e.g.  propagation of ratings and calculation of processing-state attributes. 

figure 1 is an example of a fragment that might occur in 
hearsaylts blackboard. the level of an hypothesis is indicated by its vertical position; the names of the levels are given on the left. time location is approximately indicated by horizontal placement  but duration is only very roughly indicated  e.g.  the boxes surrounding the two hypotheses at the phrasal level should be much wider . alternatives are indicated by proximity; for example  'will' and 'would' are word hypotheses covering the same time span likewise  'question' and 'modal-quest ion'  'youl' and 'you1' and 'j' and 'y' all represent pairs of alternatives. 
       this example illustrates several features of the data structure: 
   the hypothesis 'you ' at the lexical level  has two alternative phonemic  spellings  indicated; the hypotheses 
1 

labeled 'you1' and 'you1' are nodes created  also at the lexical level  to hold those alternatives. in general  such sublevels may be created arbitrarily. 
	the 	link between 'youl' and 'd' is 	a special 	kind of 
sequence link  indicated here by a dashed line  called a context link; a context link indicates that the lower hypothesis supports the upper one and is contiguous to its brother links  but it is not  part of  the upper hypothesis in the sense that it is not within the time interval of the upper hypothesis -- rather  it supplies a context for its brother s . in this case  one may  read  the structure as stating   y o u 1 ' is composed of 'j' followed by 'ax*  schwa  in the context of the preceding 'd'   this reflects the phonological rule that  would you  is often spoken as  woutd-ja   thus  a context link allows important contextual relationships to be represented without violating the implicit time assumptions about sequence nodes. 
whereas the phonemic spelling of the word  you  held by 
'yout includes a contextual constraint  the 'you1* option does not have this constraint. however  'you1' and 'you1' are such similar hypotheses that there is strong reason for wanting to retain them as alternative options under 'you'  as indicated in figure 1   rather than representing them unconnectedly. a connection matrix is used here to represent this kind of relationship; the connection matrix of 'you'  symbolized in figure 1 by the 1-dimensional binary matrix in the node  specifies that support 'you1' is relevant to use 'question'  but not to 'modal-question'  and that support 'you1' is relevant to both uses. 
       the nature of the implications represented by the links provides a uniform basis for propagating changes made in one part of the data structure to other relevant parts without necessarily requiring the intervention of particular knowledge sources at each step. considering the example of figure 1  assume that the validity of the hypothesis labeled '/ is modified by some ks  presumably operating at the phonetic level  and becomes very low. one possible scenario for rippling this change through the data base is given here: 
first  the estimated validity of ' y o u 1 ' s reduced  because 
'j' is a lower hypothesis of 'youl' 
this  in turn  may cause the rating of *y＜u' to be reduced. 
the connection matrix at 'you' specifies that 'youl' is not relevant to 'modal-question; so the latter hypothesis is not affected by the change in rating of the former. notice that the existence of the connection matrix allows this decision to be made locally in the data structure  without having to search back down to the 'd' and 'x 
'question  however  is supported by 'youl*  through the connection matrix at 'you'   so its rating is affected. 
   further propagations can continue to occur  perhaps down the other sequence links under 'question' and 'you1' notice that all of these modifications are  speech-knowledge independent  and can be accomplished uniformly at all levels of the blackboard by a single policy knowledge source. this policy ks does not need to access or trigger any other ks but can directly derive all the information it needs from the hypothesis and link fields that are uniformly present and from the implicit semantics of the structures in the blackboard. 
