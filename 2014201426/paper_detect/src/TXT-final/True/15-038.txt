 
the n e t w o r k d i a g n o s t i c system  nds  is an arby based e x p e r t system f o r f a u l t i s o l a t i o n i n a nationwide communications network  comnet . due to b o t h t h e s t r u c t u r e and f u n c t i o n o f t h e n e t w o r k   f a i l u r e s i n comnet are o f t e n m u l t i p l e component f a i l u r e s   e i t h e r dependent o r i n d e p e n d e n t   o r i n t e r m i t t e n t f a i l u r e s . the m a i n t e n a n c e p r o c e d u r e f o r i s o l a t i n g and c o r r e c t i n g f a u l t s i n comnet e x p l o i t s m u l t i p l e t y p e s o f k n o w l e d g e   i n c l u d i n g t h e t o p o l o g i c a l s t r u c t u r e o f comnet  g e o g r a p h i c 
o r g a n i z a t i o n   a n d f r e q u e n c y o f f a i l u r e i n f o r m a t i o n . using arby  f a u l t i s o l a t i o n in nds is represented as a h e u r i s t i c search through a space o f h y p o t h e s e s . the a v a i l a b l e d i a g n o s t i c t e s t s impose a r e f i n e m e n t h i e r a r c h y on t h e space of h y p o t h e s e s   e n a b l i n g t h e e x p l o i t a t i o n o f h i e r a r c h i c a l s e a r c h . back l i n k s t o more g e n e r a l h y p o t h e s e s a t h i g h e r l e v e l s i n t h e r e f i n e m e n t h i e r a r c h y are i n t r o d u c e d t o ensure t h e i s o l a t i o n and r e p a i r of m u l t i p l e and i n t e r m i t t e n t f a i l u r e s . the nds c u r r e n t l y p e r f o r m s at t h e l e v e l of an i n t e r m e d i a t e comnet d i a g n o s t i c i a n . 
1 . i n t r o d u c t i o n 
this paper describes the development of an expert s y s t e m f o r d i a g n o s i n g m u l t i p l e f a u l t s i n a n a t i o n w i d e c o m m u n i c a t i o n s n e t w o r k  comnet . our e f f o r t focused on understanding the human e f f o r t r e q u i r e d to i m p l e m e n t an e x p e r t system and on i d e n t i f y i n g m i s s i n g f e a t u r e s i n t h e e x i s t i n g technology. in the process of implementing nds it was n e c e s s a r y t o e x t e n d e x i s t i n g e x p e r t systems technology d e a l i n g w i t h m u l t i p l e and i n t e r m i t t e n t f a i l u r e s . the domain was chosen on t h e b a s i s of 
p r i o r domain e x p e r i e n c e w i t h t r o u b l e s h o o t i n g e l e c t r o n i c equipment  the a v a i l a b i l i t y of a domain e x p e r t   and by expected b e n e f i t s from the eventual o p e r a t i o n a l system. c r i t e r i a considered d u r i n g the s c o p i n g o f t h e p r o j e c t were t h a t i t r e q u i r e l e s s t h a n one p e r s o n year o f e f f o r t   t h a t i t b e a n o n t r i v i a l a p p l i c a t i o n   and t h a t i t avoid excessive u n i n t e r e s t i n g d e t a i l . 
1. the problem: f a u l t i s o l a t i o n in comnet 
comnet i s a g e o g r a p h i c a l l y d i s t r i b u t e d c o m m u n i c a t i o n s n e t w o r k s u p p o r t i n g a v a r i e t y o f a p p l i c a t i o n systems. the a p p l i c a t i o n software runs o n a c e n t r a l c o m p u t i n g f a c i l i t y and i s accessed r e m o t e l y b y u s e r s t h r o u g h o u t n o r t h a m e r i c a v i a i n t e r a c t i v e t e r m i n a l s . the communication path from each user t e r m i n a l t o t h e c e n t r a l c o m p u t e r i s a 
c i r c u i t   c a l l e d a ' v i r t u a l w i r e '   composed of both d i g i t a l and a n a l o g e l e c t r o n i c d e v i c e s . the f i e l d r e p a i r a b l e u n i t s   i.e. t h e components w h i c h can f a i l and b e r e p a i r e d   i n c l u d e t e l e c o m m u n i c a t i o n p r o c e s s o r s   s t a t i s t i c a l m u l t i p l e x o r s   modems  t e l e p h o n e c i r c u i t s   f r e q u e n c y d i v i s i o n a l m u l t i p l e x o r s   rs-1 cables and computer t e r m i n a l s  see f i g . 1. . the c a p a b i l i t i e s w h i c h had to be included in the nds are discussed in the remainder o f t h i s s e c t i o n . 
the d i a g n o s t i c p r o c e s s d r a w s upon s e v e r a l d i f f e r e n t types of knowledge. the topology of the network  and in p a r t i c u l a r the v i r t u a l w i r e which has f a i l e d   i s f u n d a m e n t a l i n g u i d i n g t h e d i a g n o s t i c i a n ' s s e a r c h f o r t h e f a u l t . i n g e n e r a l the d i a g n o s t i c i a n w i l l t r y t o e x p l o i t h i e r a r c h i c a l s e a r c h m e t h o d s . t o o p t i m i z e t h e s e a r c h t h e d i a g n o s t i c i a n must know which d i a g n o s t i c t e s t s are a v a i l a b l e   what t h e i r i n f o r m a t i o n c o n t e n t i s i n t e r m s o f w h i c h components t h e y t e s t   and t h e i r c o s t . a c t u a l p h y s i c a l d e v i c e s have l i m i t e d t e s t p o i n t s w h i c h are chosen b y the d e s i g n e r   n o t t h e d i a g n o s t i c i a n . a s a r e s u l t   d i a g n o s i s i s o f t e n d r i v e n b y the a v a i l a b i t y o f t e s t p o i n t s and d i a g n o s t i c t e s t s . there i s t h e a d d i t i o n a l f a c t o r of a c c e s s i b i l i t y f o r c e r t a i n t e s t s . in cases were t h e d i a g n o s t i c i a n does n o t have t h e r e q u i r e d access to perform desired t e s t s he must proceed as 

1 t. williams et al. 
f a r a s p o s s i b l e o n t h e b a s i s o f i n c o m p l e t e o r p a r t i a l i n f o r m a t i o n   o f t e n r e s o r t i n g t o a l t e r n a t i v e types of knowledge  such as frequency of f a i l u r e data. 
comnet can f a i l in s e v e r a l modes and in g e n e r a l t h e s i n g l e f a i l u r e and n o n - i n t e r m i t t e n c y a s s u m p t i o n s d o not h o l d     1       1     . because t h e f u n c t i o n o f t h e v a r i o u s components i n a v i r t u a l w i r e a r e c l o s e l y i n t e r - r e l a t e d   i t i s o f t e n t h e case t h a t one f a i l u r e w i l l l e a d t o   o r c a u s e   o t h e r d e p e n d e n t f a i l u r e s . f o r e x a m p l e   a s t a t i s t i c a l m u l t i p l e x o r may b e i n a d v e r t e n t l y r e s e t   and as a r e s u l t it w i l l r e s e t the baud r a t e on a r e m o t e modem w i t h w h i c h it c o m m u n i c a t e s . m u l t i p l e f a i l u r e s can also be independent. when a 
user c a n n o t access an a p p l i c a t i o n system he may tamper w i t h the t e r m i n a l   the rs-1 cables and/or t h e modem. a s a r e s u l t   t h e r e c o u l d b e   i n a d d i t i o n t o t h e o r i g i n a l f a i l u r e   s e v e r a l u n r e l a t e d i n d e p e n d e n t f a i l u r e s . the p r e s e n c e o f t e l e p h o n e c i r c u i t s i n t r o d u c e s f r e q u e n t i n t e r m i t t e n t f a i l u r e s due t o n o i s e i n t h e t e l e p h o n e e q u i p m e n t   and s u c h i n t e r m i t t e n t f a i l u r e s can c o l l a b o r a t e w i t h u n r e l a t e d f a i l u r e s e l s w h e r e i n t h e n e t w o r k t o g e n e r a t e m u l t i p l e i n d e p e n d e n t f a i l u r e s . i t i s a l s o p o s s i b l e f o r r e p a i r operations t o f a i l   f u r t h e r r e s t r i c t i n g the assumptions the d i a g n o s t i c i a n can reasonably make. 
1. 	approach: arby 
because our p r o b l e m was one o f f a u l t i s o l a t i o n w i t h i n an e l e c t r o n i c system  we chose arby as our implementation v e h i c l e f o r nds. arby was designed by drew mcdermott and ruven brooks f o r smart systems t e c h n o l o g y s p e c i f i c a l l y f o r a p p l i c a t i o n s in e l e c t r o n i c f a u l t diagnosis. for a more d e t a i l e d 
discussion 	of 	arby see 	    1       1     . 
f a u l t 	i s o l a t i o n 	i s 	r e p r e s e n t e d 	i n 	nds 	a s 	a 
h i e r a r c h i c a l 	s e a r c h 	t h r o u g h 	a 	s p a c e 	o f 
s u c c e s s i v e l y 	m o r e 	r e f i n e d 	h y p o t h e s e s 
    1   #   1       1       . each outcome of each d i a g n o s t i c 
t e s t p r o v i d e s e v i d e n c e f o r o r a g a i n s t a f a u l t b e i n g in some s e t of components. a h y p o t h e s i s is introduced f o r each such set of components  and a refinement hierarchy i s derived from the p a r t i a l o r d e r d e f i n e d b y t h e i n c l u s i o n r e l a t i o n o n t h i s set of hypotheses. the t e r m i n a l hypotheses in the refinement hierarchy correspond to s i n g l e t o n sets whose o n l y member i s a f i e l d r e p a i r a b l e u n i t 
 fru . 
the s e a r c h p r o c e e d s t h r o u g h t h e r e f i n e m e n t h i e r a r c h y from general hypotheses to more r e f i n e d hypotheses. choices among competing hypotheses are based on the outcomes of d i a g n o s t i c t e s t s . when a t e r m i n a l h y p o t h e s i s has been r e a c h e d   a r e p a i r o p e r a t i o n is performed on t h e c o r r e s p o n d i n g fru. s i n c e t h e s t a t e o f t h e f a i l e d component has been a l t e r e d   a l l e v i d e n c e i n v o l v i n g t h a t fru i s revoked. a f t e r p e r f o r m i n g the r e p a i r o p e r a t i o n   a 
t e r m i n a t i o n t e s t i s run t o determine i f a l l f a u l t s have been i s o l a t e d and r e p a i r e d . if so  nds h a l t s . otherwise the search f o r m u l t i p l e f a i l u r e s resumes w i t h t h e most r e f i n e d h y p o t h e s i s w h i c h i s more general then the c u r r e n t t e r m i n a l hypothesis and which was not a f f e c t e d by any piece of evidence to be r e v o k e d as a r e s u l t of the most r e c e n t r e p a i r o p e r a t i o n . f i g u r e 1 . shows t h e r e f i n e m e n t g r a p h f o r nds  w i t h r e f i n e m e n t l i n k s shown a s s o l i d l i n e s and g e n e r a l i z a t i o n l i n k s shown a s b r o k e n l i n e s . the h y p o t h e s i s r e f i n e m e n t a l g o r i t h m i s shown in f i g u r e 1. 
1. 	s o l u t i o n : network diagnostic system  nds  
nds uses a r e f i n e m e n t graph c o n s t r u c t e d f r o m eleven t e r m i n a l hypotheses and e i g h t i n t e r m e d i a t e h y p o t h e s e s  see f i g . 1 . most o f the d i a g n o s t i c t e s t s   o f w h i c h t h e r e a r e t w e l v e i n c l u d i n g t h e t e r m i n a t i o n t e s t   are loop-back t e s t s which t e s t s u b s e c t i o n s o f t h e v i r t u a l w i r e . the r u l e b a s e   i n c l u d i n g e v i d e n c e r u l e s and i n t e r a c t i o n f r a m e s  see   1       1       c o n s i s t s of approximately 1 arby r u l e s . a more d e t a i l e d d e s c r i p t i o n of nds may be f o u n d in   1   . 
the c u r r e n t v e r s i o n of nds r e q u i r e d approximately four person-months of knowledge engineer and one person-month of domain expert. in the d i a g n o s t i c 
expert's o p i n i o n the present l e v e l of performance 

of nds is c o m p a r a b l e to an i n t e r m e d i a t e l e v e l d i a g n o s t i c i a n . the r a t e at w h i c h new r u l e s were added i n c r e a s e d s i g n i f i c a n t l y t o w a r d t h e end o f the p r o j e c t   due to increased understanding of the d i a g n o s t i c process by the knowledge engineer and i n c r e a s e d u n d e r s t a n d i n g o f t h e i m p l e m e n t a t i o n method by the domain expert. 
1. concluding remarks 
the nds p r o j e c t d e m o n s t r a t e s the f e a s i b i l i t y of c o n s t r u c t i n g e x p e r t systems f o r i s o l a t i o n and r e p a i r o f m u l t i p l e f a u l t s i n e l e c t r o n i c systems. the p r o j e c t a l s o p o i n t s o u t two h u r d l e s t o l a r g e scale deployment of expert systems in commercial environments. f i r s t is the labor i n t e n s i v e nature of c u r r e n t knowledge engineering p r a c t i c e . in many c o m m e r c i a l l y d e s i r a b l e domains t h e e x p e r t i s e r e q u i r e d i s e x t r e m e l y v a l u a b l e and o f l i m i t e d a v a i l a b i l i t y . u l t i m a t e l y i t w i l l b e necessary t o develop methods f o r at l e a s t p a r t i a l l y automating t h e c o n s t r u c t i o n o f e x p e r t s y s t e m s . i n t h i s v e i n w e a r e c u r r e n t l y e x p l o r i n g a l g o r i t h m s f o r a u t o m a t i c a l l y generating the refinement hierarchy for arby based consultants. second is the absence o f a c o m m e r c i a l q u a l i t y e x p e r t s y s t e m i m p l e m e n t a t i o n v e h i c l e w h i c h i s a s t a b l e   supported product and which runs on the v a r i e t y of machines in use in the c o m m e r c i a l s e c t o r . we are a l s o a c t i v e l y w o r k i n g t o overcome t h i s second h u r d l e b y s t r e a m l i n i n g t h e arby s y s t e m and s t u d y i n g t h e r e q u i r e m e n t s f o r p o r t i n g i t t o m a c h i n e s s u c h as t h e ibm 1 and t h e new generation of microcomputers. 
t. williams et al. 1 
1. 	