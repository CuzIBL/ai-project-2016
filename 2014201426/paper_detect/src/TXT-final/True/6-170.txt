 
we investigate phase transitions for the family of bounded satisfiability problems 1sat b   recently introduced by zhang  that ask: given a 1cnf-
formula  is there a truth assignment that violates no more than  of its clauses. zhang's results were experimental and for a fixed number of variables  n = 1   and suggested that the locations of the phase transitions for 1sat b  are separated and move significantly as b increases. analysis of these locations was posed as an open question. we analytically show that the phase transitions of all 1sat 1  problems must occur within a narrow region  regardless of how large the value of b is. moreover  our experiments reveal that the phase transitions for these problems occur in a remarkable way. specifically  unlike 1sat  the probability curves for 1sat 1  do not have a quasi-common intersection point about which they rotate as they become steeper with increasing n. instead  they move rapidly to the left toward the narrow region that the analysis predicts. 
1 introduction and summary of results 
a phase transition of a  system  can be described as an abrupt change in the behavior of the system that occurs when a certain  control parameter  is at or near a certain critical value. traditionally  phase transitions have been studied by physicists working in the area of statistical mechanics. during the past decade  however  computer scientists have carried out an intensive study of phase transitions of algorithmic problems  first of np-complete decision problems and  more recently  of decision problems that are complete for higher computational complexity classes. these investigations have shed new light on the  structure  of presumably intractable decision problems by examining them from a perspective that had been hitherto unexplored in computer science; moreover  for certain fundamental algorithmic problems  the location of the phase transition has been correlated to the peak average cost of natural algorithms for solving these problems. 
* research of the authors was partially supported by nsf grant 
no. iis-1 
satisfiability 
　the boolean satisfiability problems  1  constitute the most thoroughly investigated collection of npcomplete problems from the perspective of phase transitions. 
an instance of formula; the  control parameter  of such a formula is the ratio of the number of clauses over the number of variables occurring in the formula. each fixed value r of this ratio gives rise to the family of probability spaces 1  where is the collection of all kcnf-formulas with clauses generated by selecting k variables from variables without replacement and then negating each variable with probability 1. franco and paul  franco and paul  1  were the first to focus on this fixed clauses-to-variables ratio model and to initiate a study of the asymptotic behavior of the probability  that a random formula in  is satisfiable. during the past decade  much of the work in this area has been motivated from the conjecture of chvatal and reed  chvatal and reed  1  to the effect that  for every there is a positive real number rk such that if then whereas if then lim   
　the above conjecture asserts that  for every 1  a phase transition occurs in the probability of a random formula in being satisfiable  as in spite of intensive efforts by several researchers  this conjecture has not been settled thus far. nonetheless  progress toward establishing this conjecture has been made in two different fronts. on the experimental front  large-scale experiments with random boolean formulas have provided evidence for the existence of a critical ratio  and have yielded estimates of its actual value. in particular  experiments by selman  mitchell and levesque  selman et al.  1  with random 1cnf-formulas and analysis of these experiments by kirkpatrick and selman  kirkpatrick and selman  1  indicate that  is about 1. on the analytical front  there has been continuous progress toward establishing progressively tighter upper and lower bounds for the value of r1. the best analytical results obtained to date assert that if r1  exists  then 1  1  kaporis et al.  1; 
dubois et al  1 . the experiments carried out by selman  mitchell and levesque  selman et al  1  for random 1cnf-formulas also revealed that the critical ratio 1 appears to be the location at which the average cost of the davisputnam-logemann-loveland  dpll  procedure for boolean satisfiability peaks. 
1 

　many fundamental algorithmic problems are optimization problems and not mere decision problems. in particular  if a boolean formula happens to be over-constrained and  thus  unsatisfiable  it is natural to ask for the maximum number of clauses in the formula that can be simultaneously satisfied. by focusing on 1cnf-formulas  we obtain the optimization problem max 1sat: given a 1cnf-formula find the maximum number of clauses of that can be simultaneously satisfied. max 1sat is a prototypical constraint optimization problem that is known to play a prominent role in the study of the approximability properties of np-optimization problems. indeed  as shown by papadimitriou and yannakakis  papadimitriou and yannakakis  1   max sat is a max snp-complete problem; this means that max sat is a constant-approximable optimization problem and that every np-optimization problem in the class max snp can be reduced to it via an approximation-preserving polynomialtime reduction  see also  papadimitriou  1  . 
　its importance in complexity and approximability notwithstanding  max 1sat had not been investigated from the perspective of phase transitions until recently. zhang  zhang  1  was the first to investigate phase transitions for max 1sat by carrying out an initial set of experiments for the family of bounded satisfiability problems 1sat 1   where b is a non-negative integer. an instance of 1sat b  is a 1cnfformula cp and the question is: does there exist a truth assignment that violates no more than b clauses of  equivalently  1sat 1  asks whether the optimum value of max sat on an instance is at least m - b  where m is the number of clauses of thus  each 1sat b  is a decision problem obtained from max sat by imposing a  quality bound  on the optimum value. the control parameter of each 1sat 1  is the ratio of clauses to variables  that is  the same control parameter as the one used for 1sat. 
　zhang  zhang  1  explored phase transitions for the bounded satisfiability problems 1sat 1  by running experiments on random 1cnf-formulas with n = 1 variables and for b = 1 1. his findings suggest that there is a series of separated phase transitions corresponding to different quality bounds. the location of each phase transition appears to increase with b  see figure 1 ; moreover  the average cost for solving the optimization problem max sat appears to be the envelope of the peak average cost for solving the decision problems 1sat b   as b increases. zhang  zhang  1  did not report on the asymptotic behavior of 1sat b  as the number of variables increases  because he ran experiments for just a single value  n = 1  of the number of variables. he posed the analysis of phase transitions for 1sat b  as an open problem and  in particular  raised the question of finding the exact location of the phase transitions for these decision problems. 
　in this paper  we report on a systematic investigation of phase transitions for the family of bounded satisfiability problems 1sat 1 . our investigation has produced both analytical and experimental results that yield a more complete and  at the same time  rather surprising picture of these phase transitions. as stated above  zhang's  zhang  1  initial experiments suggest that the location of the phase transition for each 1sat b  increases with b. here  using the firstmoment method  we show analytically that the phase transitions for 1sat b  must occur  if they occur at all  within a rather narrow region  regardless of the value of b. moreover  the same behavior is exhibited by the families ksat b  of decision problems underlying the optimization problems max ksat  k  1. in particular  the locations of the phase transitions for 1sat b  are bounded from above by 1/ 1 - lg 1    1 and from below by the greatest known lower bound 1 for the location of the phase transition for 1s at. at the experimental front  we investigated the asymptotic behavior of 1sat b  for the values b = 1  1 and 1 by running experiments for several different values of the number n of variables of random 1cnf-formulas  n = 1  1  1  1  1  1 . our most striking experimental finding is the discovery that  as n increases  the phase transition for each 1sat b  emerges in a manner that is qualitatively different from that for 1sat  as we describe next. 
in the case of 1sat  the experiments in  selman et a/.  
1  revealed that the family of curves for the probability of satisfiability of a random 1cnf-formula  one curve for each number n of variables  has the property that the curves become progressively steeper and every two of them intersect at a single point whose abscissa is near the location of the phase transition for 1sat  see figure 1 . in contrast  our experiments reveal that  for each bounded satisfiability problem 1sat b   the family of curves for the probability of a  yes  answer of a random 1cnf-formula  one curve for each number n of variables  become progressively steeper but they do not intersect; instead  they are separated by a distance that is getting smaller as n increases. figures 1  1  and 1 depict these findings for 1sat 1   1sat 1  and 1sat 1   respectively. this is a qualitatively different pattern of emergence of a phase transition that does not seem to have been encountered in earlier investigations of phase transitions of other npcomplete problems in which the probability curves appear to have a quasi-common intersection point. 
1 	bounded satisfiability problems 
for every positive integer k  1  max ksat is the following optimization problem: given a kcnf-formula find the maximum number of simultaneously satisfied clauses of the study of phase transitions for an optimization problem begins by focusing on one or more decision problems that underlie that optimization problem. the most natural way to derive a decision problem from an optimization problem is to consider as input both an instance of the optimization problem and an arbitrary quality bound  and to ask whether the optimum value on this instance is bigger  or smaller  than the given quality bound. in the case of max ksat  this gives rise to the following np-complete decision problem: given a kcnf-formula and an integer c  is there a truth assignment to the variables of that satisfies at least c clauses of  it is also possible to derive a family of decision problems that underlie max ksat and are such that the inputs to each of them are kcnf-formulas only. for each non-negative integer 1  let ks at b  be the following bounded satisfiability problem: given a kcnf-formula  is there a truth assignment to the variables of  that violates no more than b clauses of 

1 	satisfiability 

 p  clearly  a;sat 1  is ksat itself; moreover  it is easy to show that every bounded satisfiability problem a:sat 1   where a; 1 and b  1  is np-complete. since the input to ksat b  is a kcnf-formula  phase transitions for the family ksat 1  can be studied using the ratio of clauses to variables as the control parameter  that is  the same control parameter as the one used in the study of phase transitions for ks at. 
　there have been earlier investigations of phase transitions for other fundamental optimization problems  includ-
ing the traveling salesman problem and walsh  1b  and number partitioning and walsh  
1a . it should be noted  however  that for each of these two optimization problems a single decision problem was considered  instead of a family of decision problems  because the quality bound was part of the input to the decision problem. moreover  the control parameter for these problems was chosen in such a way that it encoded the quality bound in some direct or indirect way  and this choice was criticized in subsequent investigations  slaney and thiebaux  1 . clearly  this criticism does not apply to the bounded satisfiability problems ksat fc . 
　for every integers k 1  n 1  and b be the probability that a random formula  is a  yes  instance of ksat b   that is  there is a 
truth assignment that violates no more than b clauses of we now have all the notation in place to formulate the following conjecture concerning phase transitions for the bounded satisfiability problems ksat b . b 
　note that chvatal and reed's conjecture  chvatal and reed  1  concerning phase transitions for ksat  k is the special case of conjecture 1 in which 1 = 1. as mentioned in section 1  zhang izhang  1  raised the problem of finding the exact location of the phase transition for 1sat 1   which  in terms of the notation introduced here  amounts to first establishing conjecture 1 for a: = 1 and then determining the critical ratio  for each 1. although far from solving these problems  the next result yields analytical upper bounds for the values of in particular  it demonstrates that for each a: 1  all critical ratios are bounded by a quantity that depends only on k. 
proposition 1: fix two integers k 	1 and b 	1. 
proof: if x is a random variable taking non-negative values and having finite expectation e{x   then markov's inequality asserts that this inequality has been 
used in the past to obtain a coarse upper bound for the critical ratio for the phase transition of here  we will apply the same method to obtain upper bounds for the critical ratios for the phase transitions of in this 
satisfiability 
case  however  bounding the expectation of a suitable random variable x is not as trivial as it was for ksat  but still quite straightforward. 
　let be a random variable on such that if is a formula in t h e n i s the number of truth assignments on n variables that violate no more than b clauses of  thus our 
r b
gardless of the value of b. now an application of markov's inequality to gives the result.  
　concerning lower bounds for r*   it is obvious that if r is a ratio such that almost all formulas are satisfiable  then = 1  regardless of the value of b. 
consequently  if r* is the critical ratio for /cs at  then  r* 1  regardless of the value of b. of course  this assumes that the critical ratios r* and r k b actually exist. until this is established  we can use the analytically derived lower bounds for r k as lower bounds for every  in particular  the best currently known such lower bound for r1 is 1  kaporis et al  1 . by combining these remarks with proposition 1  we obtain the following bounds for the phase transitions of the bounded satisfiability problems 1sat 1 . 
1 

1 	experimental results 
we ran experiments for random 1cnf-formulas drawn from n = 1  1  1  1  1 and 1 variable spaces. we implemented a suitably modified version of the davis-logemannloveland-putnam  dpll  procedure and tested each random formula drawn to determine whether it is a  yes  instance of the bounded satisfiability problems 1sat b   for b = 1  1 and 1. for each  n  b -pair  probability curves were determined by recording the average number of  yes  instances in samples of 1 formulas  one sample for each possible ratio of clauses to variables up to a ratio of 1. 
　the probability curves for 1sat 1  with b = 1  1 and 1 
　are depicted in figures 1  1 and 1  respectively. 
　in these figures  we see that  as r increases  the probability curves start out in a region where the probability is 1 or close to 1 and then they transition to a region where the probability is 1 or close to 1. to make the terminology more precise  let us define the location of the transition for the probability of 1s at b  to be the ratio r at which the probability is 1  and the width of the transition for the probability of 1sat 1  to be the difference in the r values between the ratios at which the probability falls from 1 to 1. as n increases  the probability curves move from right to left; moreover  both the location and the width of the transition appear to change with different values of n. for each fixed 1  the width becomes smaller with increasing n just as is the case for the probability curves for 1sat in figure 1; the location  however  moves dramatically to the left in sharp contrast with the behavior for 1sat  where the location moves very slightly and converges to a value in the transition region where all the curves appear to intersect at one point. the magnitude of the leftward movement of the transition location with increasing n appears to become greater with increasing values of b. thus  the phase transitions for the bounded satisfiability problems 1sat 1  emerge in a pattern that is novel and qualitatively different from that of the phase transitions for other np-complete problems. 
　we also recorded the average cost of the modified dpllprocedure for solving 1sat 1   where b = 1  1  1. each of these problems is much harder on average than 1sat; moreover  these problems are getting harder on average as b increases. as a matter of fact  the experiments for b = 1 and for n = 1 took several weeks to complete. figure 1 depicts the average cost of solving 1sat  while figures 1 depicts the average cost of solving 1s at 1 . 
　in figure 1  the performance curves for 1sat 1  move from lower to higher with increasing n and  as has been observed with 1sat  the peaks in cost appear to correspond to the location of the transitions. the peaks move from right to left in synchrony with the movement of the location of the transition for 1sat 1 ; this movement is more dramatic than in the case of 1sat. 
1 	finite size scaling 
the locations of the transition in the probability curves for 
1sat 1  appear to approach a limiting critical ratio r 1 b that is within the analytically derived upper and lower bounds in corollary 1. nonetheless  it is not clear what the critical ratio r1 b actually is  nor can it be estimated by visual inspec-

figure 1: the probability curves for bounded satisfiability with b - 1. there is a curve for each of six different values of n. they show the well known 1sat behavior. as n increases the transition regions of the curves become steeper and appear to have a common intersection point about which they rotate. the common hypothesis is that in the limit the curves approach a step function through this point and its ratio is the critical phase transition value for 1sat  approximately 1. 

figure 1: these arc the probability curves for 1s at 1 . there is a curve for each of the same n values as in figure 1. as 1 increases  the transition regions appear to steepen and distinctly move to the left. the steepening is similar to 1sat behavior but here there is no apparent common rotation point. the transitions appear to be approaching a step function in the limit but it is not possible to visually determine the critical ratio. we used a form of finite size scaling to estimate it as approximately 1 

1 	satisfiability 

figure 1: these are the probability curves for 1s at 1 . there is a curve for each of the same n values as in the previous figures. again  
figure 1: this set of curves plots the well known performance be-
as n increases  the transition regions appear to steepen and distinctly havior of the dpll procedure for 1sat. this figure is here for com-
move to the left. the steepening is similar to 1sat behavior but here parison with the following figure for 1s at 1 . there is no apparent common rotation point. the transitions appear to be approaching a step function in the limit but it is not possible to visually determine the critical ratio. we used a form of finite size scaling to estimate it as approximately 1 

	figure 1: 	this set of curves plots the algorithmic costs for 
figure 1: these are the probability curves for 1s at 1 . there is a 
1s at 1 . the behavior is similar to 1sat in that cost increases with 
curve for each of the same n values as in the previous figures. again  increasing n; moreover  cost exhibits the so-called  easy/hard/easy  
as n increases  the transition regions appear to steepen and distinctly pattern as the ratio increases. as would be expected the costs for 
move to the left. the steepening is similar to 1sat behavior but here bounded satisfiability arc much higher than for satisfiability. note 
there is no apparent common rotation point. the transitions appear that the movement of the peak locations  as n increases  is quite 
to be approaching a step function in the limit but it is not possible marked and corresponds to the leftward movement of the transition 
to visually determine the critical ratio. we used a form of finite size regions in the probability curves. scaling to estimate it as approximately 1. note the analytical upper bound is approximately 1. 
satisfiability 	1 

1sat b  for 1 varlables b= 1  1. 1 and 1 

table 1: finite-size scaling results 
b r
1 b v1 b 1 
1 
1 1+ 
1+ 
1 1+ 1+ 
1 

ratio of number of clauses to number of variables 
figure 1: this figure shows the apparently separate  phase transitions  for different values of b when looking at probability curves for a fixed n  in this case 1 variables. the transition region moves from left to right with increasing b. this type of behavior was previously reported for 1 = 1 1  and 1  zhang  1 . 
tion since no two probability curves for 1s at b  intersect. a finite-size scaling analysis of the data  assuming a power law of the form allowed us to obtain estimates for both the critical ratio and for the exponent  where b = 1 and 1. 
　in  kirkpatrick and selman  1   an estimate for the value of the critical ratio rk was obtained by visually estimating the point at which the probability curves for ksat appear to intersect  and then regression techniques were applied to determine the best exponent v k in the power law for ksat. this cannot be done with the bounded satisfiability problems 
1sat b   since the probability curves do not intersect  but appear to be moving to the left as the number n of variables increases. nevertheless the finite-size scaling hypothesis can still be tested with a more elaborate procedure. our goal was to test whether it is possible find values for r1 b and v1 b such that when the ratio r is rescaled with the above power law  the probability curves for the different values n of the number of variables collapse to a single curve. using routines for interpolation and regression from matlab  we stepped through small increments of putative r 1 b values and measured how well the curves collapsed to a single curve by calculating the sum of their pairwise squared differences when accordingly transformed. the estimated r1 b was taken to be the value that minimized this difference measure. we found this technique to be well behaved  in that it exhibited a clear minimum and gave much more precision than visually judging how well the curves appeared to collapse to a single curve. to further validate this technique  we checked it on the phase transition of 1sat  which has been analytically determined to occur at the critical ratio r1 = 1  chvdtal and reed  1; fernandez de la vega  1; goerdt  1 . the agreement was very good  namely  the estimate for r1 was 1. 
　the results of the finite-size scaling analysis for 1sat b   where b = 1  1 and 1  are shown in table 1. note that these results are consistent with the analytical upper and lower bounds for r 1 b in corollary 1  that the r b k are in the region between r k for k-sat and the markov upper bound for k-sat. this consistency is the most that can be reasonably concluded from the finite-size scaling analysis. the technique provides a more principled way to make the estimates than eyeballing  but no great accuracy should be attributed to the estimates in spite of their apparent precision. although the finite-size scaling results suggest that the locations of the phase transitions of 1sat b  are different for different 1's  it may still be the case that they all coincide with the location for 1sat. 
1 	concluding remarks 
the results reported here advance the understanding of the phase transitions for the family of bounded satisfiability problems 1sat b   introduced by zhang  zhang  1 j. 
　our main analytical finding is that the phase transitions of all 1sat 1  problems must occur within a narrow region  regardless of how large the value of b is. moreover  our experiments revealed that the phase transitions for these problems occur in a remarkable way. specifically  unlike 1sat  the probability curves for 1sat 1  do not have a quasi-common intersection point about which they rotate as they become steeper with increasing n. instead  they move rapidly to the left toward the narrow region that the analysis predicts. 
　identifying the exact locations of the phase transitions for 1sat b  remains an open problem  which is at least as hard as identifying the location of the phase transition for 1sat. equally hard appears to be the problem of analytically establishing whether these locations are separated or coincide. nonetheless  it may be possible to analytically obtain tighter bounds for these locations using some of the sophisticated techniques that have been quite successful in finding tighter bounds for the phase transition of 1sat. 
acknowledgments: we are grateful to victor dalmau for stimulating and insightful discussions. we also wish to thank the reviewers for their many useful comments and suggestions. 
