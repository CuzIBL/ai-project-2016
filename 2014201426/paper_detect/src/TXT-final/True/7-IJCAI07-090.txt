
the temporal boundaries of many real-world events are inherently vague. in this paper  we discuss the problem of qualitative temporal reasoning about such vague events. we show that several interesting reasoning tasks  such as checking satisfiability  checking entailment  and calculating the best truth value bound  can be reduced to reasoning tasks in a well-known point algebra with disjunctions. furthermore we identify a maximal tractable subset of qualitative relations to support efficient reasoning.
1 introduction
a substantial part of the work on temporal reasoning is concerned with qualitative time information. in many application domains - typically in the realm of natural language processing  nlp  and understanding - we may not know when events took place  while interesting conclusions could still be drawn from the available qualitative information. other applications use qualitative temporal information to constrain possible scenarios  specifying for example that some task should only start after another task has been completed.
¡¡in  allen  1   allen introduced a framework for representing qualitative relations between intervals  which has been adopted in the majority of the work on qualitative temporal reasoning ever since. unfortunately  most interesting reasoning tasks in this framework are np-complete  vilain et al.  1 . therefore  a lot of work has been done to identify maximal subsets of the 1 interval relations introduced by allen  for which reasoning is tractable  drakengren and jonsson  1a; 1b; krokhin et al.  1; nebel and bu¡§rckert  1 . another highly relevant line of research is the characterization of tractable problem instances for constraint satisfaction problems gottlob et al.  1   and in particular the design of efficient solution techniques for disjunctive temporal reasoning problems  bosch et al.  1; stergiou and koubarakis  1; tsamardinos and pollack  1 .
¡¡one assumption that is implicitly made in all but a few approaches to qualitative temporal reasoning is that the temporal boundaries of events are always well-defined  i.e.  that for

figure 1: fuzzy set representing the time span of the dotcom bubble
every event there exist precise time instants corresponding to its beginning and ending. on the other hand  it is well-known that real-world events often have vague temporal boundaries  varzi  1 . this is particularly true for historical events  e.g.  the cold war  the great depression  the russian revolution  the dotcom bubble  ...this observation is significant for qualitative temporal reasoning  because qualitative relations between events with vague temporal boundaries  are vague as well.
¡¡a popular technique to address the vagueness of events is to represent their time span as a fuzzy set  zadeh  1  in r  i.e.  as a mapping a from the real line r to the unit interval  1 . in this approach  time instants are represented as real numbers; for every d in r  a d  is called the membership degree of d in a  and represents the degree to which the event corresponding with a was happening at instant d. for example  in figure 1  a possible representation of the time span of the dotcom bubble is shown. according to this representation  the dotcom bubble definitely encompasses the time instants between 1 and 1  hence their membership degree is 1. similarly  time instants before 1 and after 1 are definitely not during the dotcom bubble  hence their membership degree is 1. the remaining time instants can be seen as borderline cases  which neither belong fully to the temporal extension nor to the temporal anti-extension of the dotcom bubble.
¡¡in this paper we show how the problem of reasoning with qualitative relations between fuzzy time intervals can be reduced to reasoning in a point algebra with disjunctions  broxvall and jonsson  1 . in this way  efficient techniques that have been developed in the context of disjunctive temporal reasoning  can be used to decide  for example  the satisfiability of a set of qualitative relations between fuzzy time intervals. furthermore  we show how entailment checking and calculating the best truth value bound can be reduced to satisfiability checking. to the best of our knowledge  this is the first paper in which complete procedures for qualitative temporal reasoning about vague events are provided. finally  we show that deciding satisfiability is np-complete  and provide a maximal tractable subset of qualitative relations1.
1 related work
vagueness has many faces  requiring different techniques in different contexts. most work on vague temporal knowledge deals with situations where events have precise boundaries  but where our knowledgeaboutthem is vague  e.g.   a started in the early summer of 1   or  a happened about 1 hours after b . this kind of vagueness  which is purely epistemic  is usually modelled in the framework of possibility theory  dubois and prade  1; godo and vila  1 . in  dubois et al.  1   an extension of allen's interval algebra is introduced to cope with statements like  a happened long before b . to support reasoning  a composition table is introduced  but  unfortunately  reasoning with this composition table is not shown to be complete. in  badaloni and giacomin  1   fuzzy sets of basic allen relations  i.e. mappings from the 1 basic interval relations to the unit interval  1   are considered to represent preferences. interestingly  all main reasoning tasks are shown to be np-complete  and a maximal tractable subalgebra is identified. fuzzy sets of basic allen relations have also been considered in  guesgen et al.  1 .
¡¡however  in all these approaches  it is assumed that events have precise  albeit unknown  temporal boundaries. as explained in the introduction  even in the face of complete knowledge  our temporal knowledge about events may be affected by vagueness. several generalizations of allen's interval relations to represent qualitative relations between fuzzy time intervals have already been proposed  nagypa¡äl and motik  1; ohlbach  1; schockaert et al.  1b   similar in spirit to measures for comparing and ranking fuzzy numbers dubois and prade  1;bodenhofer 1 . moreover  the necessity of dealing with vague events and time periods has been pointed out in various contexts  including semantic web reasoning  bry et al.  1   representing historical information in ontologies  nagypa¡äl and motik  1   interpreting temporal expressions in business news documents  kalczynski and chou  1   and temporal question answering  schockaert et al.  1a . the issue of reasoning with qualitative relations between fuzzy time intervals has only been addressed in  schockaert et al.  1a   where a sound but incomplete algorithm is introduced to find consequences of a given  limited set of assertions. in this paper  we provide a general framework for qualitative temporal reasoning about vague events  provide complete reasoning procedures  and identify a maximal tractable subset of qualitative temporal relations.
1 preliminaries
1 fuzzy temporal constraints
we will represent the time span of an event as a fuzzy set in r  i.e.  as a mappinga from r to  1 . for clarity  traditional sets are sometimes called crisp sets in the context of fuzzy set theory. for every ¦Á in  1   we let a¦Á denote the subset of r defined by
a¦Á = {x|x ¡Ê r ¡Ä a x  ¡Ý ¦Á}
a¦Á is called the ¦Á-level set of the fuzzy set a. in particular  a1 is the set of instants  real numbers  that fully belong to the time span of the event under consideration. to adequately generalize the notion of a time interval  some natural restrictions on the the ¦Á-level sets are typically imposed.
definition 1  fuzzy time interval   schockaert et al.  1b  a fuzzy  time  interval is a mapping a from r to  1   such that for every ¦Á in  1   a¦Á is a  non-degenerate  closed interval.
for a fuzzy interval a and ¦Á ¡Ê 1   we let a ¦Á and a+¦Á denote the beginning and ending of the interval a¦Á.
¡¡when the time spans of events are vague  then also the qualitative temporal relations between them are a matter of degree. traditionally  qualitative relations between time intervals are defined by means of constraints on the boundary points of these intervals. for fuzzy time intervals  a different approach must be adopted. however  note that for crisp intervals  a  a+  and  b  b+   we have that a    b  is equivalent to:
	  x  x ¡Ê  a  a+  ¡Ä   y  y ¡Ê  b  b+    x   y  	 1 
let a and b be fuzzy time intervals. the degree to which the beginning of a is before the beginning of b can be expressed as  schockaert et al.  1b :

where tw and iw are defined for every a and b in  1  by
tw a b  = max 1 a + b   1 
iw a b  = min 1   a + b 
and l is the characteristic mapping of
 otherwise. note that the defi-
nition of is a generalization of  1   where   and   have been generalized by the infimum and supremum. to generalize logical conjunction and implication  large classes of  1 1  1  mappings  called t-norms and implicators resp.  may be used. however  it has been shown in  schockaert et al.  1b  that the particular choice of tw and iw leads to many interesting properties. in the same way  we can express the degree to which the end of a is before the end of b  the degree to which the beginning of a is before the end of b and the degree to which the end of a is before the beginning of b as:

finally  the degree to which the beginning of a is before or at the same time as the beginning of b is defined by

and analogously for.
1 a point algebra with disjunctions
in  broxvall and jonsson  1   a point algebra extended with disjunctions is introduced  in which formulas like
¡¡¡¡¡¡¡¡¡¡   ¡Å ¡Ü ¡Å =  x1 x1 x1 x1 x1 x1   1  can be expressed. formulas such as  1  are used to express constraints on  unknown  time instants. in general  we define a p-formula over a set of variables x as an expression of the form  r1 ¡Å r1 ¡Å ¡¤¡¤¡¤ ¡Å rn  x1 x1 ... x1n  where ri  i ¡Ê {1 ... n}  is either   
x. we will call an expression of the form r1 ¡Å r1 ¡Å ¡¤¡¤¡¤ ¡Å rn a p-relation. furthermore  we will refer to a p-interpretation over x as a mapping from x to r. a p-interpretation i over x satisfies     x y  iff i x    i y   satisfies  ¡Ü  x y  iff i x  ¡Ü i y   etc. furthermore  i satisfies a p-formula like  1  iff i satisfies     x1 x1   or i satisfies  ¡Ü  x1 x1   or i satisfies  =  x1 x1 . a set ¦· of p-formulas over a set of variables x is said to be p-satisfiable if there exists a p- interpretation over x that satisfies every p-formula in ¦·. a p-interpretation meeting this requirementis called a p-model of ¦·.
1 a motivating example
in many nlp tasks  an ordering of events occurring in documents has to be identified. such an ordering is useful  for example  for automatic text summarization  or to support question answering. as a motivating example  we consider the task of summarizing a set of documents related to recent trends in economy  in particular the dotcom bubble1 and the british property bubble1  a recent real estate bubble in great britain . from these documents  we learn that the british property bubble has existed since 1 and that the dotcom bubble ended around 1. let  x dc x+dc  denote the time span of the dotcom bubble  and  the time span of the british property bubble  then we can establish from these facts the following p-formula:

on the other hand  the document about the british property bubble also states as one of its reasons:
a falling stock market  especially after the dot-com bubble  feeding into a general lack of confidence in the stock market.
let  be the time span of the fall of the stock market  then we can represent this as
 ¡Ü  x+fsm x bpb      x+dc x+fsm  however  this set of p-formulas is inconsistent  because it allows to deduce the following cycle:
x bpb   x+dc   x+fsm   x bpb
in the traditional framework  where the temporal boundaries of events are assumed to be crisp  the only way out seems to be to reject some of the information  such that the remaining set of p-formulas is consistent.
¡¡however  it is clear that the real cause of this inconsistency is not the presence of false information  but the vagueness of the events involved. rather than modelling the time spans of these events as intervals  we should acknowledge that these time spans may be fuzzy. the knowledge extracted from the documents may then be represented by stating that the fuzzy time intervals xdc  xbpb and xfsm  whatever their exact definition is  should satisfy

where ¦Á ¦Â ¡Ê 1 . initially  we may assume that ¦Á = ¦Â = 1  i.e.  we assume that the fall of the stock market was fully before the british property bubble  and that the end of the dotcom bubble was fully before the end of the fall of the stock market. since this again leads to inconsistency  we may weaken these interpretations by lowering the value of ¦Á and/or ¦Â. it is of interest to find maximal values for ¦Á and ¦Â that lead to a consistent representation in the same way that traditionally  we are interested in maximal consistent subsets of assertions.
1 temporal reasoning about vague events
1 temporal relations between vague events
we will define qualitative relations between fuzzy intervals as upper and lower bounds for the measures  ee  and eb introduced in section 1. in the remainder of this paper  we will assume that all these upper and lower bounds are taken from a fixed set m = {1 ¦¤ 1¦¤ ... 1}  where  for some ¦Ñ ¡Ê n   {1}.
for convenience  we will write m1 for m   {1} and m1 for m   {1}.
definition 1  basic fi-relation  a basic fi-relation is an expression of the form 
 or
  where k ¡Ê m1 and l ¡Ê m1.
definition 1  fi-relation  a fi-relation is an expression of the form r1 ¡Å r1 ¡Å ¡¤¡¤¡¤ ¡Å rn where r1 r1 ... rn are basic fi-relations; n is called the complexity of the fi-relation. the set of all fi-relations is denoted by f.
definition 1  fi-formula  a fi-formula over a set of variables x is an expression of the form
r x1 x1 ... x1n 
where r is an fi-relation of complexity n  and x1 x1 ... x1n are variables from x.
definition 1  fi-interpretation  a fi-interpretation over a set of variables x is a mapping that assigns a fuzzy interval to each variable in x. an fim-interpretation over x is an fi-interpretation that maps every variable from x to a fuzzy interval that takes only membership degrees from m.
a fi-interpretation i over x satisfies the temporal formula
 
and analogously for other types of basic temporal formulas. furthermore  i satisfies  r1 ¡År1 ¡Å¡¤¡¤¡¤¡Årn  x1 x1 ... x1n  iff i satisfies r1 x1 x1  or i satisfies r1 x1 x1  or ...or i satisfies rn x1n 1 x1n .
definition 1  fi-satisfiable  a set ¦¨ of fi-formulas over a set of variables x is said to be fi-satisfiable if there exists an fi-interpretation i over x that satisfies every fi-formula in ¦¨. a fi-interpretation i meeting this requirement is called an fi-model of ¦¨. if there exists an fim-interpretation over x that satisfies every fi-formula in ¦¨  ¦¨ is called fim- satisfiable.
1 fi-satisfiability
to decide if a set of fi-formulas ¦¨ is fi-satisfiable  we will reduce this problem to the satisfiability problem in the point algebra with disjunctions described in section 1. this reduction is made possible by virtue of the following proposition  stating that if the upper and lower bounds in a set of formulas are taken from the set m  as defined above  then we can restrict ourselves to fuzzy intervals that only take membership degrees from m.
proposition 1 let ¦¨ be a set of fi-formulas over x. it holds that ¦¨ is fi-satisfiable iff ¦¨ is fim-satisfiable.
the following proposition provides a correspondence between fi-relations and p-relations that will be fundamental in reducing fi-satisfiability to p-satisfiability
proposition 1 let a and b be fuzzy intervals that only take membership degrees from m  k ¡Ê m1 and l ¡Ê m1. it holds that:


let ¦¨ be a set of fi-formulas over a set of variables x. from this  we will construct a set of variables x and a set of p- formulas ¦· over x such that ¦¨ is fi-satisfiable iff ¦· is p- satisfiable. from proposition 1  we know that we can restrict ourselves to fuzzy intervals that only take membership degrees from m. the intuition behind the reduction process is that such a fuzzy interval a is completely characterized by the set of intervals {a¦¤ a1¦¤ ... a1}  which is in turn completely characterized by the set of instants  real numbers 
.
   let x	and ¦· initially	be	the	empty	set.	for each	variable x	in	x 	we	add	the	new	variables  and  and add the p- formula . furthermore  for each k in m1  we add the following p-formulas to ¦·:
 ¡Ü  x k  x k+¦¤ 
 ¡Ü  x+k+¦¤ x+k  
this ensures that for every p-interpretation
satisfies ¦·  there exists a  unique  fi-interpretation i over x defined for every x in x by
		 1 
for every l in m1. conversely  for every fi-interpretation i over x   1  defines a  unique  p-interpretation i over x that satisfies ¦·.
¡¡finally  for each fi-formula in ¦¨  we add a corresponding set of p-formulas to ¦·  based on the equivalences of proposition 1. for example  assume that ¦¨ contains the fi- formula  . since for all fuzzy intervals a and b  it holds that
  we have
that any fi-interpretation satisfies  iff it satisfies
. from proposition 1  it follows that any fi- interpretation i of x will satisfy  iff the corresponding p-interpretation i satisfies the p-formula
   ¡Å   ¡Å¡¤¡¤¡¤¡Å    y1  k x ¦¤ y1  k+¦¤ x 1¦¤ ... y1  x k+¦¤ 
 1 
therefore   1  is added to ¦·. for other fi-formulas  we obtain p-formulas in a similar way. thus we can reduce the problem of deciding fi-satisfiability of ¦¨ to the problem of deciding p-satisfiability of ¦· in a polynomial amount of time. the following proposition expresses that this reduction is sound and complete.
proposition 1 let ¦¨ be a set of fi-formulas over x  and let ¦· be the corresponding set of p-formulas  obtained by the procedure outlined above. it holds that ¦¨ is fi-satisfiable iff ¦· is p-satisfiable.
1 computational complexity
let a be a subset of f  the set of all fi-relations. we call fisat a  the problem of deciding whether a set of fi-formulas involving only fi-relations from a  is fi- satisfiable. deciding the satisfiability of a set of p-formulas is np-complete  broxvall and jonsson  1   hence  since deciding fi-satisfiability can be polynomially reduced to deciding p-satisfiability  fisat a  is in np for every a   f. as will become clear below  fisat f  is also np-hard  and thus np-complete. however  deciding the satisfiability of a set of p-formulas without disjunctions is tractable  vilain et al.  1 . from proposition 1  it follows that a significant subset of the fi-relations corresponds to p-relations without disjunctions. we will refer to this subset as ft. it holds that

from the tractability of the satisfiability of p-formulas without disjunctions  we immediately obtain that fisat ft  is tractable. to show that ft is a maximal tractable subset of f  it is sufficient to prove that for any fi-relation r in f   ft  fisat ft ¡È {r}  is np-hard. for every r in f   ft  we can show that 1sat can be polynomially reduced to fisat ft ¡È {r}   obtaining the following proposition.
proposition 1 ft is a maximal tractable subset of f  i.e.  fisat ft  is tractable  and for any r in f   ft  fisat ft ¡È {r}  is np-complete.
1 entailment and btvb
let ¦¨ be a set of fi-formulas over x  and ¦Ã an fi-formula over x. we say that ¦¨ entails ¦Ã  written ¦¨ |= ¦Ã  iff every fi-model of ¦¨ is also an fi-model of {¦Ã}. the notion of entailment is important for applications  because it allows to draw conclusions that are not explicitly contained in an initial set of assertions. we will restrict ourselves to the case where only fi-relations from ft are used  and  in particular  show that the tractability of ft w.r.t. satisfiability checking carries over to entailment checking. to show how entailment for a particular ¦¨ and a basic fi-relation r can be reduced to deciding fi-satisfiability  we first define a mapping neg from basic fi-relations to basic fi-relations  defined as  k ¡Ê m1  l ¡Ê m1 
and analogous for the other basic fi-relations.
proposition 1 let ¦¨ be a set of fi-formulas over x  involving only fi-relations from ft  and r a basic fi-relation. it holds that ¦¨ |= r x y  iff ¦¨ ¡È {neg r  x y } is not fi- satisfiable.
corollary 1 deciding whether ¦¨ |= r x y  holds for a basic fi-relation r and a set ¦¨ of fi-formulas involving only fi-relations from ft  is tractable.
another reasoning task that is of interest to practical applications is finding the best truth value bound  btvb   a notion we borrow from fuzzy description logics  straccia  1 . in the following discussion  we will restrict ourselves to the measure bb; for and entirely analogous results can be obtained.
¡¡the idea is that we want to find the best upper and lower bound for over all fi-models i of a set of
fi-formulas ¦¨. in other words  if x and y represent the  unknown  time span of the events ex and ey  then we want to establish the strongest possible bounds on the degree to which the beginning of ex is before or at the same time as the beginning of ey  given that the temporal relations in ¦¨ are satisfied. formally  we want to obtain the value of and  defined by

where mod ¦¨  is the set of all fi-models of ¦¨. the following proposition enables us to solve the btvb problem by checking a constant number of entailments.
 proposition 1 let ¦¨ be a set of fi-formulas over x  involving only fi-relations from ft  and x y ¡Ê x. it holds that the supremum in and the infimum in  are attained for some m in m.
hence  given the conditions from proposition 1  we obtain
 and  and 
corollary 1 calculating the best truth value bound w.r.t. a set ¦¨ of fi-formulas involving only fi-relations from ft  is tractable.
1 concluding remarks
we have shown how qualitative reasoning about vague events can be reduced to reasoning in a well-known point algebra with disjuntions  thus obtaining sound and complete procedures for several interesting reasoning tasks. reasoning about vague events is shown to be np-complete. an important advantage of our approach is that we can draw upon well- established results for solving disjunctive temporal reasoning problems. for example  in  tsamardinos and pollack  1   techniques such as conflict-directed backjumping and no-goodsearch are used to solve disjunctivetemporal reasoning problems more efficiently. these techniques can easily be adapted to solve the reasoning tasks discussed in this paper.
¡¡to support tractable reasoning  we have identified a maximal tractable subset of qualitative relations. this is an important result  as we believe that the relations in this subset are sufficient for many applications. an interesting direction for future work  however  is to identify particular classes of tractable problem instances  e.g.  based on decomposition methods for constraint satisfaction problems  e.g.   gottlob et al.  1  . such classes may involve relations that are not contained in the maximal tractable subset identified in this paper  by imposing restrictions on the variables the relations can be applied to.
