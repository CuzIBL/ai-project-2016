 
       an expert system  causal arrhythmia analyzer  caa   is being developed to establish a framework for the recognition of time varying signals of a complex repetitive nature  such as electrocardiograms  ecgs . 
       using a stratified knowledge base the caa system discerns several perspectives about the phenomena of underlying entities  such as the physiological event knowledge of the cardiac conduction system and the morphological waveform knowledge of ecg tracings  where conduction events are projected into the observable waveform domain. projection links have been defined to represent projection in caa's frame-based formalism and are used to raise hypotheses across different kbs. 
       the caa system also introduces and uses causal links extensively to represent various causal and temporal relations between concepts in the physiological event domain. its control structure uses causal links to predict unseen events from recognized events  to confirm these event hypotheses against input data  and to calculate the degree of integrity among causally related events. the meta-knowledge representation of statistical information about events facilitates a default reasoning mechanism and supports this expectation process providing context sensitive statistical information. 
　　　the caa system inherits its basic control mechanisms from the alven  a left ventricular wall motion analysis  system  tsotsos 1   such as the change/focus attention mechanism with similarity links and the hypothesis rating mechanism. 
       a prototype caa system with a limited number of abnormalities has been implemented using the knowledge representation language psn  procedural semantic networks   levesque & mylopoulos 1 . the prototype has so far demonstrated satisfactory results using independently sampled ecg data. 
1 introduction 
　　　　the main objective of this study is to establish a framework for the recognition of time varying signals of a 
　　　　complex repetitive nature  such as electrocardiograms. to this end  an expert system called caa  causal arrhythmia analyzer  is being developed to diagnose rhythm disorders 
 usually called arrhythmias  in electrocardiographic monitoring. we have chosen the arrhythmia analysis problem because it is a domain rich in temporal and causal interrelationships  and because it is considered a remaining open question in the ecg research domain despite the efforts and the success in computerized ecg interpretation  early success: e.g.  bonner 1   recent al approach:  birman 1  . 
　　　　to diagnose rhythm disorders of the heart  the events in the undorlying cardiac conduction system must be exactly determined from one or more streams of observed bodysurface ecg signals. unlike other existing or proposed ecg systems  our system utilizes knowledge of the causal structure of physiological events in the conduction system  and tries to determine the most likely set  or sets  of underlying events that explain the input wave signals. 
　　　　the causal links  therefore  were introduced in the caa system and they play an essential role in characterizing a complex event concept aggregated from other more basic  component  concepts by specifying the causal and temporal relationships among the component events. hence  their representational role is analogous to that of structural descriptions in a composite structure concept in the spatial domain  as seen in other representational languages such as klone  brachman  r.j. 1 . in caa's event recognition  causal links are most effectively used to make expectations of events linked to already recognized events when the direct observations of those events are difficult or impossible by noise or nature. 
　　　　a frame-type representation of semantic networks is used to maintain a stratified knowledge base that contains knowledge about the waveforms of ecg signals  knowledge about the physiology of rhythm disorders  and their interrelationships. projection links were introduced to describe the concept-to-concept relationships across different kbs. 
　　　　as for the control structure  alven's basic control structure  tsotsos 1  is used and extended to facilitate the above expectation and projection mechanisms  and to handle recursive hypothesis generation for repetitive event recognition. 
　　　　from the al viewpoint  therefore  the caa system is considered as an empirical semantic network system for event sequence recognition  which includes the explicit description and use of causative temporal knowledge and the use of a stratified knowledge base structure with inter-related distinct kbs. 
1 representation of domain knowledge 
at present  the caa stratified knowledge base 
includes two distinct domain kbs: morphological kb and 
physiological kb. the morphological kb describes the observable ecg waveform knowledge such as the criteria for amplitudes  durations  and shape features of ecg waves. the physiological kb maintains the knowledge which explains abnormalities in the cardiac conduction system and interprets a rhythm disorder as a causal phenomenon in this sub-domain. the caa knowledge base also includes the control knowledge for hypothesis activation and maintenance  and it may include strategic or therapeutic knowledge such as additional measurements and drug administration. 
       caa uses a frame-type representation of semantic networks  which evolved from alven's formalism  tsotsos 1 . thus the knowledge units are called classes and are used to abstract various concepts at each knowledge domain  e.g.  class cell-cycle of each portion of the heart muscle and class beat-pattern of consecutive heart beats. each instantiation of the above class concepts generates a class-token or simply token. 
       the above instance-of relation is extended to a relation between a class and a meta-class. for example  any statistical data about class beat itself cannot be the attributes of any specific beat instance. this is a rather important distinction that most medical expert system do not make: statistical information  so commonly used in medical diagnosis systems  should be represented as attributes of the class rather than of instances of the class. furthermore  this separation can be viewed as a default mechanism. in disease classes for which insufficient information is known to diagnose them categorically  szolovitz & pauker 1  statistical information is usually contained either in the definition of the class  or with respect to a particular patient case. in such cases  however  metaclasses may be defined and used as the default reasoning mechanism. 
       a class definition consists of component-class slots  organizational descriptors such as is-a and instance-of phrases  and link descriptors: causal links  projection links and similarity links. similarity links are used as an aid in activating alternative or parallel hypotheses when exceptions occur in the recognition of the current class  tsotsos 1 . 
1 representation of causal unks 
       rleger's csa system  rieger and grinsberg 1  and patll's abel system  patil 1  are examples of current causal representations. rieger and grinsberg introduced several types of causal links and distinguished two types of causal flows: continuous causality and oneshot causality  with possible gating conditions. our caa system adopted the oneshot causal flows among events. patll introduced a multhevel causal network to explain the 
t. shibahara et al. 1 
aggregating process from basic physiological causal links to more global causal links among disorder events within a disease such as diarrhea. however  it does not seem to provide the causal links classified by the types of influence and temporality  which are essential to describe time varying phenomena as seen in the electrophyslology of the cardiac conduction system. 
we characterize a causal link by two features: 
 1  the existential dependency of an effect event on its cause event s   i.e.  the feature that no effect events can exist or happen without cause events  and 
 1  the temporal constraints between the cause events and the effect events  with a possible delay time interval. 
       thus  causal links of the caa system are classified according to  1  types of influence  and  1  types of temporal constraints. the type of influence of a causal link must be defined by the type of dependency and the roles of participating events such as cause  effect  and condition. the type of temporal constraints in a causal link is usually understood implicitly from the meaning of the link  which implies the temporal relationships between the participating events in the link. these constraints may be typed by allen's  interval relations  classification  allen 1 . 
some useful causal links in caa are the following: 
 1  transfer  transition - causal links which describe state  or phase  change from the proceeding event to the following event in time involving a single subject; transfer indicates the subject normally completes the proceeding state 
 event  and changes into the following state; and transition means the subject is forced to terminate the current state and transition into a new state. 
 1  initiation  interrupt  causal-block - causal links in which a causative event of one subject initiates or interrupts an effect event of another subject; in initiation  a causative starting  or ending  event of one subject triggers a new event of another subject  and in interrupt  a causative event of one subject interrupts  and forces to terminate  an event of another subject and make it transition to a new state. causal-block describes no causal flow but still insists a specific  negative  condition among events. 
       the following class definition exemplifies the use of causal links in a normal conduction sequence in the heart. the dot  .  notation is used to specify the component of the referred slot. 

1 t. shibahara et al. 

       the above causal links give the causative sequence of impulse propagation  where the depolarization phase of one part of the heart triggers the depolarization phase of the next part. 
1 control strategy for recognition 
       based on the principles embodied in the alven control structure  the control structure of the caa system has been extended and developed for three purposes:  1  to exploit causal knowledge about events   1  to provide a means of hypothesis projection across distinct kbs  and  1  to recognize repetitive event sequences and to detect beat to beat relationships. 
1 	expectation and confirmation through causal links 
       the task we are considering is the recognition of complex time-varying events. the role of causal relationships in such complex events is to provide local context for their components or constituents  i.e.  it is to produce expectations of the properties of this aggregated event. the system  therefore  must look ahead or look back for these causally linked component events  starting with one or more already-identified component events  to locate the temporal probable positions of  to-be-observed  events. 
       the above linked component events  however  may not be observable as waveforms in the signal. in such a case  the system will supply these non-observable variables  such as event durations  with appropriately estimated values  namely modified statistical values defined through the corresponding metaclasses. thus  the system refers to this kind of  default or statistical  metaclass knowledge when it faces lack of information in the recognition process. 
       the temporal locations and the waveforms of the above expected events must be confirmed if these events have observable counterparts in the shape domain. this is the confirmation process from the event domain to the waveform  signal  domain. 
1 	recognition steps and projection-links 
       waveform recognition starts with picking up some prominent waveforms as the starting set of signal tokens. gradually posing constraints to the most generic waveform class  the system tries to identify the token set to be a specialized waveform class. to find the best matching hypotheses to the original waveforms  a focus and change of attention mechanism is used  tsotsos 1 . this process goes over every set of signal tokens available. 
       once the waveform hypotheses are established  the system must look for the source events in the physiology kb. this event seeking process associates each waveform with several underlying events through explicitly defined projection links in the projecting classes. each projection link contains  1  a list of projected class names  and  1  a list of binding conditions to activate projected classes. since the overall arrhythmia recognition process starts with one of the most global event hypotheses  usually beat patterns   the above projected classes may be instantiated only when the current global hypothesis requires them as its components and when they are contained in projection links at a proper temporal context. 
1 repetitive beat recognition 
       the repetitive behavior of an arrhythmia is recursively defined in its class frame. using the eligible hypotheses established at the initial stage  the system recursively generates and recognizes successive beat patterns. in this recognition  the similarity links between repetitive beat patterns enable the system to activate parallel or alternative hypotheses when exceptions or special conditions occurred as the recognition proceeds. also  the causal links between consecutive beat classes verify the causal relationships among corresponding components on a beat-to-beat basis and estimate the periodicity of a series of beats as the whole. 
       examples to explain the above recognition stages are found in  shibahara et al 1 . 

1 conclusions 
       a prototype caa system has been completed with a knowledge base of a limited number of waveform abnormalities and rhythm disorders  and has so far yielded satisfactory results using independently sampled ecg data. the prototype includes all the basic control mechanisms such as causal links and projection links handlers  and has been implemented using a version of psn  procedural semantic network   previously developed at the univ. of 
toronto  levesque & mylopoulos 1    patel-schneider et al. 1 . 
       we may conclude that the inclusion of causal links as the amalgamation of causal relations and temporal constraints in a frame-type representation  along with the organizational primitives is-a and part-of  has allowed us to tackle the problem of reconstructing complex electrophysiological event sequences from gross signal characteristics. this is accomplished by defining the semantics of causality and noting that it is these semantics that can be used for the generation of expected signal characteristics and other associated events. more generally  the inclusion of causal knowledge provides a context for the recognition and reconstruction of complex event sequences. 
acknowledgements 
       the authors would like to thank all the colleagues in the psn group and the laboratory for computational medicine  lcm  at the department  for providing the fertile environment for this research  and dr. menashe b. waxman of toronto general hospital for his helpful discussions on ecg interpretation. 
       the financial assistance of the ontario heart foundation and defence research establishment atlantic is gratefully acknowledged. 
