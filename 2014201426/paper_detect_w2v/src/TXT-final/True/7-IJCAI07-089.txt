
a local spatial context is an area currently under consideration in a spatial reasoning process. the boundary between this area and the surrounding space together with the spatial granularity of the representation separates what is spatially relevant from what is irrelevant at a given time. the approach discussed in this article differs from other approaches to spatial granularity as it focusses not on a partitioning of the spatial domain  but on the notions of grain-size and the limited extent of a spatial context as primary factors of spatial granularity. starting from a mereotopological characterization of these concepts  the notions of relevant and irrelevant extension in a context are defined. the approach is qualitative in the sense that quantitative  metric concepts are not required. the axiomatic characterization is thoroughly evaluated: it is compared to other mereotopological characterizations of spatial granularity; soundness is proven with an example model; and applicability for knowledge representation is illustrated with definitions for common sense conceptualizations of sameness  and adjacency of locations.
1 introduction
representation of local  granular spatial contexts is crucial for reducing complexity of reasoning in ai applications  such as mobile robots or spatial configuration systems. via the notion of spatial context-awareness  this topic has gained importance also in other fields of research  such as research on improved human-computer-interfaces  ubiquitous computing  and location-based augmented reality  chen and kotz  1; dey and abowd  1; kanter  1; schilit et al.  1 .
모a local spatial context is understood in this article as an area currently under consideration in a spatial reasoning process. the boundary between this area and the surrounding space together with the spatial granularity of the representation separates what is relevant at a given time from what is irrelevant: to a mobile robot  e.g.  near objects may be of immediate relevance  and information about what is near is often more certain  more reliable  and more detailed than about what is further away; for planning ahead  however  details about the immediate vicinity are secondary  and a less detailed representation of the wider surroundings is needed. as hobbs  pointed out  the ability to switch between representations of different granularity may be one of the fundamental characteristics of intelligence.
모this article discusses a qualitative account of spatial granularity in which the notions of proximity and grain-size  which are formally both related to distance  are combined into a characterization of spatial granularity and local spatial context. in contrast to the geometric approach presented in  schmidtke  1; 1a   the concepts are axiomatically characterized in a way so as to be compatible with mereotopological axiomatic systems and reasoning mechanisms. the notion of grain-size is formalized using relations of comparison; quantitative  metric concepts are not necessary. the approach differs from other mereotopological approaches to spatial granularity  such as the stratified rough sets of  bittner and stell  1  or the granular partitions of  bittner and smith  1   as it focusses on the notions of grain-sizes and the limited extent of a spatial context as primary factors of spatial granularity. these notions can be used to organize the spatial locations of a domain into levels of granularity  without requiring partitioning of the domain.
모ways for applying our approach in the representation of spatial context for ubiquitous computing environments  and issues of vagueness and change of granularity have been discussed in  schmidtke  1b; schmidtke and woo  1 . in this article  we give a model as a proof of soundness for a simplified axiomatic characterization  show its formal relation to other approaches on spatial granularity  and demonstrate its applicability for representing common sense concepts.
모starting from a mereotopological framework  the notion of spatial granularity is specified based upon special regions  called extended locations  which are characterized so as to serve as both grain-regions and context-regions  sect. 1 . an extended location can be a region  such as  e.g.  a room in
a building  that-on a coarse level of granularity-is conceived to be a point-like location  whose extension is irrelevant  or-on a finer level of granularity-the spatial extension of a context  which delimits what is relevant in the context.
the approach is thoroughly evaluated in sect. 1 with respect to related works  soundness  and expressive power. an example for modeling of a domain in two scenarios is sketched. applicability for common sense knowledge representation is demonstrated with formal specifications of otherwise difficult notions involving a concept of granularity-dependent relevance of extension  namely: point-like locations  as regions with an irrelevant extension  adjacency of locations as overlap in an area of irrelevant extension  and spatial indistinguishability of locations as sameness up to irrelevant parts.
1 characterization of spatial granularity
in this section  the mereotopological framework for a qualitative  size-based axiomatization of spatial granularity is presented. after the rudimentary relations of connection and part are specified  extended locations can be characterized as linearly ordered by an ordering relation smaller  sect. 1 . this latter relation is the central tool for the formalization of size-based granularity in sect. 1.
모in contrast to the axiomatic characterization presented in  schmidtke and woo  1   we do not distinguish in this article between arbitrary regions and extended locations  i.e. regions which can be grains and context regions. this choice simplifies the discussion in sect. 1  but would severely restrict the possibilities for representing the location of objects. as sect. 1 illustrates  extended locations can justifiably be termed point-like locations. for an application in which both point-like  coarse locations  and detailed shape information about objects is to be represented  extended locations could be modeled in a sorted logic as a subtype of regions.
1 extended locations
a mereotopological basis was chosen for the characterization of extended locations. extended locations fulfill basic requirements for regions  casati and varzi  1; asher and vieu  1; randell et al.  1 : connection c is a reflexive  a1  and symmetric relation  a1 ; the relation   part of  can be defined in terms of c  d1 : x is part of y  iff every region that is connected to x is also connected to y.1
 a1 
 a1 
 d1 
it can be shown that  is a reflexive  antisymmetric relation. for a thorough treatment of mereotopological ontological questions  however  a more elaborate framework would be needed  casati and varzi  1; asher and vieu  1; randell et al.  1 .
모in contrast to general regions  extended locations have a unique size  i.e. can be ordered uniquely according to their size. more precisely  the notion of size  and thus size-based granularity  can be derived from a linear ordering 뫞  smaller or of equal size  on extended locations. the relation 뫞 is a reflexive  a1   transitive  a1   and linear  a1  relation  and all parts of a location are smaller or of the same size as the location  a1 .
 a1   a1 
 a1 
 a1 
the relation 뫞 can be used to define an equivalence relation of congruence of size 뫖  same size  and an asymmetric subrelation    smaller .
 x 뫖 y  def x 뫞 y 뫇 y 뫞 x	 d1  x   y  def x 뫞 y 뫇  y 뫞 x	 d1 
the equivalence classes with respect to 뫖 correspond to the possible sizes in a domain. however  this notion of size does not necessarily correspond to a notion of distance supporting the axioms of a metric. further restrictions would be necessary to ensure this. stronger geometric characterizations of a region-based notion of size are given in  dugat et al.  1; borgo et al.  1   in which a relation similar to 뫞 is the basis for characterizing spheres; a weak geometric characterization of region-based size for which the triangle inequality of a metric is not a consequence has been presented in  schmidtke  1; 1a . an advantage of a less restrictive formalization is that it is gives more representational freedom for modelling a domain and choosing an appropriate granulation. the notion of size characterized with the relation 뫞 does not need to correspond to a purely spatial notion of size as derived from  e.g.  the euclidean metric  but could  for instance  also include functional aspects: a small kink in the blade of a knife could thus be modeled as being more important than in its handle.1 this notion of size and relevance is compatible with the above axiomatization  but would not be supported by the more restrictive geometric characterizations  dugat et al.  1; schmidtke  1 .
1 grain regions and context regions
granularity  as characterized by  hobbs  1  is a means to retrieve simplified  filtered representations of a domain from more complex  richer representations. spatial and temporal granularity are closely related to the concept of grain-size in a local spatial or temporal context  schmidtke  1b . parts of an object that are smaller than the grain-size can be disregarded as unimportant details; objects beyond the range of the area of the local context are not in the focus of current considerations; and objects which extend beyond this range likewise need not be represented as a whole  representing local parts would be sufficient for many purposes in this case. if objects beyond this range or objects smaller than the grain-size need to be accessed  a change of context has to be initiated: as we zoom out a larger area is covered  but small details are lost  zooming into a scene  smaller details are focussed  and objects further away become irrelevant. this photo metaphor of spatial granularity has been discussed by  galton  1  뫫1 ; the results of  kosslyn  1  can be understood as supporting evidence for granularity phenomena in spatial imagery.
모the notion of an extended location being a grain location relative to a context location is axiomatically characterized using a relation |   with  denoting that x is a grain location of the context location y. zooming out then is an operation of changing from a context location c1 to a larger location c1 containing c1  with the grains of c1 also being larger than the grains of c1. axiom a1 formally characterizes this property: grains are ordered in the same way as their respective context locations and vice versa.
모for a given domain  it might be useful to have atomic locations that do not have any parts and thus no grain locations either. we accordingly define as proper context locations those extended locations which have grain locations  d1 ; and demand that such locations are covered by grains without any gaps  a1 : any location that is connected to a proper context location c is connected to some grain of c. it is worth noting that this axiom is the only ontological axiom in a narrow sense  as it actually guarantees existence of locations under certain conditions. the last axiom  a1  states that the grains of a context are proper parts of the context.
		 a1 
	cl	 d1 
 a1 
 a1 
 1 
 1 
since  a1  demands that grain locations are ordered with respect to 뫞 in the same way as their respective context locations  we obtain from  a1  with c1 = c1 that all grains of a context location have equal extension  1 . for g1 = g1 in  a1   it follows accordingly that all context locations of a grain have equal extension  1 . the range of sizes corresponding to the sizes equal to or smaller than a given proper context location and equal to or larger than its grains thus can function as a level of spatial granularity in accordance with the axiomatization of levels of granularity given in  schmidtke  1b . in particular  it is possible to characterize a corresponding ordering on levels of spatial granularity with relations   and 뫘: c1 is of finer granularity than c1  iff there is a grain of c1 that is larger than c1  d1 ; c1 is of compatible granularity with c1  iff c1 is not smaller than any grain of c1 and c1 is not smaller than any grain of c1  d1 .


it can be shown that  if restricted to the class of cl-locations  d1     is a semiorder with 뫘 as a relation of indistinguishability. the proof follows along the lines of those given in  schmidtke  1b; schmidtke and woo  1 . semiorders and non-transitive indistinguishability play an important role in the mathematical modeling of vagueness in perceptual classification  suppes and zinnes  1   e.g.  of lengths or colors in psychophysical experiments  palmer  1  p. 1 : if direct comparison is not possible  subjects may judge two lengths a and b to be the same  and the length b to be the same as c  without necessarily judging a and c to be the same lengths. a composition table for reasoning about semiorders has been given in  schmidtke and woo  1 . the mechanisms for managing contextual change of granularity as described in  schmidtke  1b  for the case of temporal granularity can be applied accordingly.
1 evaluation
in this section  the approach is evaluated with respect to related works  soundness  and expressive power. a formal comparison between the chosen size-based approach and the partitioning approach of  bittner and smith  1  is presented in sect. 1. soundness of the axiomatic characterization is proven with an example model of an office scenario  sect. 1   which also serves to illustrate application of the concepts in standard scenarios in the fields of robotics and ubiquitous computing. the gained expressive power is illustrated in sect. 1 with granularity-dependent specifications for otherwise difficult common sense notions involving the concept of irrelevant extension in a context.
1 comparison to partitioning approaches to granularity
the above axioms are neutral with respect to the question whether space is partitioned by the extended location regions. axiom a1 demands that space is completely covered by extended locations on every given level of granularity  but allows for locations to overlap. axiom a1 does not restrict this either. however  it may be desirable for some applications to impose stronger restrictions  in order to increase inferential power. a partitioning of context regions  i.e. that each context-region is completely partitioned by its grains  can be enforced with  p : a grain does not overlap another grain of the same context region.
		 p 
this formalization only restricts grains of the same contextregion  but not  e.g.  grains of different sizes  which are still allowed to also partially overlap. a stronger restriction is stated in the axiom ma1 in the theory of granular partitions  bittner and smith  1  p. 1 :  if two cells within a partition overlap  then one is a subcell of the other.  this requirement can be formulated in the given theory by demanding that two locations can only overlap if one is contained in the other

a consequence of  c  with  1  is that every context-region is partitioned by its grains  p . actually   c  is stronger than  p :  p  concerns only locations of the same size  whereas  c 

	 a 	 b 
figure 1: situation  a   showing two overlapping grains of a context  is permitted by neither  p  nor  c . situation  b   depicting locations of different sizes overlapping each other  can occur with  p  but not with  c .
figure 1: the simple layout of an office domain as an example of a model for the axiomatic system.
additionally demands that the locations of one size group into the locations of a larger size  i.e.  that locations of different sizes are not permitted to overlap  as illustrated in fig. 1b. this restriction is too strong for the intended modeling in sect. 1. the more general approach suggested here allows for different partitions to be modeled as belonging to the same granularity if they agree with respect to.
1 an example model
in order to show soundness of the characterization and as an example for illustration of the concepts to be defined in sect. 1  a simple model for the axiomatic system is provided in terms of point sets in the coordinate space r1: the space is given by the quadratic area a covering a simple layout of offices  fig. 1 ; it is interpreted by the point set ai =  1 1. connection c is interpreted by non-empty intersection  and   by the subset relation    . the set li interpreting the domain of extended locations consist of ai  the set of areas r = {hi o1i o1i o1i o1i o1i o1i} containing the point sets corresponding to the seven regions of the hallway h and of the rooms o1-o1  including the walls separating them and any door spaces  see sect. 1   and the set of circular discs  with respect to a presupposed distance function 붻 and a certain fixed maximal radius rmax  smaller than half the width of a room  around points lying in ai.
li = {ai} 뫋 r 뫋
{d p r  | p 뫍 ai 뫇 r 뫍 r 뫇 1   r 뫞 rmax}
where d p r  is the disc of radius r 뫍 r around the point p 뫍 ai:1 d p r  = {q 뫍 ai | 붻 p q  뫞r r}. the relation 뫞 is interpreted by the transitive closure of the relation 뫞  containing the relation   interpreted by    as demanded by  a1   the elements of r as being of the same granularity according to above assumption  and the ordering on the discs in li derived from the ordering 뫞r on the radii of discs.
뫞  = { m1 m1  | m1 m1 뫍 li m1   m1} 뫋 r1
뫋 { d p1 r1  d p1 r1   | r1 뫞r r1}
with   and 뫞r being ordering relations that do not conflict with each other   a1 - a1  follow accordingly.
모for the axioms in sect. 1  an interpretation for | is needed: the grains of a are the rooms and the hallway; the grains of a disc of radius r can be set to always have the size   for a certain fixed factor c   1 and the grains of rooms are discs of a certain fixed radius rg  with.

axiom a1 holds since r was defined so as to cover ai  and there is a disc d p r  for every size 1   r 뫞 rmax around every point of ai. all grains are subsets of their respective context regions and elements of li  and no context is its own grain  a1 . axiom a1 can also be shown: the regions in r are contained in ai; for every disc  there is a disc of the same size contained in a region of r since rmax was required to be smaller than half of the width of a room; and for the ordering on discs  we obtain that.
모a similar structure  with a restricted minimum size for the discs  could be the result of representing a certain office environment for an application in robotics or ubiquitous computing. in a scenario of a service robot moving through an office environment  the level of granularity of the offices could be used  e.g.  for possible addresses in commands to the robot  whereas the level of granularity corresponding to discs having the diameter of the robot can serve as the level of exact point-like locations of the robot. for planning local motion  e.g.  a robot may employ numeric relative coordinates  whose accuracy varies with the speed of motion. discs of larger sizes can be used to represent such vague coordinates. as errors add up  a computationally more expensive logic-based reasoning process for relocalization can be triggered. the formalism thus allows for reasoning about qualitative long range navigation as well as quantitative short range navigation in a unifying manner. a similar interpretation can be given for a ubiquitous computing scenario  as location sensing technologies differ with regard to accuracy and type of sensed location  hightower and borriello  1 .
1 definition of granularity-dependent concepts
granularity-dependent and context-dependent concepts such as spatial indistinguishability and adjacency of locations can be described with reference to an underlying partitioning of

	 a 	 b 
figure 1: adjacency and relevant overlap in the office scenario of fig. 1: the hallway and the office share a relevant  and viable  sublocation  adjacent offices share sublocations of irrelevant size.
the plane. so it remains to show  how these notions can be expressed in the size-based approach and in which way the two approaches differ as regards expressiveness. the key concept to achieve this is the distinction between relevant and irrelevant locations contained in a context-region: a location x is a relevant sublocation of a context region xc if it is completely contained in the context-region and has at least grainsize  d1 .

this notion can be used to distinguish between different types of overlap between two size-congruent locations: if two locations are distinguishable only by sublocations of irrelevant size  they can be called spatially indistinguishable     d1 ; two locations relevantly overlap     d1   iff they share a common relevant sublocation  but are not indistinguishable; and locations having only common sublocations of irrelevant extension are called granularly adjacent  |   d1 .

x1    x1  def x1 뫖 x1 뫇  x1    x1 뫇
 d1 
these relations can be used to model granularity-dependent adjacency and vague identity of locations as well as modes of movement of objects. in fig. 1  the extended locations corresponding to offices are determined by the region an office occupies including the walls and any door spaces. if the parameter rg in the model is chosen so that the grains of the context regions of offices are larger than the width of the walls but smaller than the door spaces  e.g. as corresponding to the size of possible positions of a service robot  then we obtain that an office is classified
  as adjacent to the offices with which it shares a wall 
  as relevantly overlapping the hallway.
모the example illustrates that space can be structured with the proposed characterization of granularity in a similar way as with a partitioning  but without imposing unnecessary restrictions  thus opening additional options for representation:
  to which office a certain wall belongs does not have to be decided. the walls can be modeled as boundaries with irrelevant extension.
  the relation of relevant overlap can be used to model accessibility  and to describe the viable paths.   the discrete representation of space on the level of granularity of the offices can be combined with a dense or continuous conceptualization of space on finer levels.
the example also shows how a modeling using extended locations can offer benefits over a modeling based on points. for the possible positions of a robot moving through the domain  only the unoccupied locations of sufficient size are possible locations: the robot could be localized by a location of at least the size of its extent  a coarser location would be the room it is currently in. from the perspective of a perceiving mobile robot  its location on the finest level is determined only relative to a larger surrounding context region. its absolute position in the domain can be inferred by combining this local relative position with knowledge about its position on a coarser granularity. self-localization thus is meaningful only as localization relative to a larger context.1
모given different levels of temporal granularity  the movement of a robot on a trajectory can be discretized into a sequence of extended locations  representing the robot's position at different times:
  on a very fine level of temporal granularity  no relevant motion is perceivable: consecutive positions xi and xi+1 are indistinguishable: xi    xi+1 
  on an intermediate level of temporal granularity  consecutive positions can additionally be adjacent or relevantly overlapping  depending on the velocity of the robot.   for a coarse level of temporal granularity  consecutive positions have to be of a coarser spatial granularity  in order to be related.
the example of motion shows another advantage for the representation with extended locations over the representation by points. the different cases listed above cannot be distinguished in a point-based representation: two points on a trajectory can only be identical or disjoint. a region-based representation without granularity adds additional relations  such as overlap and external connection  galton  1  뫫1 . spatial granularity  as characterized here  encoding strata of basic sizes  adds further concepts of approximate location. the relation     like 뫘  is symmetric and reflexive  but transitive only if space is partitioned by the extended locations.
1 outlook and conclusions
in this article  an approach to spatial granularity was discussed in which granularity is represented as based on the sizes of certain regions  called extended locations. the mereotopological basis for the axiomatic characterization allows for combination and comparison with related approaches. the axiomatized theory could be shown to be a generalization of existing approaches to spatial granularity. the analysis in sect. 1 illustrated that the proposed approach gives more representational freedom for structuring application spaces in comparison to approaches proposing a partitioning of the domain.
모in order to derive reasoning mechanisms  such as composition tables for the relations described in sect. 1  the characterization would have to be restricted with additional assumptions about the underlying space. however  the assumption that space is partitioned by the locations is a very restrictive one  as the relations of indistinguishability and adjacency would be collapsed to identity and sharing of portions of the boundary  respectively. the example model illustrated that a whole range of possible alternatively structured spaces can be characterized  including spaces partitioned in a less strict way. these alternative characterizations can be useful to avoid ad-hoc decisions  e.g.  in modeling boundaries  as the example of the representation of the walls between offices showed. it is likely that this increased expressiveness comes at a price. future work will accordingly include investigating questions of completeness and complexity.
