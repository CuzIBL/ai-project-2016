 
theory resolution constitutes a set of complete procedures for incorporating theories into a resolution theorem-proving program  thereby making it unnecessary to resolve directly upon axioms of the theory. this can greatly reduce the length of proofs and the size of the search space. theory resolution effects a beneficial division of labor  improving the performance of the theorem prover and increasing the applicability of the specialized reasoning procedures. applications include the building in of both mathematical and special decision procedures  e.g.  for the taxonomic information furnished by a knowledge representation system. theory resolution is a generalization of numerous previously known resolution refinements. its power is demonstrated by comparing solutions of  schubert's steamroller  challenge problem with and without building in axioms through theory resolution.1 
1 	i n t r o d u c t i o n 
incorporating a theory into derived inference rules so that its axioms are never resolved upon has enormous potential for reducing the size of the exponential search space commonly encountered in resolution theorem proving. theory resolution is a method of incorporating specialized reasoning procedures in a resolution theorem prover so that the reasoning task will be effectively divided into two parts: special cases  such as reasoning about inequalities or about taxonomic information  are handled efficiently by specialized reasoning procedures  while more general reasoning is handled by resolution. the connection between the two reasoning components is made by having the resolution procedure resolve on sets of literals whose conjunction is determined to be unsatisfiable by the specialized reasoning procedure. the objective of research on theory resolution is the conceptual design of deduction systems that combine deductive specialists within the common framework of a resolution theorem prover. 
   concern has often been expressed about the ineffectiveness of applying resolution theorem proving to problems in artificial intelligence. theory resolution is designed to partly address this concern by providing a means for incorporating specialized reasoning procedures in a resolution theorem prover. the division of labor achieved in the reasoning process by theory resolution is 
'this research was supported by the defense advanced research projects agency under contract n1-k-1 with the naval electronic systems command and was also made possible in part by a gift from the system development foundation. the views and conclusions contained in this document are those of the author and should not be interpreted as representative of the official policies  either expressed or implied  of the defense advanced research projects agency or the united states government. approved for public release. distribution unlimited. 
intended to produce the dual advantages of improving the theorem prover's performance by the use of more efficient reasoning procedures for special cases and of increasing the range of applicat ion of the specialized reasoning procedures by including them in a more general reasoning system. 
   past criticisms of resolution can often be characterized by their pejorative use of the terms uniform and syntactic. theory resolution meets these objections head-on. in theory resolution  a specialized reasoning procedure may be substituted for ordinary syntactic unification to determine unsatisfiability of sets of literals. because the implementation of this specialized reasoning procedure is unspecified-to the theorem prover it is a  black box'' with prescribed behavior  namely  able to determine unsatisfiability in the theory it implements-the resulting system is nonuniform because reasoning within the theory is performed by the specialized reasoning procedure  while reasoning outside the theory is performed by resolution. theory resolution can also be regarded as being not wholly syntactic  since the conditions for resolving on a set of literals are no longer based on their being made syntactically identical  but rather on their being unsatisfiable in a theory  and thus resolvability is partly semantic. 
   reasoning about orderings and other transitive relations is often necessary  but using ordinary resolution for this is quite inefficient. it is possible to derive an infinite number of consequences from a   b and  x   y  a  y   z  d  j   x  despite the obvious fact that a refutation based on just these two formulas is impossible. a solution to this problem is to require that use of the transitivity axiom be restricted to occasions when either there are matches for two of its literals  partial theory resolution  or a complete refutation of the ordering part of the clauses can be found  total theory resolution . 
   an important form of reasoning in artificial intelligence applications embodied in knowledge representation systems is reasoning about taxonomic information and property inheritance. one of our goals is to be able to take advantage of the efficient reasoning provided by a knowledge representation system by using it as a taxonomy decision procedure in a larger deduction system. krypton  1  represents an approach to constructing a knowledge representation system composed of two parts: a terminological component  the tbox  and an assertional component  the abox . for such systems  theory resolution indicates in general how information can be provided to the abox by the tbox and how it can be used by the abox. 
1 	theory resolution 
we will now define the theory resolution operation and discuss various useful restrictions on theory resolution. we will limit our 
   
1 m.stickel 

	m.stickel 	1 

   
1 	m.stickel 
   harrison and rubin's u-generalized resolution  is essentially binary partial narrow theory resolution applied to sets of clauses that have a unit or input refutation. they apply it to building in the equality relation  developing a procedure similar to morris's e-resolution . the restriction to sets of clauses having unit or input refutations eliminates the need for factoring and simplifies the procedure  but otherwise limits its applicability. no effort was made in the definition of u-generalized resolution to limit the applicability of t-resolution to reasonable cases  e.g.  formation of an ord-resolvent of a   b and c   d is permitted by the definition . 
¡¡the linked inference principle by wos et al.  is related to theory resolution in concept and purpose. the linked inference principle is a somewhat more conservative extension of resolution than theory resolution  since it stipulates that the theory will be built in by means of clauses designated as linking clauses. theory resolution  on the other hand  allows the theory to be incorporated as a  black box  that determines t-unsatisfiability questions in an unspecified manner. this facilitates the use of other systems  which do not rely upon resolution or clause representation  to build in theories. nevertheless  many instances of theory resolution can be usefully implemented in the manner of the linked inference principle. since the implementation proposal for the linked inference principle is more concrete  wos et al. have expended comparatively more effort in determining how inference using the linked inference principle is to be controlled  including defining linked variants of resolution refinements such as unit-resulting resolution and hyperresolution. 
   we have already suggested the importance of theory resolution for taxonomlc reasoning. this is being explored in the krypton knowledge representation system. figure 1 contains a nearly verbatim transcription of a proof using krypton-style reasoning. the problem is to prove that  if chris has no sons and no daughters  then chris has no children. 
   the terminological information used in this problem through theory resolution includes the statements that boys are persons whose sex is male; girls are persons whose sex is female;  no-sons* are persons all of whose children are girls;  no-daughters  are persons all of whose children are boys. relevant portions of this information are included in formulas 1  which are used to define what theory resolution operations are possible. if complements of the first two atoms of each formula can be found  they can be resolved upon  and the remaining part of the formula  if any  would be derived as the residue. thus  formula 1 expresses the unsatisfiability of boy john  and -peraon john . formula 1 permits the derivation of girl sandy  from noson mary  and child mory  sandy . these formulas behave similarly to linking clauses in linked inference . 
   the assertional information used in this problem includes the information that every person has a sex; males and females are disjoint; chris has no sons and no daughters. from these facts  and the built in terminological information  a refutation is completed starting with the negation of the desired conclusion that chris has no children  sk1 and sk1 are skolem functions. 
the following table compares the statistics for proofs comthere is a noticeable improvement resulting from using theory resolution  but because the problem is so small  the difference is not large. harder problems  like the one in section 1  can be used to demonstrate much greater improvement. 
   theory resolution for taxonomic reasoning also incorporates many elements of reasoning in a many-sorted logic. for example  in walther's ¡Ærp-calculus  many-sorted resolution and paramodulation   1   sort declarations  subsort relationships  and sort restrictions on clauses are all incorporated into the unification procedure  and eliminated from the clauses in the statement of a problem. thus  the ¡Ærp unification procedure implements a theory of sort information. 
1 	experimental results 
although the relationship of theory resolution to many other extensions of resolution and experience with numerous small examples support the practical value of theory resolution  we will not elaborate on these  but will rather bolster our claim with an examination of experimental results for  schubert's steamroller* challenge problem. 
   schubert's steamroller problem  annotated with formula numbers  is 
 1  wolves  foxes  birds  caterpillars  and snails are animals  and  1  there are some of each of them. also  1  there are some grains  and  1  grains are plants.  1  every animal either likes to eat all plants or all animals much smaller than itself that like to 
   

   we present statistics on several solutions of schubert's steamroller problem found by our theorem prover . the first is a proof that does not use theory resolution; the second is a proof using theory resolution to implement the taxonomic information in the problem  formulas 1 ; the remaining proofs show the results of using theory resolution to build in each of formulas 1 successively. 
   the same strategy was used for all of the proofs. nonclausal connection-graph resolution was the principal inference rule. factoring was not employed. pure  variant  and tautologous formulas were eliminated. single literal formulas were used for both forward and backward demodulation. 
   heuristic search  guided by a simple weighted function of the deduction level of the parents and the expected size of the resolvent  was used to decide which inference operation should be performed next. the set of support strategy  with only formula 1 supported  and an ordering strategy that designated which atoms in a formula could be resolved upon were used to limit the number of alternative inference operations. 
   in using theory resolution  connection graph links were created from key sets of literals in the theory being incorporated. formulas 1 and 1 were implemented by binary total narrow theory resolution links and formulas 1 were implemented by 1-ary total narrow theory resolution links. for example  wolf t  and - animal t  could be linked  and bird t1   snail  t1   and likes to eat  t1 t1  could all be linked. theory resolution was also used in demodulation-e.g.  wolf t  could be used to demodulate animal t  to true. 
   following are the statistics for the various solutions of schubert's steamroller problem. included in the statistics are the number of formulas inputted to the theorem prover  the number of formulas derived in the course of searching for a proof  the number of inputted and derived formulas still present when a proof was found  the number of successful unification attempts during the search for a proof  including unification during link inheritance   the time required for the proof  on a symbolics 1 personal lisp machine   and the length of the proof in resolution steps. 

	m.stickel 	1 
   also included in the table are statistics we know for solutions of schubert's steamroller problem by other systems. unfortunately  use of slightly different axiomatizations  e.g.  whether  grain-eating animal  is interpreted as an animal that eats some grain  our work  see   or every grain   makes statistics for these different solutions not strictly comparable. we will publish a more detailed comparison of solutions later. 
   the mkrp solution was done by walther  using the markgraf karl refutation procedure . this proof relied heavily on the mkrp terminator module   which is essentially a very fast procedure for finding unit refutations. a superior proof by walther  used his ¡Ærp calculus  1  in the mkrp system to perform many-sorted resolution on a much reduced set of clauses. this proof also used the terminator module  but  given the reduction in the number of clauses and literals made possible by using many-sorted resolution and its restrictions on unification  here its use was not essential to finding a solution with reasonable effort. mkrp is written in interlisp and was run on a siemens 1 computer. 
   our first theory resolution proof  in which only the taxonomic information of formulas 1 is incorporated  has some similarity to a many-sorted resolution proof. in the mkrp ¡Ærp proof  woif  fox  bird  caterpillar  and snail were declared to be subsorts of sort animal and gram was declared to be a subsort of sort plant. the unification algorithm was restricted so that a variable can be unified with a term if and only if the term is a subsort of or equals the sort of the variable. for building in just this taxonomic information  many-sorted resolution is stronger than this particular instance of theory resolution. although theory resolution handles the sort literals more effectively than ordinary resolution  many-sorted resolution dispenses with them entirely. also  many-sorted resolution is used to build in the sort information for skolem constants and functions so that  in schubert's steamroller problem  formulas 1 are supplanted by type declarations. 
   the itp solution was found by the automated reasoning system itp  written in pascal  developed at argonne national laboratory . this solution used qualified hyperresolution  1  and was completed in about six minutes on a vax 1 computer . like the theory resolution and mkrp ¡Ærp solutions  this solution treated the taxonomic sort information in the problem specially. in qualified hyperresolution  some literals in a clause can be designated as qualifier literals that contain  conditions of definition  for terms appearing in the clause. qualifier literals are ignored during much of the inference process e.g.  a clause consisting of a single nonqualifier literal and some qualifier literals is handled as if it were a unit clause with the conditions imposed by the qualifier literals checked only after the qualified terms are instantiated. thus  sort restrictions can be specified in qualifier literals and deductions can be performed using only the nonsort information. the deductions are then subjected to verification that terms are of the correct sort. 
1 	conclusion 
theory resolution is a set of complete procedures for incorporating decision procedures into resolution theorem proving in firstorder predicate calculus. theory resolution can greatly decrease the length of proofs and the size of the search space. theory resolution is also a generalization of several other approaches to building in nonequational theories. 
1 	m.stickel 
   we are implementing and testing forms of theory resolution in the deduction-system component of the klaus naturallanguage-understanding system  1 . this system demonstrated substantial improvement in performance when theory resolution was used on schubert's steamroller challenge problem. the krypton knowledge representation system is also applying the ideas of theory resolution to combine a terminological reasoning component and an assertional reasoning component  for which they are also utilizing the klaus deduction system . 
   theory resolution is a procedure with substantial power and generality. it is our hope that it will serve as a base for the theoretical and practical development of a methodology for combining the general reasoning capabilities of resolution theorem-proving programs with more efficient specialized reasoning procedures. 
   one important area for further research on theory resolution is finding restrictions on the need for retention of tautologies and determining compatibility with other resolution refinements. 
   another important research question is handling combinations of theories  beyond the trivial case of totally disjoint theories . successful combining of multiple deductive specialists within a resolution framework awaits further development in this area. the work of nelson and oppen  and shostak  on combining quantifier free theories may be relevant. 
acknowledgments 
the author would like to thank mabry tyson  richard waldinger  and christoph walther for their very useful comments on an earlier draft of this paper. 
