　e x t r a c t i n g u s e f u l a d v i c e r f r o m c o n f l i c t i n g e x p e r t i s e 1 
r e n t reboh. 
	artificial intelligence center 	dedicated to 
	sri international 	john gaschnig 
menlo park  ca 1 

a b s t r a c t 
　a method for automatically identifying areas of disagreement and their sources is presented for multiexpert knowledge-based systems in the context of the prospector consultation system. it employs performance evaluation techniques in combination with the explanatory facilities present in many expert systems to assist the user of an expert system in deciding which among several possibly conflicting expert opinions he should choose. 
1 . i n t r o d u c t i o n 
　an important issue encountered in the construction of expert problem-solving programs is how to deal with conflicting expert advice. this question arises even more tangibly in real-life decision-making-whether in the courts  the financial world  or in the context of our political and social institutions. typically  groups supporting different sides of an issue enlist the services of highly respected experts who  as often as not  arrive at diametrically opposing conclusions or suggest conflicting courses of action. even when experts do arrive at the same conclusion  how do we know they reached it for the same reasons1 the process by which the decision-maker  who presumably is not an expert himself  otherwise we might  witness another conflicting opinion   finally decides whose advice to follow is at best highly subjective. 
　a significant consequence of the development of knowledge-based expert systems is that they render the reasoning processes of the expert more explicit and therefore open to scrutiny  evaluation  and testing. most expert systems provide explanatory facilities that can communicate these reasoning processes to the user  thus enabling him to accept the system's opinion with greater 
confidenee--or at least providing him with a tool to assess their applicability to his problem. the question then  is: how can we take advantage of this explicit representation of expertise to design more objective multiexpert decision support tools  
　the knowledge bases of many existing expert systems are each the product of contributions from several experts  and could therefore be termed multiexpert 
   this research was supported in part by the united states geological survey under contract no. 1-1. 
knowledge bases. typically  the section of the knowledge base contributed by one expert encodes his particular area of expertise. for the purpose of this paper  however  we shall refer to these knowledge bases as nonconflicting multiexpert knowledge bases  restricting the term multiexpert knowledge  base to refer to the encoding by two or more experts of the same area of expertise. 
　because a multiexpert knowledge base encodes expertise obtained from several expert sources  segments of that expertise will undoubtedly be duplicated  while other segments might vary in diverse ways. for instance  source a could believe more strongly than source b in the association between evidence e1 and hypothesis h; source c  on the other hand  might not consider e1 important at all  but might ascribe more relevance to some entirely different observation  e1- obviously  there will be many interactions and inconsistencies in the resulting knowledge base. the problems encountered in representing such interactions  however  are not peculiar to conflicting multiexpert knowledge. in fact  similar interactions are encountered in nonconflicting knowledge bases  where the problem of maintaining the consistency of the knowledge base as it grows must be dealt with in a similar fashion. in  and  1| we explain in detail how such conflicts are discovered and resolved in the prospector environment. 
　for simplicity  and without loss of generality  we shall assume in the ensuing discussions that we have encoded in some suitable expert system the opinions of just two experts  a and 1  about a particular subject. the conclusions arrived at in the course of consultation with such a system might correspond  essentially  to the following: 
if you were to consult with expert a  be would suggest ... 
if jou were to consult with expert b  he would suggest ... 
　for most user categories these conclusions are unsatisfactory because the user still has to make the final decision. if an appropriate explanatory facility is provided in the expert system  however  he might be able to probe the rationale underlying each expert's conclusions  identify the sources of possible disagreement  and perhaps derive a consensus opinion. 
1 	r. reboh 
　there are several techniques that can be readily implemented in most expert system environments to assist the user in arriving automatically at such a consensus opinion.1 examples of such techniques include the following: 
  assigning weights to the various sources of expertise to reflect the user's belief in the respective competence of each source  then having the system combine opinions obtained from each source according to those weights. for example  if at some installation the expert system is to be employed primarily to solve a particular class of problems  the weights can be distributed among selected segments of the knowledge base to reflect the experience of the people at that site and their belief in the applicability of such segments to the problems and situations most frequently considered. 
  adding a decision analysis interface  employing rule-based techniques or traditional decision analysis methods  to serve as a back end to assist the user in filtering and synthesizing the opinions of the various experts. 
　in both these approaches  specialized  meta  knowledge must be encoded in the decision support tool. for instance  the knowledge base of the decision analysis interface in the second approach must encode strategies for recognizing  perhaps through additional interaction with the user  the situational context in which a given opinion has been rendered. furthermore  the knowledge base must know in which contexts one opinion is more valid than another  as well as take into account such special user preferences as degree of risk aversion  company policy  and so on. 
　the remainder of this paper describes an approach that does not require such special knowledge  but relies instead solely on the contents of the expert system's knowledge base the method assumes a representation of the knowledge base that supports an explanatory facility and allows performance and sensitivity analyses to be performed on selected segments of the knowledge base. we shall outline this technique in the context of 
prospector  a knowledge-based consultant for mineral exploration  1  1  1 . although we have not applied this methodology directly to the reconciliation of conflicting expert advice in actual consultntions with prospector  similar techniques were used during knowledge base construction to detect and resolve the contradictions that often arise when new expertise is merged with an existing knowledge base in order to elucidate important aspects of the proposed approach  we shall in the next section briefly review the representational formalisms  explanatory facility  and performance evaluation techniques employed in the prospector environment; we shall then show how these features can be combined to 
   we know of no expert system  however  in which such techniques have been attempted directly. 
automatically provide the user with impartial assistance when he is confronted with disparate expert opinions. 
1 . p r o s p e c t o r ' s t e c h n i q u e s f o r 
	k n o w l e d g e 	r e p r e s e n t a t i o n   
	e x p l a n a t i o n   	a n d 	p e r f o r m a n c e 
e v a l u a t i o n 
1. inference network representation 
　prospector's knowledge base consists primarily of models that describe important classes of ore deposits. the models encode experts' knowledge of the associations between field-observable evidence and relevant geological hypotheses. a hierarchical  acyclic  network structure called an inference network is used to group these associations in ways that make explicit the judgmental reasoning processes employed by the expert to solve geological problems inference networks can be viewed as providing a simple language that can be utilized by a knowledge engineer for communicating with a domain expert. this language allows the expert to specify  a  the factors that are relevant for solving a problem   b  the paths for propagating information from a given factor to a hypothesis by explicitly indicating which factors affect others  and  c  how degrees of belief in these factors should be combined to reach a conclusion. 
　prospector's inference network language provides a set of standard primitive procedures for updating a probabilistic measure of belief in a given factor by combining the belief measures computed for the factors that affect it. the xyz model of figure 1 illustrates some of the representational constructs employed in prospector. without fully explaining the manner of interpreting these inference diagrams  let us simply observe that  in effect  various factors  represented by boxes  are combined by plausible inferences  arrows with which two rule strength numbers are associated   logical inferences  arrows to boxes containing and. or  or not   or contextual relations  dashed arrows . numbers on the right corners of boxes are prior probabilities associated with the corresponding factors. the strength of the rule labeled l cpy  varies over the range of values  i.e.  pyrite concentrations  associated with the node cpy. p cpy  defines the prior probability distribution associated with 
cpy.1 
　once obtained  an inference network can be interpreted in varying ways to perform different tasks. for example  during a consultation the interpreter is concerned primarily with selecting a suitable line of reasoning and determining which would be the most important data to a.sk the user about. the interpretation thus results in an interaction with the nscrto ascertain which of the models encoded best matches the prospect described by the user's answers. 
   the inference network language supports several additional constructs. in particular  in developing hydro  a knowledge-based interface to a hydrological modeling system  1  1|  several constructs were added to extend prospector's probabilistic inference mechanisms to reasoning about numerical quantities. 

	r. reboh 	1 

	figure 1: 	a prospector inference network 

1 r. reboh 
1. explanatory facility 
　in addition to the simple rule-backchaining employed by many expert systems to explain their line of reasoning  prospector is capable of a sophisticated interpretation of the state of its knowledge base for the purpose of furnishing more useful explanations anytime during a consultation. for instance  by performing both a best- and a worst-case analysis of the possible effects of rules invoked to establish a hypothesis  prospector can inform the user of the most critical factors that contributed to its conclusions or that have the potential to change them. this often suggests to the user what actions he can take if  in fact  lie should wish to alter prospector's conclusions or at least increase their reliability. this situation is particularly common in the early stages of exploration when  because the user supplies relatively little information to the system  very uncertain conclusions are generated. by displaying the reasons for its uncertainty  prospector is in effect suggesting to the user that  to achieve a more certain conclusion  he should consider taking some proposed action-such as performing geochemical analyses  drilling a hole  and so on. other features of the explanatory system stem from prospector's ability to relate user-volunteered information efficiently to its knowledge base  using a semantic network matcher; see  1  1j . for instance  the explanatory system can distinguish between evidence that has been inferred through the application of expert rules and evidence that has been directly or indirectly supplied by the user. it is also able to explain why the system's control strategy asks about a particular factor as well as why it is focusing on establishing a particular global hypothesis. 
1. performance evaluation techniques in prospector 
　the exact methodology and tools employed are discussed in detail in  1  1  1 . a brief outline of the most important aspects of our approach is given below. 
1.1. relative comparison of prospector with the expert 
　because there exist no objective quantitative measures for evaluating the performance of human geologists  few experiments have been attempted to determine just how good prospector's conclusions are in absolute terms  see  l   however  for one such successful experiment . we have concentrated instead on assessing the validity of prospector's conclusions  as compared with those of the specialists who provided the models  when the human experts are presented with the same situation and input data. selected test cases typically include not only regions that are good exemplars of the model being evaluated  but also some poor matches and false-alarm situations. for each test case  prospector's conclusions arc compared with the expert's assessment  the target conclusion . comparisons are performed for the top-level hypothesis in each model  usually corresponding to the likelihood that a particular type of ore deposit will be present in the considered location   as well as for several intermediate hypotheses  i.e.  lower-level sections of the inference network . 
1.1. sensitivity analysis 
　because a degree of certainty can be associated with input data  we also investigate the sensitivity of prospectors conclusions to perturbations in the certainties of the inputs. to perform this analysis  prospector is applied  in a batch mode fashion  to each of the test cases while the input data are systematically modified. at least two runs are executed in which input data are modified towards increased and decreased certainty  respectively. on the basis of prospector's certainly scale of -1 to 1  all inputs are moved towards 1 in the less certain run and towards the endpoints -1 or 1 in the more certain run. conclusions from these runs are compared with the original standard run and the differences then analyzed. here too the analysis is performed both for the top-level hypothesis and for 
several intermediate hypotheses. 
1.1. performance evaluation and sensitivity analysis as diagnostic tools 
　several tools  e.g.  one for generating scattergrarns automatically on a bit map display  have been implemented in the prospector environment for analyzing the result* of performance evaluations and sensitivity analyses as a consequence of these experiments  areas of disagreement between the expert and prospector can be easily and accurately identified and their sources isolated. furthermore  a careful interpretation of both the performance evaluation and the sensitivity analysis results makes it possible to establish a priority ordering to determine which sections of a model would most benefit from further revision and refinement-and to ensure that parallel conclusions of prospector and the expert are indeed based on the same considerations. 
1 . a p p l y i n g e v a l u a t i o n a n d e x p l a n a t o r y 	f a c i l i t i e s 	t o g e n e r a t e 	c o n s e n s u s 
　in the foregoing section we outlined how  in prospector  a model is compared with its human author. if  instead of being elicited from the human expert  the target conclusions were derived from another model encoding divergent expertise  it is easy to see how performance evaluation techniques similar to those outlined above can be applied to compare the two models. because two models encoding opinions of two different experts might differ entirely as to which factors are considered to solve a particular problem and as to the manner in which the relevant knowledge and data are structured  the system's explanatory facility can be utilized to pinpoint areas of disagreement  as well as of agreement ; sensitivity analysis techniques can be used to assess the criticality of the differences. more importantly  the source of such disagreement can be traced through the inference network to nodes that are shared by both models  i.e.  factors considered by both experts but to which different effects are attributed  or to nodes contained in at least one of the models  i.e.  factors considered relevant by some expert   and that correspond to observable evidence. 
conclusions generated in consultation with a system 
containing these features might look like the following: 

　if the user  i.e.  the decision-maker  confronted with the above recommendation has no idea whatsoever regarding the relationships between observation e1 and hypothesis ii  or between e1  and h1  he might conceivably probe further into both sides of the issue by enlisting additional experts. this time  however  they will be concerned with a much smaller subset of the problem: the relationships between e1  and h1 and between e1 and h1- it is possible that a finer-grade knowledge base with expertise relevant to that problem subset will have already been encoded  so that the same methodology could be applied recursively to the models encoding the smaller domain. ultimately  because each subsequent reformulation of the sources of disagreement entails an even more constricted domain of expertise  the user will be capable of deciding the issue himself. 
　finally  let us briefly describe how prospector can represent and propagate the effects of conflicting rules. let us first observe that no additional mechanism is needed to handle nonconflicting sections  i.e.  identical  of both models or sections that occur in only one of the models. we must  however  be prepared to deal with conflicting rules  i.e.  having conflicting rule strengths  that link the same evidence to the same hypothesis in different models. the case in which the conflicting rules have left-hand sides  or right-hand sides  that are different  yet semantically related  can be reformulated into the simpler case of identical left-hand sides  or right-
   rather than display a complete analysis such as that illustrated here  prospector's explanatory system allows the user to interactively explore only selected paths of the inference network pursuing each path to any desired depth. 
	r. reboh 	1 
hand sides . a method for performing this reformulation in prospector is described in  1  1 . it uses partial matching techniques to discover inference network nodes with overlapping semantic content and  if necessary  additional rules are automatically generated to interconnect the related concepts in a numerically consistent manner. 
　at present  when prospector discovers conflicting rules with identical left- and right-hand sides   e.g.  in the process of adding a new model to the existing knowledge base   it declares an inconsistency; the knowledge engineer must then resolve the situation by talking to the experts and modifying the inference networks. in a system that tolerates the coexistence of nonconcuring expertise  we can leave the conflicting rules--as long as the paths for propagating their effects through the inference network are kept distinct. prospector has a mechanism for maintaining such a distinction when necessary. called the proc mechanism   it allows prospector to be used recursively when  in the process of establishing some hypothesis  it must solve another classification suhproblem. the sections of the inference network that encode the alternative hypotheses concerning the subproblem can be executed as often as necessary to arrive at a solution for the snbproblem that can then be propagated through the network in the usual manner. to allow for the recursive use of sections of inference networks  a simple property list structure-rather than a single slot-is associated with certain fields  e.g.  probability  value  etc  that  in turn  are attached to nodes in the networks. values stored in these fields can thus be maintained  i.e.  modified  propagated  examined  and so on  relative to distinct environments. in a multiexpert system  each expert can be regarded as constituting such a distinct environment. 
1 . 	c o n c l u s i o n 
　when we construct a knowledge-based system  we attempt to encode approximations of an expert's problemsolving skills in some domain. there are limits  of course  to what any particular representation of such expertise in machine-interpretable form can express; some subtleties of specialized human know-how remain invariably unaccounted for. for these and other reasons it will be a 
　long time before an expert system is developed whose advice will actually be superior to that of the experts who supplied its knowledge base. at best  by virtue of the systematic-analysis capabilities of computer programs and the fact that a knowledge base can contain expertise obtained from a number of experts  we can affirm that such a system indeed has the potential to become a better overall expert than any of the individuals who helped build its knowledge base. in any event  by employing techniques such as those summarized here  we can show that an expert system  in addition to its ability to exhibit occasionally impressive competence in a subject area and explicate the reasoning behind its conclusions  can offer even greater utility as an objective and impartial decisionsupport tool. 
　we believe that these techniques are sufficiently general to be readily implementable in other expert system environments. 
1 	r. reboh 
a c k n o w l e d g m e n t s 
　i have had many discussions with john reiter in preparing this paper. he also conducted a substantial number of the performance assessment experiments for both prospector and hydro  implementing many evaluation tools. savcl kliachko read several draft versions of this paper and his helpful comments are greatly appreciated. 
　many computer scientists and consulting geologists have contributed to the development of the prospector system. 
the contributions over many years of richard o. duda  vter f. hart  and the late john g. gaschnig are particularly relevant to the work described here. jonathan slocum made significant improvements in prospector's explanatory system. 
