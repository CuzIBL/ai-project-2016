 
in this paper  we wish to make three contributions to naive 
physics in the context of reasoning about devices.  1  we discuss some limitations of current qualitative simulation approaches with regard to a number of issues in understanding device behavior and point to the need for additional processes.  1  we introduce a new approach to deriving the behavior of devices called consolidation. in this approach  the behavior of a device is derived from the behavior of its components by inferring the behavior of selected substructures of the device.  1  we present an ontology of behavior and structure which is wellsuited to the consolidation process. this ontology makes it possible to state rules of behavior composition  i.e.  simple patterns of behavior and structure are used to infer additional behaviors. 
1. introduction 
　naive physics is the commonsense knowledge that people have about the world. this knowledge includes the ability to qualitatively understand the behavior of physical systems. our investigation is presently concerned with a subset of physical systems  focusing on designed artifacts or devices. ultimately  we are interested in developing a representation which is applicable to a wide variety of understanding problems. however  the research described here is conducted specifically on the problem of deriving the behavior of a device given its structural description and the behavior of its components. we hope to integrate the results of this research with other work concerning the functional representation and diagnosis of complex devices . 
　one recent approach to this problem is qualitative simulation  1  1  1 . the description of the device determines the relevant quantities and constraints of the simulation  a simulation is performed  and the results are transformed into interpretations of the device's overall behavior. 
	this 	differs 	from 	quantitative 	simulation 	in 	several 	ways. 
instead of assigning specific values to a quantity  only its ordinal relationship to important constants or other quantities is stated. constraints are also qualitatively stated  e.g.  proportionality may be asserted  but not a specific function. in addition to constraint satisfaction  the analogue of simulation by numerical methods   the techniques of qualitative simulation include constraint propagation  and matching descriptions of potential processes. the process of interpretation extracts state transition information  summarifing the possible behaviors and inferring causal relationships between device states. 
   other problems include design  diagnosis  planning  using devices to accomplish a goal   etc. 
　we propose an alternative approach that is a type of qualitative analysis. the behavior of the device is discovered by inferring the behavior of selected substructures from the behavior and structure of their components. successful application of this process on increasingly larger substructures results in inferring the behavior of the device. this approach  called consolidation  has a number of desirable properties  including localised reasoning steps  causal analysis of behavior  and consistency of representation. consolidation is not intended to be a complete solution to the inference-of-behavior problem  but where it can applied  we believe that it is a better alternative for analysing and explaining behavior. we wish to emphasise at this point that an implementation of this approach is currently in progress. 
　the notion of reducing complexity by reasoning about a group of subcomponents as a single abstract component is shared by the work of sussman and steele  and is embodied in their notion of  slices.  however  the aims and methods of their proposal make the details very different. 
　first  we argue that qualitative simulation has several undesirable characteristics as a naive physics theory. next  we introduce consolidation  dividing the discussion into the description of components and the inference of behavior. a difficult example is then analysed. finally  unresolved issues are discussed. 
1. critique of qualitative simulation 
1. complexity 
　one desirable property of a naive physics theory is simplicity of computation. while current theories of qualitative simulation  qs  may be useful for providing upper bounds on the competence of qualitatively reasoning agents  they are unsatisfactory to account for human reasoning behavior due to the following two reasons. 
　first  qs is a global reasoning process. to perform the simulation for a particular point in time and to check if it has been done consistently  all the quantities and constraints must be taken into account. to go from one time point to another  the derivative of every quantity must be examined to update the quantities1 values. this is true no matter the number of quantities and constraints the device has. a hierarchical breakdown is difficult because qs relies on nearly-closed systems  boundary conditions must be known or enumerable  and on constraint propagation. forbus's notion of p-components  provides a method for subdividing a situation into independent parts. however  when the parts are more mutually dependent as in a device  additional techniques are called for. 
　second  some theories of qs involves substantial mathematical reasoning. quantities and their derivatives must be carefully handled so that constraints are not violated  and continuity is maintained. since the constraints are stated in terms of arithmetic and differential relationships  constraint propagation and checking for consistency require a considerable amount of mathematical reasoning. it must be stated  however  that forbus's approach avoids much of the complexity of constraint propagation by restricting the paths over which propagation can occur. 
1. causality 
　another desirable property is explaining the device's behavior in terms of the behavior and structure of its components; we want to know the cause of the device's behavior. causality in some theories  especially the confluence theory of de kleer & brown   is identified mainly with the propagation of values through constraints. 
　the major problem with this position is that causality is viewed as a  last straw  phenomenon  i.e.  the saying  the last straw broke the camel's back  would be translated  in this view  to  the last straw was the cause of the camel's broken back . de kleer & brown admit that their version of qs does not identify  the support which enables the causal action path to exist  . however  it seems wrong to omit the support from a causal account  since the support may include the primary causal processes of the effect  e.g.  most of the weight is already on the camel's back . 
1. representation 
　qs theories require descriptions of components to specify their outward structure  the quantities that are involved in interaction with other components  the constraints on those quantities  and the behavioral states. this description may be thought of as the behavioral laws of the component. on the other hand  the representation of device behavior does not describe its behavioral laws  but is a network which shows the temporal  and causal  sequence of the components' states. if this process were to be repeated one more level  i.e.  where the device at this level becomes a component at the next level   qs is not helpful  since it needs to have the behavioral laws of the device. this twin representation of behavior together with the global nature of qs limits the applicability of this approach. 
　another problem with current representations is the ontological impoverishment of a theory primarily based on quantities and constraints. it is the burden of the model-builder to insure that the right types of quantities and constraints are represented and consistently defined. while there are guidelines for how to do this  these guidelines are outside the representational system. for example  ohm's law is very significant for describing the behavior of electrical components. however  ohm's law itself is not represented in qs  but is compiled into each component description that depends on it. 
1. consolidation: description of components 
　components interact with other components. the interaction is not just about components  but about the  stuff  or substances which potentially move between components and affect their behavior. what does a component have so that interactions can occur  we believe that a commonsense answer has two parts. 
　* different  behavioral states  are associated with different sets of constraints. the total state of a component is its behavioral state and the values of its quantities. 
　**this criticism doesn't apply to forbus's qualitative process theory   i.e.  a single qualitative process description can be used to represent ohm's law. 
	t. bylander and b. chandrasekaran 	1 
one thing a component has is structure. on its exterior  it has places which are used to connect it to other components. on its interior  it has places which hold or contain substances. the other thing a component has is behavior  how it acts and is acted upon by substances. this section discusses how we represent the structure and behavior of components; the following section describes what inferences this representation supports. 
1. structural primitives 
　like de kleer & brown  we will use connection to signify that one component is attached to another component or is otherwise in meaningful spatial contact with it. an example of 
 meaningful spatial contact  is the relationship of the surface of a light bulb with the space around it  which in turn  might be in contact with something that the light affects. note that we abo include empty space as a type of component. this is essential for reasoning about movement though space  and about magnetism and gravity. 
　we also use containment as a structural relationship to represent the places inside components that substances can move from  move into  and be at rest. these places may or may not have significant capacity. the importance of this concept for naive physics theories was emphasized by hayes . 
　for example  the light bulb in figure 1 has three connections: two electricity connections called  end1  and  end1   and a light connection called  surface . inside of the light bulb  there are places where electricity passes through  and where light is produced. to model this  containers called  electrical  and  light source  are attributed to the light bulb  and are used in the behavioral description on the right. 
1. types of component behavior 
　components act upon substances. we propose to describe these actions by a small set of relationships  using them as a foundation for representing additional knowledge about components and substances. they are: 
  allow. the component permits a specified kind of substance to move from one place to another. 
  influence. the component tries to move a specified kind of substance. there are two subtypes according to the spatial relationship of the influence with potential sinks and sources. 
o pump. the component tries to move a substance through it  e.g.  a battery has a pump electricity behavior from the negative to the positive terminal. the sink and source are external to a pump behavior. 
o expel. the component tries to move a substance from  or to  an internal container  e.g.  a balloon has a expel air behavior. 
  move. the component moves a specified kind of substance from one container to another along a specified path. move behaviors are implicitly constrained by the amount and capacity of the containers. 
  create. the component creates a specified kind of substance in a container  e.g.  a light bulb has a create light behavior. 
  destroy. the component destroys a specified kind of substance in a container  e.g.  an acoustic insulator has a destroy sound behavior. 
for example  the light bulb in figure 1 has allow electricity  
　
1 	t. bylander and b. chandrasekaran 

	figure 1: 	light bulb device 
allow light  and create light behaviors  for the purposes of this discussion  other behaviors of the light bulb and other components have not been displayed . there are conditions on some of these behaviors  which are specified in the details of the description. for example  the create light behavior is dependent on movement of electricity. there is more discussion on this later. 
　some components  such as the switch  have different behavioral states  where each state is associated with different behaviors. an additional type of behavior  change state  specifies a predicate on behavior and the next state of the component. for example  the switch in figure 1 has two states  open and closed  where the closed state has an allow electricity behavior  and the open state does not. the switch also has an allow signal behavior  and it will change state depending on the control signal that it receives. 
1. quantities 
　we use quantities to describe additional detail about behaviors and containers. most of the behaviors have a natural measurement: move by rate of movement  create by rate of creation  destroy by rate of destruction  and influence by amount of influence. also  some behaviors  especially allow behaviors  may have special quantities which are specific to the substance. resistance  capacitance  and inductance are examples from electricity. the allow electricity behavior of the light bulb  for example  has a positive resistance. 
　each container has quantities which describe its capacity and amount. the containers of the components in figure 1 can be modeled with infinitesimal capacity  so interesting issues concerning these quantities do not arise. in section 1  we will discuss an example in which these quantities have significant behavioral consequences. 
　quantities can be used to express how some behaviors are dependent on other behaviors  i.e.  how the component is acted upon by substances. for example  the rate quantity of the create light behavior of the light bulb is described as proportional to the rate of a move electricity behavior which goes through the light bulb. 
1. consolidation: inference of behavior 
　we propose to infer the behavior of a device by a form of composition. the behavior of selected substructures or composite components of the device is inferred from the behavior and structure of their subcomponents. composites are used as contexts for forming intermediate points of understanding about the device. this composition is possible because the behaviors of components as represented above are themselves composable; certain behavioral and structural patterns give rise to additional behaviors. these causal patterns are also used to index into knowledge about the behavior of substances  i.e.  knowledge about substances is organised around the possible generic situations in which behaviors are inferred. 
1. causal patterns of behavior and structure 
　a causal pattern describes a situation in which a behavior may occur  asserting that if certain behaviors satisfy a specific structural relationship  then another behavior of a specified type may be caused.* for example  the propagate pump pattern specifies that a pump behavior in a serial relationship with an allow behavior will potentially cause another pump behavior  e.g.  a pump electricity behavior between a and b  and an allow electricity behavior between b and c may cause a pump behavior between a and c. whether this pump behavior actually occurs depends on the physics of the substance and the details of the sub-behaviors. the following are the causal patterns that we have discovered so far: 
  serial/parallel allow. an allow behavior caused by two serial or parallel allow behaviors. 
  parallel pump. a pump behavior caused by two pump behaviors in parallel. 
  propagate pump. a pump behavior caused by a pump and an allow behavior in serial. 
  propagate expel. an expel behavior caused by an expel behavior and allow behavior in serial. 
  serial/parallel move. a move behavior caused by two serial or parallel move behaviors. 
  pump move. a move behavior caused by a pump behavior and an allow behavior  both on the same path from one container to another. in this pattern  the source and sink may be the same container in which case the movement is around a circuit. 
  expel move. a move behavior caused by an allow behavior which  connects  an expel behavior to another container. 
we do not claim that this list is complete. additional patterns may be required to reason about concepts like momentum  in which movement leads to additional influences. however  we believe that the number of additional patterns will be small. 
   currently  our theory does not handle situations in which the behaviors satisfying a pattern refer to different substances  e.g.  oil and water. 
　** roughly  two behaviors are  serial  if they share an end point; two behaviors are  parallel  if they have the same endpoints. 
　
　suppose that a composite of the battery and the switch in figure 1 is chosen for processing. behaviors are inferred based on the causal patterns as follows: 
  using the serial allow pattern  an allow behavior between the negative terminal of the battery and end1 of the switch is inferred. the resistance is determined to be positive from knowledge about electricity. since the switch's allow behavior is active only during the closed state  the same is true of the inferred behavior. since the states of the switch result in different behavior of the battery-switch  the battery-switch also has open and closed states. 
  using the propagate pump pattern  a pump behavior from the negative terminal of the battery to end1 of the switch is inferred. the amount is determined to be positive. 
　the causal patterns do not take into account that the batteryswitch will also have the allow signal and change state behaviors of the switch in general  those behaviors which affect the outward behavior of the composite  and which are not subsumed by an inferred behavior need to be copied to the composite. also  note that none of the causal patterns refer to create and destroy behaviors. these kinds of behaviors are transferred to the composite if they are connected to the  outside  by allow behaviors. 
　the causal patterns are similar to forbus's process descriptions . both describe the conditions necessary for some behavior to happen. one important difference is that the causal patterns are generic to all substances. while a process description can be stated at a high level of generality  there is no commitment by the theory to any particular level of generality. in practice  there are different process descriptions for different types of substances such as liquid  gas  heat  etc. also  the process descriptions can be used only when changes occur  while the causal patterns can handle situations  such as two batteries connected serially  in which no physical change takes place. 
1. simplification of structure 
　if a composite simply inherited the structure of its subcomponents  the description of larger composites would become increasingly complex  making it harder to reason about them. this is allayed in two ways. first of all  only the external connections of the composite become part of its behavioral description. for example  the positive terminal of the battery and end1 of the switch would not be referenced in the batteryswitch's description. 
　second  composite containers may be instantiated as combinations of several other containers. in the battery-switch  the electrical containers of the battery and switch are combined to form a single electrical container. the creation of composite containers is governed by the inference of behaviors  under a constraint that restricts behaviors to reference only a limited number of connections and containers. for example  the  thru  attribute of the inferred allow electricity behavior of the battery-switch may only reference one container  thus a composite container is instantiated. 
1. physics of substances 
　the physics knowledge contains the procedures that are used to validate inferred behaviors and determine the values of their 
　*connections which connect two or more components are assumed to be internal to the device  unless declared otherwise. 
	t. bylander and b. chandrasekaran 	1 
quantities. each substance has procedures which are associated with the causal patterns  and with other known situations such as dependencies and the inference of composite containers. for example  when the serial allow pattern matches on behaviors involving electricity  the resistance of the caused behavior is determined by summing the resistances of the causing behaviors. 
　the reasoning is more complicated when dependencies are involved. suppose that we chose a composite consisting of the light bulb and switch. this composite will also have a create light behavior  which should have a rate quantity specified as: 
proportional 	 magnitude 	 rate 
 move electricity between endl of the switch and end1 of the light bulb    
the places mentioned by the dependency must be part of the simplified structure of the composite. to do this  there must be knowledge of what paths through the composite will also go through the light bulb  and the dependency must be modified accordingly. 
1. light inference 
　the primary effect of the light bulb system is that light is produced when the switch is closed. consider now a composite which consists of the battery-switch and the light bulb. this inference can proceed as follows: 
  the allow electricity behaviors of the battery-switch and light bulb satisfy the serial allow pattern  resulting in an allow electricity behavior around the electrical circuit. the resistance is positive. the behavior is active only during the closed state. 
  the pump electricity behavior of the battery-switch and the allow electricity behavior of the light bulb satisfy the propagate pump pattern  from which a pump electricity behavior around the circuit is inferred. the amount of the behavior is positive. the behavior is active only during the closed state. 
  the two behaviors inferred above satisfy the pump move pattern  so a move behavior around the circuit is inferred. the rate of the move is positive. the direction depends on how electricity is modeled. 
  this move behavior satisfies the dependency expressed in the create light behavior of the light bulb. the rate of creation is calculated as positive. 
in the inference of the rate of creation  every behavior of the components and element of structure which plays some role in the creation of light has been used in the consolidation process. the explanation of this inference provides a complete causal account of the creation of light in the light bulb system in terms of the components' behavior and the device's structure. 
　also note that all the electrical connections are internal to the device. thus no electricity behavior becomes part of the final description of the device's behavior. the device's behavioral description states only what the outward behavior of the device is  not how it is accomplished. 
1. another example 
　to further illustrate how consolidation works and to explain additional features of this analysis  consider the situation in figure 1. the source and sink components have containers of water of differing temperatures. the source component has an expel water behavior. there is a connection between the components which permits the flow of water. 
1 	t. bylander and b. chandrasekaran 

	figure 1: 	water containers 
　a difficulty in modeling this device is representing temperature. we will say that the water within the a and b containers contain heat  and that water has a expel heat behavior. the amount of the expel behavior corresponds to the water's temperature. this extended notion of containment can also be used to model concentrations of dissolved material. 
　when water movement is inferred  heat movement should also be inferred. the movement of heat will not only affect the amount of heat  but will affect the amount of the expel heat behavior within the containers. these inferences are general enough to be codified as causal patterns: 
  a move behavior of a substance s1 which contains a substance s1 causes a move s1 behavior along the same path 
  a move behavior of a substance s1 which contains a substance s1 and which has an expel s1 behavior affects the expel s1 behavior at the sink of the move. 
for heat  the effect is that the expel heat amount of the sink will tend towards the expel heat amount of the source  i.e.  the temperature of the sink will move towards the temperature of the source. 
　with these additional patterns  the inference of the move water behavior will lead to inferring a move heat behavior  and to consideration of the effect upon the expel heat behavior of the sink. in this case  the capacities of and amounts within the two water containers will affect what will actually happen. when initial values for these are chosen  the behavioral description can then be run to determine what sequence of events will occur. 
1. summary 
　in section 1  we discussed several problems with qualitative simulation in understanding device behavior. here  we discuss how consolidation overcomes some of those difficulties. 
　in consolidation  the reasoning occurs in well defined  locally contained steps. mathematical ability determines the sophistication of analysis  but is not required to perform it. to claim simplicity  an implementation is necessary to demonstrate that the analysis can be done efficiently in real situations. the primary complication is deciding what composites should be analysed. we are developing general heuristics for making this decision. also  domain knowledge could provide additional heuristics  such as a library of precompiled composites that are instantiated when they are recognised. 
　causality is directly linked to the idea that the components of the device cause the behavior of the device. reasoning about behaviors using the causal patterns leads to an inference structure showing the behavioral relationships between the components and the device. a complete account includes the dependencies between behaviors  and how they are satisfied. 
　the representation distinguishes between different types of quantities and constraints. different quantities are associated with the behaviors and substances that they describe. constraints are embedded within dependencies and the physics knowledge of substances. the device's behavior is represented in the same manner as a component's behavior. 
　a possible problem is that states of components almost always become state of composites. a combinatorial problem might occur when several components have multiple states. one alternative is to use simulation in this kind of situation. a more interesting alternative is to simplify the description of composites using various means such as inferring that certain states are impossible  combining related states into a single state  etc. 
　consolidation is but one of the multiplicity of processes and representations that are a part of naive physics reasoning. further research is called for in describing the relationship between consolidation and qualitative simulation  in expanding the richness of the structural primitives  and in representating and integrating  for example  discreteness of motion  temporality  and mixing of substances. 
acknowledgments 
　we would like to acknowledge john josephson  jon sticklen  and ken forbus for their comments on earlier drafts of this paper. of course  this doesn't imply endorsement of the final product. this research is funded by the air force office of scientific research through afosr grant 1. 
