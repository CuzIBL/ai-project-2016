
social networks have recently garnered considerable interest. with the intention of utilizing social networks for the semantic web  several studies have examined automatic extraction of social networks. however  most methods have addressed extraction of the strength of relations. our goal is extracting the underlying relations between entities that are embedded in social networks. to this end  we propose a method that automatically extracts labels that describe relations among entities. fundamentally  the method clusters similar entity pairs according to their collective contexts in web documents. the descriptive labels for relations are obtained from results of clustering. the proposed method is entirely unsupervised and is easily incorporated with existing social network extraction methods. our experiments conducted on entities in researcher social networks and political social networks achieved clustering with high precision and recall. the results showed that our method is able to extract appropriaterelation labels to represent relations among entities in the social networks.
1 introduction
social networks have recently attracted considerable interest. for the semantic web  there is great potential to utilize social networks for myriad applications such as trust estimation  golbeck and hendler  1   ontology construction  mika  1b   and end-user ontology  brickley and miller  1 .
　aiming at using social networks for ai and the semantic web  several studies have addressed extraction of social networks automatically from various sources of information. mika developed a system for extraction  aggregation  and visualization of online social networks for a semantic web community  called flink  mika  1a . in that system  social networksare obtained using web pages  e-mail messages  and publications. using a similar approach  matsuo et al. developed a system called polyphonet  matsuo et al.  1b; 1a . in line with those studies  numerous studies have explored automatic extraction of social networks from the web  alema-meza et al.  1 .
　given social network extraction using the methods described above  the next step would be to explore underlying relations behind superficial connections in those networks. in the field of social network analysis  it has been shown that rich information about underlying social relationships engenders more sophisticated analysis  scott  1 . however  most automatic methods to extract social networks merely provide a clue to the strength of relations. for example  a link in flink  mika  1a  is only assigned the strength of its relation. a user might wonder what kind of underlying relation exists behind the link.
　one reason for the lack of information about underlying relations is that most automatic extraction methods  mika  1a; alema-meza et al.  1; matsuo et al.  1b  use a superficial approach  e.g. co-occurrence analysis  instead of profound assessment to determine the type of relation. matsuo et al. defines four kinds of relations in a research community and classifies the extracted relations. they adopt a supervised machine learning method  which requires a large annotated corpus which costs great deal of time and effort to construct and administer. in addition  it is necessary to gather domain-specific knowledge a priori to define the extracted relations.
　our goal is to extract underlying relations among entities  e.g.  person  location  company  from social networks  e.g.  person-person  person-location network . thereby  we are aiming at extracting descriptive labels of relations automatically such as affiliations  roles  locations  part-whole  social relationships. in this paper  we propose a method that automatically extracts the labels that describe relations among entities in social networks. we obtain a local context in which two entities co-occur on the web  and accumulate the context of the entity pair in different web pages. given the collective contexts of each entity pair  the key idea is clustering all entity pairs according to the similarity of their collective contexts. this clustering using collective contexts is based on our hypothesis that entity pairs in similar relations tend to occur in similar contexts. the representative terms in context can be regarded as representing a relationship. therefore  the labels to describe the relations among entities are extracted from the clustering process result. as an exemplary scenario for our approach  we address two kinds of social network. a researcher social network and a political social network.
the proposed method is entirely unsupervised. for that reason  our method requires neither a priori definition of relations nor preparation of large annotated corpora. it also requires no instances of relations as initial seeds for weakly supervised learning. our method uses context information that is obtained during extraction of social networks. consequently  the proposed method contributes to
  incorporating into existing methods of social network extraction and enriching the social network by adding relation labels.
in addition  as a web mining approach our method con-
tributes to
  extracting information from the web and bootstrapping the semantic web by annotating relation information to social networks and web contents.
　the remainder of this paper is structured as follows. section 1 compares our approach to other ongoing relevant research in social network extraction  relation extraction  and ontology population. section 1 describes basic ideas of our approach and detailed steps of the proposed method. section 1 describes our experiment. section 1 describes results and evaluation. we end our presentation with a discussion of future work  after which we provide concluding remarks in section 1.
1 related work
aiming at extracting underlying relations in social networks from the web  our method is related closely to existing extraction methods of social networks. several studies have addressed extraction of social networks automatically from various sources of information such as the web  e-mail  and contacts  alema-meza et al.  1; mccallum et al.  1; mika  1a; matsuo et al.  1a . while most approaches for social network extraction have focused on the strength of the relation  few studies have addressed automatic identification of underlying relations. matsuo et al. employed a supervised machine learning method to classify four types of relations in a research community  matsuo et al.  1b . there have also been several important works that have examined supervised learning of relation extraction in the field of natural language processing and information extraction  zelenko et al.  1; culotta and sorensen  1; kambhatla  1 . however  a supervised method requires large annotated corpora  which cost a great deal of time and effort. in addition  it is necessary to gather the domain specific knowledge a priori to define extracted relations.
　identifying underlying relations has been also addressed in ontology population  buitelaar et al.  1 . particularly  the current approachesfor relation extraction in ontology population are classifiable into two types: those that exploit certain patterns or structures  and those that rely on contextual features. pattern-based approaches  cimiano et al.  1  seek phrases or sentence structures that explicitly show relations between instances. however  most web documents have a very heterogeneous in structure  even within individual web pages. therefore  the effectiveness of the pattern-based approach depends on the domain to which it is applied.
　rather than exploiting patterns or structures  context-based approaches  kavalec et al.  1; schutz and buitelaar  1 

figure 1: political social network extracted from the web: a circular node represents a location entity and a ellipse node represents a person entity. each edge in the network implies that there is relation between entities.
assess contextualfeatures such as syntactic  semantic  and cooccurrence. several studies have employed contextual verb arguments to identify relations in text  kavalec et al.  1; schutz and buitelaar  1   assuming that verbs express a relation between two ontology classes that specify a domain and range. although verbs are relevant features to identify relations  it assumes that syntactic and dependency analyses are applicable to text collections. because the web is highly heterogeneous and often unstructured  syntactic and dependency structures are not always available. for that reason  we employed context model that uses a bag-ofwords to assess context. therefore  the method is applicable to any unstructured documents in the web. as shown in our experiment  the simple context model performed well to extract descriptive relation labels without depending on any syntactic features in text. in the field of nlp  several studies have proposed relation extraction from a large language corpus using a bag-of-words of context  turney  1; hasegawa et al.  1 . our method can be considered as an application of relation extraction methods in nlp to social networks and a web mining. we are aiming at easily incorporating into extraction methods of social network from the web. therefore  our method uses context information that is obtained during extraction of social networks. consequently  it serves to enrich such networks by adding relation labels.
1 method
1 concept
in this paper  as an exemplary scenario for our approach  we use two types of social network: a researcher network that is composed of researcher entities and a political social network that is composed of two types of entities: politicians and geopolitical-entities. figure 1 shows a political social network that was automatically extracted from the web using mika and matsuo's method  mika  1a; matsuo et al.  1b .
table 1: keywords obtained from each local context of four kinds of entities pairs: junichiro koizumi-japan  yoshiro mori-japan  junichiro mori-kanagawa  and yoshiro mori-
ishikawa
 1  junichiro koizumi-japan

pathology  fujiwara  prime minister  koizumi  kobun-sha  politics  visit  page  products  cabinet ...

 1  yoshiro mori-japan

rugby  prime minister  chairman  bid  minister  association  science  administration  director  soccer  africa ...

 1  junichiro koizumi-kanagawa

election  prime minister  yokosuka  candidate  congressional representative  saito  liberal democratic party  miura ..

 1  yoshiro mori-ishikawa

ichikawa  yasuo  prime minister election 
liberal democratic party  okuda  candidate  komatsu  congressinal representative ...

the social network was extracted according to co-occurrence of entities on the web.
　given entity pairs in the social network  our present goal is to extract labels to describe the relations of respective entity pairs  to discover relevant keyphrases that relate entities . the simple approach to extract the labels that are useful for describing relations in social networks is to analyze the surrounding local context in which entities of interest cooccur on the web  and to seek clues to describe that relation. local context is often used to identify entities or relations among entities in tasks of natural language processing or information extraction  grefenstette  1; lin  1; schutze  1 .
　table 1 shows keywords 1 that were extracted from local contexts of four entity pairs  junichiro koizumi-japan  yoshiro mori-japan  junichiro koizumi-kanawaga  yoshiro mori-ishizuka  using keyword extraction method  matsuo et al.  1b . the keywords were extracted from the collective local contexts where co-occurrence of each entity pair is found. for each entity pair  the local contexts from 1 web pages were collected. the keywords are ordered according to tf-idf-based scoring  which is a widely used method in many keyword extraction methods to score individual words within text documents to select concepts that accurately represent the documents' contents. the keywords scored by tfidf can be considered as a bag-of-words model to represent the local context surrounding an entity pair.
　if we examine the common keywords  shown in bold typeface in the table  shared by  1  and  1  or  1  and  1   we note that the keywords that describe the relations of each entity pair  such as  prime minister  and  candidate   are commonly shared 1. in contrast  if we compare koizumi's keywords  1 

figure 1: outline of the proposed method
with another of his keywords  1   we find that different keywords appear because of their respective links to different locations: japan and kanagawa.  although both keywords are koizumi's. 
　based on the observations described above  we hypothesize that if the local contexts of entity pairs in the web are similar  then the entity pairs share a similar relation. our hypothesis resembles previously tested hypotheses related to context  harris  1; schutze  1 : words are similar to
the extent that their contextual representations are similar. according to that hypothesis  our method clusters entity pairs according to the similarity of their collective contexts. then  the representative terms in a cluster are extracted as labels to describe the relations of each entity pair in the cluster  assuming that each cluster represents different relations and that the entity pair in a cluster is an instance of a certain relation. the key point of our method is that we determine the relation labels not by examining the local context of one single entity pair  but by the collective local contexts of all entity pairs of interest. in the following section  we explain the precise steps of our proposed method.
1 procedure
our method for extraction of relation labels in social networks includes the following steps.
1. collect co-occurrence information and local context ofan entity pair
1. extract a social network that is composed of entity pairs.
1. generate a context model of each entity pair.
1. calculate context similarity between entity pairs.
1. cluster entity pairs.
1. select representative labels to describe relations fromeach cluster.
　figure 1 depicts the outline of our method. our method requires a list of entities  e.g.  personal name  location name  to form a social network as the input; it then outputs the social network and a list of relation labels for each entity pair. although collection of a list of entities is beyond the scope of this paper  one might use named entity recognition to identify entities and thereby generate a list of entities of interest.
　as shown in fig. 1  our method  upper box  can be processed in parallel with existing methods of social network

yoshiro mori is a former prime minister. kanagawa is the prefecture where koizumi was elected and ishikawa is the prefecture where mori was elected.
extraction  bottom box . the first step is to collect cooccurrence and local contexts of each entity pair from the web. many existing methods of social network extraction use a search engine and its query hit counts to obtain cooccurrence information of entities from the web  matsuo  mika . in line with such methods  we use google 1 to collect co-occurrence information and generate a social network  as shown in fig. 1.
　using co-occurrence information  we also collect local contexts in which elements of an entity pair of interest cooccur within a certain contextual distance of one another within the text of a web page. for this  we downloaded the top 1 web pages included in the search result of corresponding search query to each entity pair  in our example of a politician and location name  the query is  junichiro koizumi and japan  . this can be accomplished in the process of collecting co-occurrence information  which uses search query hit counts.
1 context model and similarity calculation
for each entity pair  we accumulate the context terms surrounding it; thereby  we obtain the contexts of all entity pairs. as the next step  to calculate the similarity between collective contexts of each entity pair  we require a certain model that represents the collected context. in our method  we propose a context model that represents the context using a bagof-words and a word vector  raghavan and wong  1 . we define the context model as a vector of terms that are likely to be used to describe the context of an entity pair  e.g.  the keywords list shown in table 1 can be considered as an example of the context model. . a context model ci j of an entity pair  ei ej  is defined as the set of n terms t1 ... tn that are extracted from the context of an entity pair as ci j n m  = t1 ... tn  where both n and m are parameters of the context window size  which defines the number of terms to be included in the context. in addition  m is the number of intervening terms between ei and ej; n is the number of words to the left and right of either entity.
　each term ti in the context model ci j n m  of an entity pair  ei ej  is assigned a featureweight accordingto tf-idfbased scoring defined as tf ti  ， idf ti . therein  tf ti  is defined by the term frequency of term ti in all the contexts of the entity pair  ei ej . furthermore  idf ti  is defined as log |c|/df ti  +1  where |c| is the number of all context models and df ti  is the number of context models including term ti. with the weighted context model  we calculate the similarity  between context models according to the cosine similarity as follows: 
.
　in our exploratory experiment we tried probability distribution-based scoring and several similarities such as l1 norm  jensen-shannon and skew divergence lin  1 . according to that results  tfidf-based cosine similarity performs well.
1 clustering and label selection
calculating the similarity between the context models of entity pairs  we cluster all entity pairs according to their similarity. this is based on our hypothesis: the local contexts of entity pairs in the web are similar  the entity pairs share a similar relation.
　in our clustering process  we do not know in advance what kinds of relation pertain and therefore how many clusters we should make. therefore  we employ hierarchical agglomerative clustering. several clustering methods exist for hierarchical clustering. according to our exploratory experiment  complete linkage performs well because it is conservative in producing clusters and does not tend to generate a biased large cluster. in complete linkage  the similarity between the clusters cl1 cl1 is evaluated by considering the two most dissimilar elements as follows.
.
　the clustering process terminates when cluster quality drops below a predefined threshold. the cluster quality is evaluated according to two measures  kannan et al.  1 : the respective degree of similarity of entity pairs within clusters and among clusters. after the clustering process terminates and creates a certain number of clusters  we extract the terms from a cluster as labels to describe the relations of each entity pair in the cluster. this is based on our assumption that each cluster represents a different relation and each entity pair in a cluster is an instance of similar relation. the term relevancy  as a cluster label  is evaluated according to a tfidf-based measure in the same manner as weighting the terms in a context model. however  in this process  the term frequency is determined for all contexts of a cluster. the underlying idea is to extract terms that appear in the cluster  but which do not appear in other clusters. with a cluster cl's labels l1 ... ln scored according to the term relevancy  an entity pair  ei and ej  that belongs to the cl can be regarded as holding the relations described by l1 ... ln.
1 experiment
using our proposed method  we extracted labels to describe relations of each entity pair in a social network. we chose 1 distinct entity pairs  pair of a politician and a geo-political entity  from a political social network and 1 entity pairs  pair of japanese ai researchers  from a researcher network  matsuo et al.  1a .
　we created a context model of each entity pair using nouns and noun phrases from part-of-speeches  pos  of surrounding entity pairs in a web page. we exclude stop words  symbols and highly frequent words. for each entity pair  we download the top 1 web pages in the process of collecting co-occurrence information for extraction of social network. for the context size  we used two parameters  m and n  as explained in sect. 1. as a baseline of the context size  we assigned 1 and 1  respectively  to m  n.
　we used complete-linkage agglomerative clustering to cluster all entity pairs. thereby  we created five distinct clusters for the political social network and twelve distinct clusters for the researcher network according to the predefined thresholds of two quality measures within the clusters and

table 1: cluster label  left  and automatically extracted relation labels from a cluster  right 
political social network  1 clusters 
1	mayormayor  citizen  hosting  president  affairs  officer  mutter  answer  city  conference1	presidentpresident  administration  world  japan  economics  policy  war  principle  politics  iraq1	prime ministerprime minister  administration  politics  article  election  prime minister  government  peace1	governorprefectural governor  president  prefectural government  committee  heisei  prefectural administration  mayor1	congressionalcongressional representative  election  liberal democratic party  candidate representativelower house  democratic party  proportional representationresearcher social network  1 representative clusters among 1 clusters 
1	co-authorship of conference paperpaper  author  conference venue  presentation  title  program1	co-authorship of bookedit  book  publishing  programming  recommendation  co-author1	co-edit of bookedit  revision  article  publishing  educational material  editor1	collaborative projectrepresentative person  contributor  minister  acceptance1	co-authorship of journal paperjournal  shogi  distribution  computer  information processing society of japan1	same affiliationuniversity of tokyo  metropolitan  techonolgy  university  sciencefigure 1: f measure of clustering results vs. context window size
among the clusters explained in sect. 1. to evaluate the clustering results and the extracted labels  two human subjects analyzed the context terms of each entity pair and manually assigned the relation labels  three or fewer possible labels for each . then  a cluster label was chosen as the most frequent term among the manually assigned relation labels of entity pairs in the cluster. the manually assigned relation labels are used as ground truth in the subsequent evaluation stage.
　in table 1  the left column shows the label of each cluster. the right column shows the highly-scored terms1 that are extracted automatically from each cluster  which can be considered as the labels to describe relations of each entity pair in the cluster. the terms are sorted by relevancy score.
1 evaluation
we first evaluated the clustering results using a political social network. for each cluster cl  we counted the number of entity pairs epcl correct whose manually assigned relation labels include the label of cluster cl. we also counted the entity table 1: clustering performance in parameters of context window size
context window size n mprecisionrecallf-measuren =1  m =1.1.1.1n =1  m =1.1.1.1all terms in a web page111pairs epcl total in the cluster cl. next  for each relation label l  we counted the number of entity pairs epl correct that have the relation label l whose cluster label is l. we also counted the entity pairs epl total that have the relation label l. then  precision and recall of the cluster were calculated as:
.
according to precision and recall  we evaluated clusters based on the f measure.
　the graph depicted in fig. 1 shows that the clustering results vary depending on the context size. consequently  to find the optimal context size  we calculate the f-measure by changing two size parameters: m and n. expanding the context size from the minimum  the f-measure takes an optimal value when m is around 1 and n is around 1  fig. 1 and table 1  . we employed this optimal context size to extract the relation labels in our experiment. after reaching the peak  the value of the f-measure decreases as the context size increases. the wider context window tends to include noise terms that are not appropriate to represent the context  thus rendering the similarity calculation between the contexts irrelevant. the optimal context size depends on the structural nature of language. consequently  we must choose the context size carefully when applying our methods to a different language.
　to evaluate the automatically extracted relation labels  we compared the cluster label  left column of table 1  with the automatically extracted relation labels  right column of table 1 . for a political social network  we found that the relation label that has the highest score is equal to the corresponding cluster's relation label. precision of the clustering results in our experiment is quite high  as shown above. therefore  we can say that each entity pair in a cluster is represented properly by the highest-scored relation labels. for a researcher social network  extracted relation labels are highly correlated with a manually assigned clustering label. matsuo et al. defined four kinds of relations for a research social network: coauthorship  same affiliation  same project  and same conference  matsuo et al.  1b . we found that extracted clusters and relation labels are corresponding those relations.
1 conclusions and future work
we propose a method that automatically extracts labels that describe relations between entities in social networks. the proposed method is entirely unsupervised and domainindependent; it is easily incorporated into existing extraction methods of social networks.
　recent important approaches of a web mining toward the semantic web use the web as a huge language corpus and combine with a search engine. the underlying concept of these methods is that it uses globally available web data and structures to annotate local resources semantically to bootstrap the semantic web. in line with this  our approach utilizes the web to obtain the collective contexts which engender extracting representative relations in social network. as pointed in  matsuo et al.  1a   we claim that relations should be defined not by local information but rather by a global viewpoint of a network composed of individual relations.
　future studies will explore the possibilities of extending the proposed method to relations in other types of social networks. enriching social networks by adding relation labels  our method might contribute to several social network applications such as finding experts and authorities  trust calculation  community-based ontology extraction  and end user ontology.
