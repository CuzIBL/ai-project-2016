 
we present a general theory that captures the relationship between certain domains and negotiation mechanisms. the analysis makes it possible to categorize precisely the kinds of domains in which agents find themselves  and to use the category to choose appropriate negotiation mechanisms. the theory presented here both generalizes previous results  and allows agent designers to characterize new domains accurately. the analysis thus serves as a critical step in using the theory of negotiation in realworld applications. 
we show that in certain task oriented domains  there exist distributed consensus mechanisms with simple and stable strategies that lead to efficient outcomes  even when agents have incomplete information about their environment. we also present additional novel results  in particular that in concave domains using all-or-nothing deals  no lying by an agent can be beneficial  and that in subadditive domains  there often exist beneficial decoy lies that do not require full information regarding the other agent's goals. 
1 	introduction 
negotiation has been a subject of central interest in distributed artificial intelligence  dai . the word has been used in a variety of ways  though in general it refers to communication processes that further coordination  smith  1; kuwabara and lesser  1; conry et ai  1; kreifelts and von martial  1 . these nego-
tiating procedures have included the exchange of partial global plans  durfee  1   the communication of information intended to alter other agents' goals  sycara  1; sycara  1   and the use of incremental suggestions leading to joint plans of action  kraus and wilkenfeld  1 . 
	in previous work  zlotkin and rosenschein  	1; 
zlotkin and rosenschein  	1a; zlotkin and rosen-
   *this research has been partially supported by the leibniz center for research in computer science  and by the israeli ministry of science and technology  grant 1 . 
1 
schein  1; zlotkin and rosenschein  1b   we have considered various negotiation protocols in different domains  and examined their properties. the background and motivation of this research can be found in  rosenschein  1 . agents were assumed to have a goal that specified a set of acceptable final states. these agents then entered into an iterative process of offers and counter-offers  exploring the possibility of achieving their goals at lower cost  and/or resolving conflicts between their goals. 
   the procedure for making offers was formalized in a negotiation mechanism   it also specified the form that the agents' offers could take  deal types . a deal between agents was generally a joint plan. the plan was  joint  in the sense that the agents might probabilistically share the load  compromise over which agent does which actions  or even compromise over which agent gets which parts of its goal satisfied. 
　the interaction between agents occurs in two consecutive stages. first the agents negotiate  then they execute the entire joint plan that has been agreed upon. no divergence from the agreed deal is allowed. the sharp separation of stages has consequences  in that it rules out certain negotiation tactics that might be used in an interleaved process. 
   at each step  both agents simultaneously offer a deal. our protocol specifies that at no point can an agent demand more than it did previously-in other words  each offer either repeats the previous offer or concedes by demanding less. the negotiation can end in one of two ways: 
conflict: if neither agent makes a concession at some step  they have by default agreed on the  domain dependent   conflict deal ; 
a g r e e m e n t : if at some step an agent a1  for example  offers agent a1 more than a1 himself asks for  they agree on a1's offer  and if both agents overshoot the other's demands  then a coin toss breaks the symmetry. 
　the result of these rules is that agents cannot backtrack  nor can they both simultaneously  stand still  in the negotiation more than once  since it causes them to reach a conflict . thus the negotiation process is strongly monotonic and ensures convergence to a deal. 
   deal types explored in our previous work included pure deals  all-or-nothing deals  mixed deals  joint plans  mixed joint plans  semi-cooperative deals  and multi-plan deals. each of these types of agreement proved suitable for solving different kinds of interactions. for example  semi-cooperative deals proved capable of resolving true conflicts between agents  whereas mixed deals did not. similarly  multi-plan deals are capable of capturing goal relaxation as part of an agreement. 
   it was also shown that certain other properties were true of some deal types but not of others. in particular  different agent strategies were appropriate   rational   for different deal types and domains. agents were shown to have no incentive to lie when certain deal types were used in certain domains  but did have an incentive to lie with other deal type/domain combinations. 
   the examination of this relationship between the negotiation mechanism and the domain made use of two prototypical examples: the postmen domain  introduced in  zlotkin and rosenschein  1    and the slotted blocks world  presented in  zlotkin and rosenschein  1a  . it was clear that these two domains exemplified general classes of multi-agent interactions  e.g.  the postmen domain was inherently cooperative  the slotted blocks world not . it was  however  not clear what attributes of the domains made certain negotiation mechanisms appropriate for them. nor was it clear how other domains might compare with these prototypes. when presented with a new domain  such as agents querying a common database   which previous results were applicable  and which weren't  the research lacked a general theory explaining the relationship between domains and negotiation mechanisms. 
　in this paper  we present the beginnings of such a general theory. the analysis makes it possible both to understand previous results in the postmen domain more generally  and to characterize new domains accurately  i.e.  what negotiation mechanisms are appropriate . the analysis thus serves as a critical step in using the theory of negotiation in real-world applications. 
1 	c r i t e r i a for e v a l u a t i n g mechanisms 
how can we  in general  evaluate alternative interaction mechanisms  we are concerned with several criteria in our design of negotiation mechanisms and strategies: s y m m e t r i c d i s t r i b u t i o n : no agent is to have a special role in the negotiation mechanism; efficiency: the solution arrived at through negotiation should be efficient  e.g.  satisfy the criterion of pareto 
optimality ; 
stability: 	the strategy should be stable  e.g.  strict 
nash equilibrium  where no single agent can benefit by changing strategy  though a group might ; s i m p l i c i t y : there should be low communication cost to the mechanism  as well as relatively low computational complexity. 
　our overall goal is to find distributed consensus mechanisms such that an automated agent can use a simple and stable strategy that will lead to an efficient outcome. in this paper  we show that such mechanisms exist for certain domains. 

   according to the definition above  the cost function c takes no parameters other than the task set. in general  c might be defined as having other  global  parameters  like the initial state of the world . however  the cost of a set of tasks is independent of others' tasks that need to be achieved. an agent in a tod is certain to be able to achieve his goal at that cost. 
1 	attributes and examples 
here we give several examples of tod's  which cover a variety of agent interaction situations. subsequently  we will further classify each of these tod examples with respect to certain properties. 
postmen domain: 
description: agents have to deliver sets of letters to mailboxes  which are arranged on a weighted graph g - g v  e . there is no limit to the number of letters that can fit in a mailbox. after delivering all letters  agents must return to the starting point  the post office . agents can exchange letters at no cost while they are at the post office  prior to delivery. 
task set: the set of all addresses in the graph  namely v. if address x is in an agent's task set  it means that he has at least one letter to deliver to x. cost function: the cost of a subset of addresses 
i.e.  c x   is the length of the minimal path that starts at the post office  visits all members of x  and ends at the post office. 
database queries: 
description: agents have access to a common database  and each has to carry out a set of queries. the result of each query is a set of records. for example  agent a  may want the records satisfying the condition  all 
	zlotkin and rosenschein 	1 


1 


   a pareto optimal deal cannot be improved upon for one agent without lowering the other agent's utility from the deal. 
d e f i n i t i o n 1 the set of all deals thai are individual rational and pareto optimal is called the negotiation set  ns   harsanyi  1 . 
   since agents are by definition indifferent between two deals that give them the same utility  we are interested in negotiation mechanisms that produce pareto optimal deals  i.e.  if agent a  gets the same utility from deals x and y  but a-i prefers y  we don't want them to settle on x . at this point  we are only considering negotiation mechanisms that result in a deal from the ns. these are  in some sense  mechanisms with efficient outcomes. 
t h e o r e m 1 for any encounter in a tod  ns over pure deals is not empty. 
t h e o r e m 1 for any encounter within any subadditive tod  ns over mixed deals is not empty. 
d e f i n i t i o n 1 an optimal negotiation mechanism over a set of deals ts a mechanism that has a negotiation strategy that is in equilibrium with itself-if all agents use this negotiation strategy  they will agree on a deal in ns that maximizes the product of the agents' utility  nash  1 . if there is more than one such deal that maximizes the product  the mechanism chooses one arbitrarily  with equal probability. 
   an optimal negotiation mechanism by definition satisfies the stability and efficiency criteria mentioned in section 1. 
　the protocol defined above in section 1 has an equilibrium strategy for each deal type that yields agreement on a deal in ns that maximizes the product of the agents' utility. those strategies are based on zeuthen risk criteria  zeuthen  1   and were presented in  zlotkin and 
rosenschein  1 . therefore  the above protocol is an example of an optimal negotiation mechanism. 
theorem 1 an optimal negotiation procedure over mixed deals in subadditive two agent tod's divides the available utility equally between the two agents. 
1 	incentive compatible mechanisms 
sometimes agents do not have full information about one another's goals. this raises the question of whether agents can benefit from concealing goals  or manufacturing artificial goals. this lying can either occur explicitly  by declaring false goals  or implicitly  by behaving as if these false goals were true  depending on the specific negotiation mechanism. our work in previous papers  zlotkin and rosenschein  1; zlotkin and rosenschein  1a; zlotkin and rosenschein  1b  partly focused on combinations of negotiation mechanisms and domains where agents have no incentive to lie. a negotiation mechanism is called incentive compatible when the strategy of telling the truth  or behaving according to your true goals  is in equilibrium  i.e.  when one agent uses the strategy  the best thing the other agent can do is use the same strategy . in the postmen domain  zlotkin and rosenschein  1   we identified three types of lies: 
1. hiding tasks  e.g.  a letter is hidden ; 
1. phantom tasks  e.g.  the agent claims to have a letter  which is non-existent and cannot be produced by the lying agent ; 
1. decoy tasks  e.g.  the agent claims to have a letter  which is non-existent but can be manufactured on demand if necessary . 
since certain deals might require the exchange of letters  a phantom lie can be uncovered  while a decoy lie  and of course a hidden lie  cannot. thus  a phantom lie under certian negotiation mechanisms is  not safe.  different domains differ as to how easy or hard it is to generate decoy tasks. 
　in this section  we provide a characterization of the relationship between kinds of lies  domain attributes  and deal types. there are three kinds of lies in tod's  and we have considered three domain attributes  subadditivity  concavity  modularity  and three classes of optimal negotiation mechanisms  based on pure  all-or-nothing  and mixed deals. the resulting three-by-three-by-three matrix is represented in figure 1. its notation is described below. 
　consider the entry under subadditive  all-or-nothing deal  decoy lie  we'll refer to this as entry  a  j  z  . the entry l at that position means that for every optimal negotiation mechanism that is based on all-or-nothing deals  there exists a subadditive domain and an encounter such that at least one agent has the incentive to lie with a decoy lie  l means lying may be beneficial . the entry t at position  b  k  z  means that for every concave domain and every encounter within this domain  under any optimal negotiation mechanism based on mixed deals  agents do not have an incentive to lie with decoy lies  t means telling the truth is always beneficial . 
the entries in the table marked t/p  such as  a  j  y   
	zlotkin and rosenschein 	1 

1 	conclusions 
we have presented a general domain theory to use in analyzing negotiation protocols. in order to use negotiation protocols for automated agents in real-world domains  it is necessary to have a clear understanding of when different protocols are appropriate. in this paper  we have characterized task oriented domains  tod's   which cover an important set of multi-agent interactions. 
   we have presented several examples of tod's  and examined three attributes that these domains can exhibit  namely subadditivity  concavity  and modularity. we have then enumerated the relationship between deal types  domain attributes  and types of deception  focusing on whether an agent in a t o d with a given attribute and deal type is motivated to always tell the truth. in particular  we have shown that in concave tod's  there is no benefit to an agent's lying when all-or-nothing deals are in use. in a general subadditive domain  however  when agents are able to generate decoy tasks  even allor-nothing deals are not sufficient to create stability  discourage lies . in addition  we demonstrated that in subadditive domains  there often exist beneficial decoy lies that do not require full information regarding the other agent's goals. 
