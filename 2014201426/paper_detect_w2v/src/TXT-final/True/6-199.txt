 
this paper considers vehicle routing problems 
 vrp  where customer locations and service times are random variables that are realized dynamically during plan execution. it proposes a multiple scenario approach  msa  that continuously generates plans consistent with past decisions and anticipating future requests. the approach  which combines al and or techniques in novel ways  is compared with the best available heuristics that model longdistance courier mail services  larsen et al  1 . experimental results shows that msa may significantly decrease travel times and is robust wrt reasonably noisy distributions. 
1 	introduction 
the vehicle routing problem  vrp  is a difficult combinatorial optimization problem with many important applications in distribution and transportation systems. it has received considerable attention from the operations research  or  and al communities for many years and sophisticated local search methods are quite effective at finding good quality solutions in reasonable amounts of time. in more recent years  technology has advanced so that it is now possible and practical to address dynamic and/or stochastic versions of the problem. these new versions are motivated by the inherent uncertainties that arise in many everyday vrps and advances in onboard computers and communications systems that allow modification of routing plans even after vehicles are de-
ployed. 
¡¡most of the existing work has focused solely on stochastic or dynamic versions of the problem exclusively. in stochastic optimization  the expected cost of a solution is optimized with respect to a recourse function which restores feasibility during plan execution. in dynamic optimization  various data items  such as customer requests  are unknown and are only revealed after some decisions are taken. a more detailed overview of the methods used in both approaches can be found in  bent and van hentenryck  1 . how to combine the two approaches is a research topic that is often mentioned  e.g.   gendreau et al  1   among others . 
this paper considers the multiple scenario approach 
 msa  recently proposed in  bent and van hentenryck  1 . msa combines a variety of al and or techniques to address dynamic vehicle routing in the presence of stochastic information. 
1 problem formulation 
in the dynamic vrp  a number of customer requests are available initially  while others become available during the plan execution. in the applications considered in this paper  a request consists of the location of a customer and a service time  both of which are random variables. we assume that the distribution of the requests  or some approximation thereof  is available  which is typically the case in practical applications. for each incoming request  a dynamic algorithm must decide whether to accept or reject it. once a request is accepted  it must be serviced. problems are generally characterized by their degree of dynamism  dod   i.e.  the ratio of unknown customers!total customers  larsen et al  1 . a more in depth formalization of the vrp model can be found in  bent and van hentenryck  1 . 
1 the approaches 
the multiple plan approach the multiple plan approach  mpa  is a fundamental generalization of many modern approaches. mpa generalizes the approach of  gendreau et al  1  by making it independent of the search procedure. in short  mpa continuously generates plans that are compatible with the current state of information and removes those that are not. in addition  since decisions must be made with respect to a specific plan to guarantee service  a distinguished plan is maintained via a ranking function. 
¡¡more precisely  mpa handles four types of events  1  customer requests   1  vehicle departures   1  plan generations   1  timeouts. a more complete description of the events and mpa can be found in  bent and van hentenryck  1 . 
the multiple scenario approach the multiple scenario approach  msa  generalizes mpa by considering both existing and potential future requests during plan generation. future requests are obtained by sampling their distributions. 
1 	poster papers once a routing plan a is discovered  msa stores the routing plan a  obtained by removing future requests from a. as a result  plan a- leaves room to accommodate future requests  should they actually materialize. this ability to anticipate the future is the strength of msa. 
ranking functions both mpa and msa are parametrized by a ranking function ft  which selects the distinguished plan at each time t. we will evaluate two ranking functions for nominating a* in this paper. the obvious first choice for ft would be to select the plan with the smallest travel cost  mpad . in  bent and van hentenryck  1   it was shown that it is possible to do substantially better in practice on highly-constrained problems by using a consensus function which selects the plan in that most resembles all the stored plans. 
optimization both mpa and msa use large neighborhood search  lns  for optimization  which has been shown to be very effective for vehicle routing  shaw  1; bent and van hentenryck  1 . lns combines the advantages of branch and bound  constraint propagation  and local search. 
1 	experimental results 
the models the starting point of this research was the experimental model in  larsen et al  1   where customers are uniformly distributed in a lokm x1km region and must be served by a single vehicle with uniform speed of 1 km/h. customers inter-arrival times are governed by an exponential distribution. problem sets are derived with expected dod of { 1   1   . . .   1}. more details about the model are found in  larsen et al  1 . we generated 1 instances for each dod configuration  which gives 1 problems for each model described. 
several models are used to evaluate the various approaches. 
the first two models  m1 and m1  use a single vehicle. model ml is the basic model with 1 customers. model m1 is similar to m l   except that the region is now 1kmx1km. the objective function minimizes the travel distance. the next model is a multiple-vehicle model. model m1 uses 1 vehicles  1 customers  and a 1km x 1km space. each vehicle can serve at most 1 customers and the vehicle must return to the depot by the time horizon. for the multiple-vehicle model  the objective function consists in minimizing the number of missed customers and minimizing the travel distance. it is possible that some customers be left unserviced  since m1 has capacity constraints  as well as a hard deadline. 
single vehicle results reference  larsen et al  1  tested various heuristics on model m 1 . their best heuristic is nearest neighbor  nn   where a pool of unserviced customers is maintained and the vehicle is sent to the nearest customer in the pool once it served its current request. interestingly  in model m l   the vehicle is able to service customers faster than they arrive. as a consequence  all  reasonable  heuristics converge towards a first come  first serve  fcfs  strategy as the dod converges to 1%. this same behavior is also exhibited by our approaches. in model m1  the vehicle is not able to service customers as quickly and the heuristics do not converge to fcfs. figure 1 shows that mpad produces a 1% improvement on average and the benefits can be as high as 1%. stochastic information  msad  improves these results slightly. moreover  msad is never worse than nn. these results essentially indicate that the lns-based mpa approach provides clear benefits over traditional heuristics. stochastic information helps  but only marginally. 

figure 1: travel distance results 
multiple vehicle results first  the nn heuristic was generalized to provide guarantees on servicing customers. whenever a request arrives  the nn algorithm is simulated to determine if it can accommodate the new request. surprisingly  the mpa approaches perform very poorly  especially for higher 
dods. the  optimized  plans of mpa always use as few vehicles as possible since this generally improves travel distance and feasibility is not a issue until late in the search. this is in sharp contrast with problems with time-windows where feasibility is a major issue and mpa does not experience such problems  bent and van hentenryck  1 . the msa approaches perform roughly the same as nn as far as missed customers are concerned  but the true benefit of msa is with respect to travel costs as shown in figure 1.  the figure only shows the results for similar number of unserviced requests . here  msa decreases travel distances significantly  especially for high dods. these models clearly show the benefits of msa and the value of stochastic information over traditional heuristics and mpa. these results are even more dramatic when non-uniform distributions are used. significant gains are observed for dods as low as 1%. in addition to these results  the algorithm is robust under reasonable amounts of noise  for example when msa is given incorrect customer arrival rates. 
