 
the problem of representing and reasoning about two notions of time that are relevant in the context of knowledge bases is addressed. these are called historical time and belief time respectively. historical time denotes the time for which information models reality/belief time denotes the time lor which a belief is held  by an agent or a 
knowledge base . we formalize an appropriate theory of time using logic as a meta-language. we then present a metalogic 
program derived from this theory through fold/unfold transformations. the metalogic program enables the temporal reasoning required for knowledge base applications to be carried out efficiently. the metalogic program is directly implementable as a prolog program and hence the need for a more complex theorem prover is obviated. the approach is applicable for such knowledge base applications as legislation and legal reasoning and in the context of multi-agent reasoning where an agent reasons about the beliefs of another agent. 
1 	introduction oct 1 and finishes on 1 sep 1. this information was recorded in the knowledge base on 1 oct 1. 
　　mary took up a job for an annual pay of ♀1 on 1 feb 1. this information was recorded in the knowledge base on 1 feb 1. 
　　john has enrolled as a student again on 1 oct 1. this information was recorded in the knowledge base on 1 oct 1. 
the government changed its tax policies on 1 nov 1. 
it passed a legislation that every one who earns more than ♀1 per annum should pay tax  irrespective of whether s/he is a student or not. the legislation was passed with 
retrospective effect from 1 apr 1. this information was recorded in the knowledge base on 1 nov 1. 
query: john has not paid any tax since april 1. has he violated the law  does he need to pay it now   in other words  find out who has to pay tax and for what time.  
　　according to the latest state of the knowledge base  say on 1 nov 1  the history of the world is as shown in fig la. it may be seen from fig la that john was a taxpayer 
during the periods  1 apr 1 oct 1    1 sep 1 oct 1  and  1 apr 1  o i. similarly  mary was a taxpayer for the period  1 feb 1  1 apr 1 . 
1 	logic programming 


again  mary was not a taxpayer on 1 apr 1 as of 
1 nov 1 but mary was a taxpayer on 1 apr 1 as of 
1 oct 1. conversely  mary was a taxpayer on 1 apr 
1 as of the knowledge base that existed during the period 
 1 feb 1 to 1 nov 1  and mary was not a taxpayer on 1 apr 1 as of the knowledge base that existed during 
the period  1 nov 1 to 
　　more generally  the following inferences may be made: mary was a taxpayer for the period  1 feb 1  o  as of the knowledge base that existed during the period  1 feb 1 nov 1 ; mary was not a taxpayer for the period  1 apr 
1  oo  as of the knowledge base that existed during the period  1 nov 1  
answer: john did not violate the law. however  according to the new regulations  john has to pay tax for the period  1 april 1  now . on the other hand  the tax mary has paid for the period  1 april  now  should be refunded. 
　　our goal is to develop an approach to represent and reason with the kind of knowledge described in example 1. notice that relationships such as student  income etc. may themselves be derived from other facts and rules as illustrated by the domain rules 
student x  enrolled x y   recognised y  colleague x y  colleague x y   colleague y z  
where the relations enrollment  recognition and colleague change in time. thus domain rules can be fully recursive. 
　　the time at which a piece of information is recorded in the knowledge base  such as  1 nov 1 in example 1  is called belief time. as opposed to this notion of time  the time at which the piece of information models reality  i.e. represents the state of affairs in the real-world being modelled   such as  1 april 1  is called historical time. as is evident from example 1  both these times interact with each other. in example 1  the enactment of the legislation has been made with retrospective effect. it may be noted that this process is identical to overriding some past information with new information  i.e. belief revision for correcting errors etc . 
　　it may also be noted that historical times may be nested. for example  from 1 to 1  it has been the case that one would get a visa on the fifth day after an application has been made. belief time  on the other hand  denotes the time for which a belief is held  by an agent . for example  john believed during the period from 1 march 1 to 1 august 1 that mary was a lecturer during the period from 1 april 1 to 1 april 1. as the above examples illustrate  a belief may concern information which itself contains the notion of historical time. hence historical times may be nested within belief times. beliefs may themselves involve other beliefs  nested beliefs . hence belief times may be nested more than once  i.e. an arbitrary number of levels . 
　　in this paper  we address the problem of representing and reasoning with both these notions of time in knowledge bases. we assume that knowledge bases are implemented within the framework of logic programming  lloyd 1 . the domain knowledge  such as the legislative rules of example 1  is assumed to be represented in the horn clause subset of classical logic augmented with negation as failure  as rangerestricted rules . 
1 representation of temporal information 
we use the metalogic approach for representing temporal knowledge in knowledge bases. we use two meta predicates holds r  p  and holdsat s  t  to represent respectively that the rule or relationship named r is applicable during the period p and the rule or relationship named s is applicable at time point t. 
　　metalogic has been used in the past for a variety of knowledge representation and reasoning problems such as formalizing  reasoning about reasoning   eg.  aiello 1    kowalski 1    for structuring knowledge   brogi 1   etc. in this approach  the fact that john is a taxpayer at time t is expressed by a statement such as holdsat taxpayer john   t . in the context of logic programming  this is a metalevel statement in which taxpayer john  is a metalevel term denoting the object level formula taxpayer john . a traditional treatment of the metalevel would require the naming of object level terms and variables by ground/variable-free terms at the metalevel. however  as in the vanilla metainterpreters  hill 1   we neither use quotation marks nor any other explicit naming devices. although initially motivated by practical considerations  it has been recently shown that such non-ground representations may be derived from ground representations. the semantic underpinning of this approach may be found in  kowalski 1; de schreye 1 . 

1 syntax and notation 
domain knowledge is assumed to be in the form of rangerestricted horn clauses extended with negation-as-failure and as simple atomic facts. predicate and function symbols and constants start in the lower case. variables start in the upper case. to avoid confusion between the object level and the metalevel  a conjunction in the body of an object rule is represented by &. we use holds a b    1   as shorthand for the three statements hoids a b   q   start q  1   end q  1  where  q is a symbolic name for the time period during which the relationship a b  holds. therefore  
	sripada 	1 


1 	logic programming 

srlpada 	1 time  and belief time  for which the object rule tp x  ic x y   y  1 is applicable may be derived from a description of the event of the enactment of the legislation  using the event calculus as described in  sripada 1 . 
1 application to multi-agent reasoning 
the technique developed in this paper may also be used in a 
multi-agent scenario for dealing with the temporal aspects of nested beliefs. consider the following example: 
　　an agent a records a history of his beliefs about the beliefs of another agent b. the beliefs of the agent b  as believed by a  are themselves of a temporal nature  involving both belief time of b and historical time. this may be represented by meta-meta-meta-level facts as: 
 holdsa boldsb holds rank bob  professor   hp   bpb   bpa  the above statement represents that the agent a believes during the period bpa that the agent b believes during the period bpd that bob is a professor during the period hp. in order for the agent a to infer what the agent b believes at any given time  we need to able to represent and reason with multiple belief times such as those described above. the self-applicability of the derivation approach plays an important role which makes it useful in the context of artificial intelligence in general  and in reasoning about multi-agent interactions  in particular. 
　　we do not claim to provide a full solution to the problem of multiagent beliefs and reasoning. however  the approach presented in this paper may be adapted to formulate different notions of belief and reasoning  as desired  and a logic program may be derived from these specifications. for example  axiom s1 may be viewed as the axiom of belief b p ab p- q  -  b q . this general principle is the contribution of the present paper. however  a formal exposition of the correspondence between the notions of belief used in this paper and those that are standard in ai literature  eg.  halpern 1  hintikka 1   is beyond the scope of this paper. 
1 related work 
several researchers dealt with temporally scoped rules containing a single level of time in a restricted way  eg. legol  jones 1  and tmm  dean 1  . temporally scoped rules with both recursion and negation-as-failure are handled in an extension of prolog called temporal prolog  hrycej 1 . however  temporal prolog is applicable only for one level of time i.e. historical time. the only other work which we are aware of that deals with multiple belief times is that of isozaki & shoham  isozaki 1 . their work  developed independently  is primarily concerned with the default persistence of nested beliefs and is restricted to atomic propositional beliefs i.e. there are no implicit beliefs and no deduction is involved. they employ persistence clipping in the presence of contradictions  which is not always the best solution to default persistence  as illustrated by kautz's stolen car problem  kautz 1 . our work is more general since it involves the predicate case and also since it involves deduction. in addition  our approach inherits the persistence and consistency maintenance aspects from another theory of time used for deriving the time stamps. for example  the default persistence mechanism of the event 
calculus  based on negation-as-failure  is known to handle 
1 	logic programming 

correctly both the hanks-mcdermott problem   hanks 1  evans 1   as well as kautz's stolen car problem   kautz 1  
shanahan 1  . hence our technique also benefits from these capabilities. 
　　the theory and technique presented in this paper is complementary to the event calculus as well as other theories of time in ai. our theory and technique are not concerned with the default persistence and temporal reasoning issues that are standard in the ai domain. we are mainly concerned with the two notions of time and their interactions when implicit information is deduced. the ai theories of time are mainly concerned with historical time and default persistence. thus the two issues are complementary. 
1 	conclusions 
we have developed a technique for representing and reasoning with the notions of historical time and belief time. the technique may be used in knowledge based applications as well as when reasoning about the temporal aspects of multi-agent beliefs  where nested beliefs are involved. the use of metalogic for formalizing the notions of historical time and belief time in knowledge bases and the derivation of a self-applicable metalogic program that can deal with multiple levels of time illustrates the power and practicality of the metalogic programming approach. 
acknowledgements 
i am grateful to bob kowalski  frank van harmelen  marek sergot  murray shanahan and paolo mancarella for many valuable discussions and comments on this work. many special thanks are due to paolo mancarella for spending hours and hours with me verifying all the derivations and proofs involved. i am very grateful to beat wiithrich for extensive comments on an earlier draft which helped reduce the length of the paper to fit in the space provided. 
this research has been funded in part by a jawaharlal 
nehru fellowship  j.n.m.trust  uk  and in part by the esprit basic research project compulog no. 1. 
