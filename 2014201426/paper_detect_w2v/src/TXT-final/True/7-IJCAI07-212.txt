
given a winning-bid withdrawal in a combinatorial auction  finding an alternative repair solution of adequate revenue without causing undue disturbance to the remaining winning bids in the original solution may be difficult or even impossible. this  bid-takers exposure problem  may be preemptively addressed by finding a solution that is robust to winning-bid withdrawal. we introduce the concept of monotonicity-in-expectation. we provide impossibility results concerning truthful mechanisms for robust solutions with bounded social-welfare losses in which the bid-taker cannot rescind items from winning bidders to repair a solution. we also show that this result extends to combinatorial auctions that include a form of leveledcommitment contract. however  we present a positive result regarding truthfulness for combinatorial auctions in a restricted setting that comprises a computationally efficient allocation algorithm that seeks to maximize expected social welfare.
1 introduction
a combinatorial auction  ca  provides an efficient means of allocating multiple distinguishable items amongst bidders whose perceived valuations for combinations of items differ. such auctions are gaining in popularity and there is a proliferation in their usage across a variety of industries. revenue is the most obvious optimization criterion for such auctions  but another desirable attribute is solution robustness  holland and o'sullivan  1a . a robust solution to a ca is one that can withstand winning-bid withdrawal  a break  by making changes easily to form a repair solution of adequate revenue. a brittle solution is one in which an unacceptable loss in revenue is unavoidable if a winning bid is withdrawn. robustness is a preventative measure that protects against future uncertainty by trading-off revenue for solution stability.
¡¡the weighted super solutions  wss  framework has been proposed as a means of finding such solutions  holland and o'sullivan  1a . a natural question that arises from that work is whether it is possible to design truthful mechanisms for combinatorial auctions whose social welfare can be risk-managed. it is possible to incentivize truthful bidding in auctions by carefully designing the allocation and payment mechanism so that they satisfy certain properties. the revelation principle implies that in a wide variety of settings  only  truthful revelation mechanisms  in which agents truthfully announce their valuations need to be considered when the maximization of a social objective is required. in other words  there are no manipulable mechanisms in which agents strategically report their types that achieve superior outcomes than any non-manipulable mechanism. this principle allows us to focus our attention on truthful mechanisms only. there has been considerable research effort in this field by the computer science community in recent years because of the computationalchallengesposed by incentive compatibility  nisan and ronen  1; 1; lehmann et al.  1 .
¡¡the contributions of this paper are twofold. firstly  we present impossibility results related to the non-existence of mechanisms to incentivize truthful bidding when robust allocations are required in a combinatorial auction. these results hold for both irrevocable commitments and a form of leveled commitment contract between the bid-taker and bidders. secondly  we propose an alternative approach to managing risk in combinatorial auctions in which we maximize expected social welfare. we present a positive result regarding truthfulness for cas in a restricted setting that features a computationally efficient allocation algorithm.
1 preliminaries
combinatorial auctions involve a single bid-taker allocating multiple distinguishable items amongst a set of bidders. the bid-taker has a set of m items for sale  m = {1 ... m}  and bidders submit a set of bids  b = {b1 ... bn}. a bid is a tuple where sj   m is a subset of the items for sale and bj ¡Ý 1 is a bid amount. the winner determination problem  wdp  for a ca is to label all bids as either winning or losing so as to maximize the revenue from winning bids without allocating any item to more than one bid  and is formulated as follows:
.
¡¡this problem is np-complete  rothkopf et al.  1  and inapproximable  sandholm et al.  1   and is otherwise known as the weighted set packing problem. the formulation above assumes the notion of free disposal. this means that the optimal solution need not necessarily sell all of the items. if the auction rules stipulate that all items must be sold  the problem becomes a set partition problem. the wdp has been extensively studied in recent years. the fastest search algorithms that find optimal solutions  e.g. cabob  sandholm et al.  1   can  in practice  solve very large problems involving thousands of bids very quickly. given the possibility of a winning bid being withdrawn by the associated bidder before the transaction has been completed  large losses in revenue are possible  holland  1; holland and o'sullivan  1a . therefore  it is often important to preempt bid withdrawal by finding a robust solution.
definition 1  robust solution for a ca  a robust solution for a combinatorial auction is one in which any subset of successful bids whose probability of withdrawal is at least ¦Á can be repaired by reallocating items at a cost of at most ¦Â amongst other bidders  in order to form a repair solution whose revenue is at least a fraction  ¦Ã  of optimal revenue.
definition 1  1-robust solution for a ca  a 1-robust solution for a combinatorial auction is one in which any single bid whose probability of withdrawal is at least ¦Á can be repaired by reallocating items at a cost of at most ¦Â amongst other bidders  in order to form a repair solution whose revenue is at least a fraction  ¦Ã  of optimal revenue  holland  1 .  the definition of a k-robust solution follows in an obvious manner. 
¡¡a solution is considered robust if and only if the revenue of a repair solution is is guaranteed to be at least ¦Ã times the optimum for every likely set of winning-bid withdrawals  whose probability of failure is greater than or equal to ¦Á. the maximum cost of repair  ¦Â   in the case of cas  reflects the size of any fund for compensatory payments paid to/from the bidtaker following the reassignment of items in order to find a repair solution with satisfactory revenue. if item revocation from bidders by the bid-taker is forbidden  then ¦Â = 1 and compensatory payments to bidders are effectively ¡Þ. later  we shall consider mutual bid bonds in which a reneging bidder forfeits a bond that is used by the bid-taker to fund compensation to other non-renegingwinning bidders when revoking items to form an alternative repair solution  holland and o'sullivan  1a .
as an example 	consider three bids for two items  and . the independent
probabilities of each bid being withdrawn if successful are 1. if we set ¦Á = 1  ¦Â = 1 and ¦Ã = 1  so that all bids are brittle  no non-reneging winning bidder can have an item revoked  and we wish to ensure that a repair solution exists with a minimum revenue of 1 ¡Á 1. then 1 1
is the optimal 1-robust solution1 because it can be repaired to form  should the winning bid be withdrawn. note that is not a robust solution because it results in a repair revenue of 1  which is below our threshold  should either of the winning bids be withdrawn.
¡¡most prior literature on the subject of combinatorial auctions assumes that the probability of a winning bid withdrawing from the auction is zero. therefore  we contend that relaxing this assumption so that the conditional probability of withdrawal in a repair solution is negligible  given that a withdrawal has already occurred in the initial allocation  is a reasonable assumption. we can choose ¦Á to establish an upper bound on the number of likely withdrawals that require repairs. a constraint programming approach  called the weighted super solutions framework  for finding such robust solutions has been developed  holland and o'sullivan  1a; 1b . this framework enables us to find such solutions in a computationally feasible manner by facilitating satisfiability tests for repair solutions.
¡¡the design of truthful mechanisms for a computationally hard problem such as winner determination in a ca is made difficult by the fact that efficiently computable heuristics cannot be employed whilst still maintaining their nonmanipulability characteristics. for example  the class of vickrey-clarke-groves  vcg  mechanisms guarantee that each bidder's dominant strategy is to tell the truth  but it requires solving q + 1 optimization problems  where the overall optimal solutions involves q winning bidders. however  non-optimal solutions compromise truthfulness  nisan and ronen  1 . in this classic setting a necessary condition for any truthful mechanism is that its allocation scheme be monotone.
definition 1  monotone allocation algorithm  an allocation algorithm is monotone iff whenever a bid vj wins  an increase in the bid to still wins  assuming all other bids are fixed.
1 non-monotonicity results
in the case of truthful auctions  however  the payments do not generally equal the declared valuations. for this reason  risk management for such auctions involves managing potential losses in social welfare rather than revenue. henceforth  when we refer to solution robustness involving truthful bidding we are referring to robustness in terms of social welfare. given exogenous probabilities of failure  we adopt a concept of monotonicity-in-expectation to analyze allocations that support contingency planning. clearly  in our setting a necessary condition for any truthful mechanism is that its allocation scheme be monotone-in-expectation.
definition 1  monotone-in-expectation allocation algorithm  an allocation algorithm is monotone-in-expectation if whenever a bid vjwins with exogenous probability p  an increase in the bid to means that it wins with at least probability p  assuming all other bids are fixed.
1 robust-allocation algorithms
we show that an increase in a bid amount may provide a repair solution for a previously irreparable bid. this enlarges the set of bids that may be considered when determining an optimal robust solution. we shall later see how this can occur in practice in example 1. lemma 1 provides an impossibility result regarding the monotonicity-in-expectation of robustallocation algorithms when finding an optimal 1-robust solution. the non-existence of a monotone-in-expectation allocation algorithm implies that for some bidder a  if va is a winning declaration with some probability  p  then for some higher declaration it is more likely to become a losing declaration. the proof utilizes the fact that if va becomes a losing bid with a higher probability  then it must form part of a repair allocation for another previously irreparable bid that partakes in the subsequent winning allocation.
lemma 1 any allocation algorithm for finding a socialwelfare maximising 1-robust solution to a ca with irrevocable assignments of items is non-monotone-in-expectation. proof: example 1 suffices to prove this result. 
example 1 consider bids 
  table 1 . let ¦Á = 1 and all
bids are robust  i.e. not likely to be withdrawn  except for v1 whose probability of withdrawal  1  exceeds the threshold value of ¦Á. in this example we consider irrevocable assignments so we have no budget to revoke items from nonreneging winning bidders and compensate them for such actions  so ¦Â = 1. we let  so the minimum acceptable social welfare is 1. the optimal robust solution is  therefore  {v1 v1} with social welfare of 1  because {v1 v1}  the solution with the highest aggregate declared value to bidders  cannot be repaired to form a solution of at least 1 should v1 be withdrawn. the optimal repair solution  {v1 v1 v1}  attains only 1.
table 1: combinatorial auction for example 1.
item combinations

	bids	a	b	c	ab	bc	withdrawal prob

v1111   ¦Á v1111   ¦Á v1111   ¦Á v1111 ¡Ý ¦Á v1111   ¦Á 
¡¡let us suppose that v1 becomes  so that the declaration has increased by 1. a monotone-in-expectation allocation algorithm requires that v1 remains a winning bid in the initial allocation because if it were to become part of a repair allocation the bidder would have a lower probability of receiving the item. however  allocation {v1 v1} can now be repaired to form a solution with a social welfare of 1 should v1 be withdrawn. therefore  the new optimal 1-robust solution becomes {v1 v1}. this implies that is less likely to be awarded item a following the increase from v1  violating the monotonicity-in-expectation requirement.  
¡¡lemma 1 demonstrates that increasing a winning bid has the possible side-effect of creating new robust solutions by forming a repair solution for a previously irreparable allocation of higher social welfare. example 1 shows how such allocation algorithms can cause the probability of a declaration's success to decrease following an increase in its bid amount.
theorem 1 a normalized1 truthful mechanism is impossible for 1-robust solutions where item assignments are irrevocable.
proof: a normalized mechanism is truthful if and only if its allocation algorithm is monotone and its payment scheme is based on the critical value  mu'alem and nisan  1 . when considering exogenous probabilities of contingency allocations the algorithm must be monotone-in-expectation. lemma 1 shows that a monotone-in-expectationallocation algorithm is impossible to achieve for 1-robust solutions where
item assignments are irrevocable.	
¡¡theorem 1 shows that it is impossible to incentivize truthful bidding to achieve 1-robust solutions. monotonicity-inexpectation is hindered by the fact that irreparable bids are discounted from consideration when determining the winners.
corollary 1 a normalized truthful mechanism is impossible for k-robust solutions where item assignments are irrevocable.
¡¡in prior work  the lower boundon tolerable revenuewas introduced to permit satisfiability testing for repairs in order to improve computational feasibility  holland and o'sullivan  1a . however  this constraint inhibits truthful mechanisms because an increase in a bid amount for a bid participating in an optimal robust solution can simultaneously cause a brittle allocation of higher revenue to become robust. we need to circumvent this problem in order to find a truthful mechanism for risk-managed solutions as opposed to robust solutions that provide guarantees on the social welfare of repair allocations.
¡¡the weighted-super-solve algorithm  holland and o'sullivan  1b  is an example of an allocation algorithm that finds such robust solutions. although the allocation problem is np-complete when a fixed bound is placed on the size of any break  its application within a vcg-based mechanism would remain of the same asymptotic complexity. an obvious  yet interesting  question remained as to whether it could induce truthful bidding. theorem 1 informs us that such an algorithm is non-monotone-in-expectation so the answer to this question is negative.
1 mutual bid bonds
some auction solutions are inherently brittle and it may be impossible to find a robust solution. we can alter the rules of an auction so that the bid-taker can revoke items from winning bidders  to be reallocated so that the reparability of solutions to such auctions can be improved  holland and o'sullivan  1a . in this section we investigate whether it is possible to allocate items in a robust solution using an auction model that permits bid and item withdrawal by the bidders and bid-taker  respectively  whilst incentivizing truthful bidding.
¡¡we adopt a model that incorporates mutual bid bonds to enable solution reparability. mutual bid bonds are a form of insurance against the winner's curse for the bidder whilst also compensating bidders in the case of item withdrawal from winning bids. such  winner's curse & bid-taker's exposure  insurance comprises a fixed  non-zero fraction  ¦Ê  of the bid amount for all bids. mutual bid bonds are mandatory for each bid in our model. the conditions attached to the bid bonds are that the bid-taker be allowed to annul winning bids  item withdrawal  when repairing breaks elsewhere in the solution. in the interests of fairness  compensation is paid to bidders from whom items are withdrawn and is equivalent to the penalty that would have been imposed on the bidder should he have withdrawn the bid.
¡¡if the decommitmentpenalties are the same for both parties in all bids  ¦Ê does not influence reparability. it merely influences the levels of penalties and compensation transacted by the agents. low values of ¦Ê incur low bid withdrawal penalties and simulate a dictatorial bid-taker who does not adequately compensate bidders for item withdrawal. increased levels of winning-bid withdrawal are likely when the penalties are low in a common or affiliated-values model. high values of ¦Ê tend towards full-commitment. the penalties paid are used to fund a reassignment of items to form a repair solution of sufficient value by compensating previously successful bidders for withdrawal of items from them.
lemma 1 robust-allocation algorithms for finding an optimal 1-robust solution to a ca with mutual bid bonds are non-monotone-in-expectation.
proof: example 1 suffices to prove this result.	
¡¡we present an example to demonstrate how an increase in a declaration can result in its likelihood of success being decreased because it forms part of a repair solution for a previously irreparable solution. note that example 1 has different bid amounts for v1 and v1 than those in example 1. these were altered so that the withdrawal of v1 would provide insufficient funds to repair  by revoking items from v1. mutual bid bonds only permit revocation of items from a set of winning bids whose summation of declarations is less than that of the withdrawn bid.
example 1 consider bids   and  table 1 . again  we let ¦Á =
1 so that all bids are robust except for v1 whose probability of withdrawal is 1. we let  so the minimum acceptable social welfare for a solution is 1. the bid-taker would like to be able to award the items to {v1 v1} but v1 is a brittle bid that cannot be repaired satisfactorily. the optimal robust solution is  therefore  {v1 v1} with welfare of 1.
table 1: combinatorial auction for example 1.
item combinations

	bids	a	b	c	ab	bc	withdrawal prob

v1111   ¦Á v1111   ¦Á v1111   ¦Á v1111 ¡Ý ¦Á v1111   ¦Á 
¡¡suppose that v1 becomes  so the declaration has increased by 1. the mutual bid bond provides a fund of ¦Â = ¦Ê ¡Á 1 if v1 is withdrawn  but this is insufficient to allow revocation of items from v1 who requires a compensatory payment of ¦Ê ¡Á 1. a monotone-in-expectation allocation algorithm requires that has least the same probability of receiving item a as it did previously  definition 1 . however  v1 can now be repaired to form a solution    of welfare 1 should the bid be withdrawn  therefore  the new optimal 1-robust solution following the increase in v1 is {v1 v1}. this implies that becomes a losing declaration with a greater probability following the increase from v1  thus violating the monotonicity-in-expectation requirement.  
theorem 1 a normalized truthful mechanism is impossible for 1-robust solutions and mutual bid bonds.
proof: lemma 1 shows that a monotone-in-expectation allocation algorithm is impossible to achieve for 1-robust solutions with mutual bid bonds. 
corollary 1 a normalized truthful mechanism is impossible for k-robust solutions where items can be revoked based on mutual bid bonds.
1 truthful risk-managed allocations
in this section we investigate ways in which we can compromise our allocation algorithm and restrict the ca setting so that we can achieve a truthful mechanism. various polynomial-time approximation algorithms can provide good or near optimal solutions very quickly. however  nisan and ronen  showed that a non-optimal solution can in fact be degenerate so that results can be arbitrarily far from the optimum  in terms of social efficiency. a seminal positive result  due to lehmann et al.   showed that by restricting the set of agents' preferences to be what they termed  singleminded  i.e. agents are only interested in a single bundle of items  it is possible to develop greedy mechanisms that are both truthful and computationally efficient.
definition 1  single-minded bidder  bidder j is singleminded if there is a set of goods sj   m and a value vj    1
such that
¡¡lehmann et al. showed  axiomatically  that a mechanism is truthful  given single-minded bidders  if it fulfils the following requirements: the mechanism's allocation algorithm is monotone  definition 1 ; the bidder is either awarded his set of desired items and no more or nothing at all  exactness ; a winning bidderpays the lowest value he could have declared to win the items  critical value ; a bidder never pays less for a superset of items in his bid  payment monotonicity ; losing bidders pay zero  participation constraints .
¡¡we adopt a similar model to mu'alem and nisan  to investigate possible mechanisms that incentivize truthful bidding over a set u of m items. each bidder j  of n bidders in total  has a non-negative valuation function vj for a subset sj   u of items. we assume that bidders' valuation functions are private  as is commonplace within mechanism design  archer and eva tardos  1¡ä   and probabilities of withdrawal are exogenous.
¡¡informally  single-minded bidders are willing to pay vj   a privately known valuation  on condition that they minimally receive a set of items  sj. this condition is necessary to satisfy the individual rationality constraints. mu'alem and nisan  introduced known single-minded bidders  whereby the subsets sj are known to the mechanism. in fact  only the cardinality of these subsets needs to be known to the mechanism. this mechanism is composed of an allocation algorithm  a v   whose inputs are the bid declarations v = {v1 ... vn}  the respective desired items {s1 ... sn} and a payment rule p v . the output of a v  is a subset of pair-wise disjoint winning bids.
¡¡we present a positive result: a truthful approximation scheme whose allocation scheme accounts for the risk of potential single winning-bid withdrawals. we develop an approximation algorithm similar to the lp-based allocation algorithm of mu'alem and nisan  and show that it is monotone-in-expectation. the ip formulation for maximizing expected social welfare  given the possibility of single bid-withdrawal  is the following:
		 1 
whereand is subject to the following constraints:

where  is the probability of bid j being withdrawn so that we do not expect the repair allocation to have higher revenue than the initial allocation. xj is the decision variable for bid j  vj the amount of bid j and rkj is 1 iff bidder j receives her bundle if bidder k withdraws but does not receive it if bidder k does not withdraw. we assume conditional probabilities of failure so that the likelihood of multiple winningbid withdrawals is zero. notwithstandingthis assumption  the formulation still remains computationally infeasible because of the size of the input  which requires o n1  variables. a branch and bound search to find an optimal solution quickly becomes prohibitively expensive as n increases. the lp relaxation for equation 1 relaxes the integrality constraints on xj and rkj so that bids  in effect  can partially win. although this problem also has o n1  input variables  it can be solved in polynomial time. the lp formulation  denoted lp v   is the same as the integer formulation except that we denote the decision variables as yj  instead of xj  and yj  rkj and rkk are ¡Ê  1 . note that prior work on robust optimization concerns uncertainty about the precision in coefficients in an ilp  bertsimas and sim  1   and is therefore not appropriate for our problem that concerns uncertainty about the validity of assignments to variables.
¡¡there are no constraints on minimum social welfare in this model. these constraints were originally introduced as a compromise on the original problem of utility maximization so that we could improve computational feasibility whilst still maintaining the integrality constraints on winning bids  holland and o'sullivan  1a . by removing these lower bounds on repair revenues and optimizing expected utility using the lp relaxation  we need to then determine the allocation from the results of this non-integer solution. it is natural to assume that yj  representing the status of bid vj in the optimal allocation of the linear relaxation  would provide a good heuristic for guiding the choice of an approximate solution because it reflects a fraction of how much that bid should win in an optimal solution. in general  however  such heuristics are not necessarily truthful.

algorithm 1: lp-risk-manage

input : bids v
output: allocation
begin
y ¡û lp v   // optimal lp solution foreach j ¡Ê {1...n} do then do
end

¡¡informally  lp-risk-manage  algorithm 1  assigns any bid whose value in the corresponding lp solution is expected to be greater than   when considering the exogenous probabilities of withdrawals  to be a winning bid. in order to prove the monotonicity-in-expectation of algorithm 1 it is necessary to show that for any v j  where v j = v  {vj}  yj is a non-decreasing function of vj.
lemma  is a non-decreasing function of vj for any fixed v j.
for the purposes of notational brevity. proof: consider optimal feasible solutions y and y to the linear program  lp v  and  respectively  where  and  is a feasible  though nonoptimal  solution to.
y is also a feasible solution to lp	and so	j	j
right hand side is ¡Ý 1 and we can rearrange it so that the  and  yj rkj  components are on opposite sides 
. 
lemma 1 algorithm 1  lp-risk-manage  is monotonein-expectation.
proof: vj is a winning declaration if and only if 
. from lemma 1 we know that so any
is also a winning declaration.
theorem 1 a normalized mechanism that assigns items to bidders according to algorithm 1  lp-risk-manage  is truthful-in-expectation when its payment scheme is based upon the critical value.
proof: we know from  mu'alem and nisan  1  that for any v j and monotone allocation algorithm there exists a single critical value below which vj is always a losing declaration and above which it is always winning. a normalized mechanism is truthful when its payment scheme is based upon the critical value  and the allocation algorithm is monotone  mu'alem and nisan  1 . from lemma 1 we can conclude that lp-risk-manage is monotonein-expectation  thereby weakening the solution concept to
truthfulness-in-expectation.	
¡¡the most important application of an approximation algorithm is within a mechanism that can provide guarantees on algorithm performance. algorithm 1 provides a  m + 1 approximation for expected social-welfare maximizing cas when single winning-bid withdrawal is possible.

algorithm 1:  m + 1 -approx-riskmanage

input : bids v
output: allocation begin
//highest expected bid amount j ¡û argmax pj ¡Á vj 
//second highest expected bid amount as a repair
x j  = 1 r j  j1  = 1 //¦Ò lp v   : the optimal objective value
then
return
else return lp-risk-manage v  
end

theorem 1 algorithm 1 provides an m+1 approximation of the optimal outcome according to equation 1.
proof:  sketch : in the worst-case situation for algorithm 1  the largest single bid amount is  times the optimal initial allocation in terms of aggregate declared value. all repair bids for the optimum will result in no loss in declared value  and thus the second highest declaration will equal this amount when there are two or more bids. 
1 conclusion
we proved a key negative result using the notion of 1-robust solutions: robust-allocation algorithms are non-monotone-inexpectation for the case in which no items can be revoked from winning bidders. this result extends to k-robust solutions. we also showed that they remain non-monotone-inexpectation when mutual bid bonds  a class of leveled commitment contract  are adopted.
¡¡we circumvented the impossibility results for the case in which no items can be revoked by the bid-taker and bidders are known single-minded  by removing the constraints on minimal social welfare. when the conditional probability of multiple withdrawals is set to zero  we used a linear programming-basedapproximation algorithm to find approximately utility-maximizing solutions. we outlined a computationally efficient  m + 1 -approximation scheme that is truthful-in-expectation for risk managed solutions. the weak bound on the approximationratio is indicativeof the difficulty in attaining truthful risk-managed allocations but serves as a useful starting point for future work in this nascent research area.
acknowledgements
this work has received support from enterprise ireland under grant number pc/1.
