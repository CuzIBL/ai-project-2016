 
　　an important problem in computer vision  that of edge linking for contour or line drawing extraction  is approached from the point of view of a graph labeling problem. a lagrange dual approach to an integer programming formulation of this problem will be presented. although the inherent complexity of the problem will not be reduced  the techniques presented below will allow for a partial decomposition of the solution algorithm. furthermore  the approach which will be presented appears to have certain advantages over existing line tracking and graph searching algorithms. 
	i 	introduction 
　　two basic ideas will be pursued in the following discussion: the first involves an approach to the problem of edge linking. the second involves an introduction to the use of dual methods for combinatorial optimization problems relevant to issues of artificial intelligence. in order to relate these two concepts  edge linking will be modeled in terms of a graph labeling problem which will then allow for the direct application of the proposed dual methods. 
a. 	the problem of edge linking in computer vision 
　　the derivation of contours describing the outlines and the salient features of objects is an essential component of most model based systems. once these outlines have been derived  well established classification techniques  such as syntactic pattern recognition based spline primitives  perkins  1  fu 1   fourier shape descriptors  zahn and roskles  1   or generalized hough transforms  ballard  1   can be used to recognize the object from a set of known models. it is well known  however  that the edge detection process is not in itself sufficient to describe the required contours  as a primitive edge map will almost always contain broken contours or spurious edges. it is for this reason that edge linking is considered to be one of the most basic problems in computer vision  marr  1 . 
x 
　　this work was supported in part by the robotics research laboratory  and in part by the ultra sonlcs imaging laboratory  both in the department of electrical and computer engineering  university of michigan xx 
current address: computer systems research laboratory  bell tele-
phone laboratories  holmdel  new jersey 
　　unfortunately  the problem appears to be as difficult as it is important. although  the inherent difficulty does not appear to be so much in the conceptual problem of finding a good model to represent the contour or signal  in the presence of noise  but rather with the computational complexity of the algorithms which extract it. for example  in one model based system  the edge extraction and linking required approximately 1% percent of the overall computational effort  perkins  1 . in fact  most current edge linking approaches are based on combinatorial search or tracking algorithms wherein the points in the state space correspond to pixels in the image  ballard and brown  1 . the search is usually guided by an evaluation function which is in some manner related to the over all length or strength of the contour in the original edge map. 
     it is not surprising that computational difficulties arise in conjunction with a search defined on a space the size of a typical image. if it is assumed  therefore  that edge linking is inherently a problem in combinatorial optimization  and on the other hand  a fundamental problem in computer vision  then research into means by which the search can be implemented in a highly parallel manner  despite the implications for the cost of the supporting hardware  is justified. another basic problem with existing strategies is that they may encounter difficulties if  for example  the search is incorrectly rooted  as will occur if the starting point happens to be a noise point  or if  because of some ancillary feature in the image  the search continues down a strong  but false path. the focus of the work described below is in addressing these basic issues. 
b. 	dual approaches to combinatorial search problems 
　　because it does not appear that existing graph searching methods can be implemented in a parallel manner  the approach proposed here is to perform the search in an associated dual space. in order to do so  the problem is first formulated as an integer programming problem. a lagrange dual  bazaraa and shetty  1  realization of the problem is then presented. in accordance with price directed decomposition theory  shapiro  1   the particular form used will allow for the decentralized computation of the solution  at least in the initial stages of the process. although graph searching problems occur in almost every area of artificial intelligence  the techniques presented here are particularly suited to those combinatorial search problems where the entire state space is known in advance. a graph labeling problem  where the graph is defined with respect to an image raster  is an example of this situation. 

1 m. diamond et al. 

m. diamond et al. 1 


1 m. diamond et al. 


a. 	the descent algorithm 
each iteration of the descent procedure involves one 
 pass  over the image. a pass involves considering all possible pairs of adjacent vertices  or equivalently  edges in the graph. any set of disjoint pairs of vertices  or edges  can be considered simultaneously  hence the partial decomposition of the algorithm. in considering any such pair  say vertex v1 and vertex v1 the following procedure is used: 
 calculate the current labeling values  rij  for all labels on vertex v1 and v1'. 
 let mi be the maximum of all current labeling values associated with labels on vertex v1. likewise  let m  be the maximum of all current labeling values associated with labels on vertex vi'. 
 define the set m; to be the set of labels on vertex v  whose current labeling value is equal to nrt|. likewise  define the set m| to be the set of labels on vertex vj whose current labeling value is equal to my. 
 if the sets of labels  mt and mj are not contained in a pmi set  then no local descent direction exists  otherwise  
 let l| be the set of labels in a covering pmi set associated with vertex vj and lj be the set of labels in that set associated with vertex vi. let 

 define 
and finally  
 the descent step is implemented by adding 1 to the dual variable associated with the covering pmi set constraint. 
　　an interpretation of this algorithm can be given as follows: initially  one chooses that label at each vertex with the greatest associated labeling value  that is  according to the local maxima selection process. if the resulting labeling is consistent then the original problem has been solved  that is  the resulting labeling is that globally consistent labeling such the sum of the initial labeling values is maximum. otherwise  the strategy involved is to  penalize  the labeling values associated with invalid pairs of labels across adjacent vertices in the graph. this penalty is implemented through equations  1  by increasing the value of the associated dual variable. the hope is  that reducing the values of the labels which participate in inconsistent labeling pairs will  at the next iteration  result in different labels being chosen at the respective vertices. this process will then reduce the overall number of inconsistent labeling pairs. 
　　although the algorithm appears on the surface to be quite detailed  in fact it is very easy and efficient to implement. by bit encoding the labels at each vertex 
m. diamond et al. 1 
participating in a given operation  e. g.  sets m1 and m|  as well as the labels in a given pmi set  the processing required for a given pair of vertices can be reduced to a couple dozen machine instructions per vertex pair per iteration. for the label set discussed in the introduction  only 1 pmi sets are required to cover all the constraints between a given pair of vertices  so the search required to find a cover is minimal. finally  from the basic operations involved it can be estimated that this algorithm will run well over 1 times faster than any of the algorithms associated with the so called  relaxation labeling  processes. 
b. 	spacer steps 
　　one of the immediate drawbacks with the algorithm given above is that it will generate fixed points with 1 or more labels with associated labeling values tied for the greatest value at each vertex in the graph. when this happens  and when the resulting sets of chosen labels cannot be covered by a pmi set at any vertex  then the dual can not be minimized any further on a local basis. in this case  it is not possible  in general  to choose a label from among those which are tied with the best current labeling value except on the basis of informal heuristics. for this reason a  spacer step  will be used after every iteration of the descent algorithm given above. in the experiments described below the spacer step consists of an iteration of the  average-max  updating rule  diamond  1  which updates the current labeling value cj of a label xj on vertex v  by: 
thus  a processor performing the updating for label xj on vertex v  would generate n values to be averaged  along with the current labeling value one such value corresponding to each vertex in the neighborhood  by taking the maximum of the current labeling values associated with labels consistent with on vertex vj. 
　　if is the current labeling chosen by the local maxima selection process and  is the sum of the associated current labeling values  then the average-max updating rule can be shown to have the following properties: 
 if it is not a consistent labeling  then the sum of the current labeling values with .. will have decreased after the next iteration  that is 
 if is consistent then 	i = c xt  and the labeling selected at each iteration t   t will be the same. 
 from  and  the value  is a non-increasing function of t. furthermore  it can be shown that the value associated with a consistent labeling will increase at each iteration  if that labeling is not the one selected by the local maxima selection process. 
1 m. diamond et al. 
	iv 	experiments 
　　figure 1a shows a scene taken from the general motors   bin of parts  database after the application of feature detectors sensitive to each of the scene events shown in figure 1. those labels at each pixel such that the corresponding feature detector outputs are maximal are shown in this figure. figures 1b and 1c are the results of choosing the best labels at each pixel after 1 and 1 iterations of the procedure described above. in the case of labels tied for the best at each vertex  preference was given to the label corresponding to the blank pixel. otherwise  that label which was consistent with the greatest number of labels on vertices in the neighborhood was chosen. beyond this  ties are broken arbitrarily. 
	v 	discussion 
　　we have described an approach to the problem of edge linking which is based on the graph labeling model. a lagrange dual approach to the integer programming formulation of the associated continuous graph labeling problem has been discussed. obviously much detail has been left out as the intention here has been to limit this presentation to an overview of current results related to an ongoing research effort. 
　　the approach described here  as is the case with many of the other cooperative algorithms applied to problems in computer vision  the relaxation labeling processes in particular  is heuristic in nature. nonetheless  the existence of an underlying problem definition as well as the direct relationship between the model and the application is a major advantage which this approach has over the relaxation labeling algorithms. in the latter case such a 
　　definition is not present. there are other advantages. for example  because the dual function is convex  one can with certain precautions  guarantee that the descent algorithm converges. although we can offer no theoretical limit on the convergence time  i.e. the number of iterations required before the labeling chosen by a local maxima selection process does not change   it has been observed that the algorithms described here will converge on the order of 1 to 1 iterations for the examples given above. these figures appear to be independent of the particular problem. 
　　however  there are also problems in using heuristic techniques to solve a combinatorial optimization problem in a decentralized manner. for example  these algorithms will almost always result in a fixed point with multiple labels tied for the maximum value. as noted previously  in this case there is no basis on which to make an intelligent labeling choice in a purely local manner even though there may exist a globally consistent labeling among the labels tied for the best value. finally  the process is somewhat sensitive to the amount of noise in the image  and very sensitive to the way in which the initial labeling values are derived. 
　　if the main interest is in the application itself  then a 
　　more sensible approach would be to relax the requirement of a totally decentralized solution  that is  to incorporate some form of an enumeratlve scheme as with the graph searching methods described in the introduction. even so  the graph labeling model of the edge linking application offers an advantage since many aspects of a branch and bound approach can then be implemented in a decentralized manner. for example  a variation of the lagrange dual algorithm presented here could be used as a means for generating bounds in a branch and bound approach  geoffrlon  1   and the discrete relaxation process  rosenfeld et al.  1  could be used as part of a feasibility test of a given candidate subproblem. 
　　furthermore  this model offers the potential of adapting techniques from other classes of 1 integer programs to the edge linking application. the graph labeling problem  as defined here  is a special case of the well established set partitioning problem  balas and padberg  1 . it is also easily transformed to the vertex and set packing problems  as well as the set covering problem  for which heuristic algorithms to handle large scale situations exist. 
     in order to make the general model more useful  a better understanding of the graph labeling problem is needed. current efforts towards a formal understanding of this problem involves both an investigation into the nature of its linear programming relaxation  which is the problem of section 1 with equation  1  replaced by: 

and the relationship between the lagrange dual and this relaxation. although  aspects of the algorithm presented above are still not understood  the results from the application of these techniques to real world scenes  for example  the industrial scenes shown in section 1  are encouraging. finally  some effort is being directed towards developing techniques for solving the problem when the underlying graph has a particular regular structure such as that corresponding to an image  which has pronounced rows and columns. when this occurs  a bidirectional dynamic programming approach  diamond  1  can be combined with the integer programming algorithms described here to derive more robust algorithms. 
