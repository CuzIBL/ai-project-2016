 
this article discusses the use of analogy to index and organize large databases of information we describe the design and implementation of an analogical database supporting tens to hundreds of thousands of cases the contents of the database are parsed news articles represented as networks of grammatical relations with references into wordnet for word meaning information the virtue of this approach is its domain independent handling of content analysis efficient algorithms for indexing and matching in this database are described and bneflv discussed and examples of their performance are discussed 
1 introduction 
this article discusses the design of databases which support dynamic analogies among thousands of descriptions we have built an analogical database consisting of  currently  over a million words of natural language text parsed into networks describing surface syntactic structure and associated with a global ontology derived from wordnet  miller 1  queries to the database retrieve networks with similar grammatical structure and match elements in order to identify thematic roles we call the database analogical because the mappings between elements are not determined by a prion canonical structures like case frames scripts or memory packets but by drawing analogies between them on the fly the technical contributions of this work include algorithms for efficiently determining analogies an analysis of the problems of indexing for analogy among thousands of descriptions and an implemented indexing system based on the analysis in addition we discuss the use of wordnet as a semantic background for analogizing and indexing 
1 the database 
we 	are 	currently 	constructing 	a database of over 
1 1 words of parsed text for use in experiments on domain-independent text analysis the text corpus was provided by gannett corporation and consists of a large number    1  of relatively short  usually one or two paragraph  news summaries drawn from the periodical usa today  and ranging from 1 to the present 
   the database itself  of which roughly 1% has been processed as of april 1  is generated by parsing the text into networks of frames representing individual phrases and interconnected by links reflecting possible grammatical relations among them individual frames are connected with an ontology of possible meanings derived from wordnet 
   the chief virtue of the database  and our approach  is that it allows processing based on semantic content without the need lor either the design of canonical meaning representations or the implementation of processes for producing them 
1 representational structure 
descriptions in our database consist of sets of individuals connected by two kinds of relations 
  micro-relations connect individuals to either other individuals in the same description or literal values 
  associations connect individuals to either individuals in other descriptions or to reference points in the global namespace 
micro-relations provide a pre semantic structural representation which is neither canonical  there is no promise that semantically equivalent descriptions have the same micro-relational structure  nor entirely correct  some micro-relations may be accidental or artifactual  microrelations constrain but do not constitute interpretations 
   associations provide an ambiguous meaning representation such that if two individuals have associations in common  they are taken as having some semantic similarity like micro-relations associations may be ambiguous and partially incorrect the association relation is transitive  if x is associated to v and v to z then x is associated to z  but usually not symmetric  il x is associated to y y is not neccessanly associated lo x  the immediate associations of an individual constitute a set out of which all of its associations can be generated 
   micro-relations and associations are central to the matching and indexing processes the matcher uses associations! structure to provide base-level matching and micro-relational structure to determine higher level matches the indexer combines associational and microrelational structure to construct signatures for descriptions such that overlapping signatures are indicative of systematic and sensible analogies 
	maase 	1 

1 base level matching 
the chief innovation of our matcher is its use of a network of associations to determine base-level similarity analogical matchers like sme  falkenhamer et al 1 have a basic and fixed level of symbolic description at which the matching process grounds out in our matcher the base level consists of a network of associations which grows as new descriptions are indexed and matched two important properties of this metric are that the criteria of similarity are  a  contextually sensitive and  b  can be changed without changing the implementation or the matcher a third feature is that the introduction of new elements to the base level occurs naturally with the accumulation ot new cases and their association with existing cases this second feature distinguishes it from the acme matcher  holyoak and thagard 1  which uses an associational base level but implements it with a fixed network 
   the base level similarity metric for our matching mechanism applies to the individuals which constitute descriptions and is based on the identification of unique common associations between them two individuals are cognates  i e similar with respect to their contexts  if they share some unique common association z which is shared by no other pairs of individuals from the two descriptions the cognate relation has two interesting special cases type unique cognates and triangle cognates 
   type-unique cognates occur when two heterogenous descriptions are compared and the associations which make the elements distinct become the foundation for cognate relations between the description for example in the following network the unique associations for people 
actions and things sort out the cognates between two situations 

triangle cognates occur when common associations are individuals in a third description if two descriptions already have a set of associations in a third description these can provide the basis tor cognate relations between them for example 

triangle cognates obviate abstract schemata for descriptions by allowing one concrete example to provide structure to others and by permitting past associations and analogizing to support current and future matching 
   of course when presented with a pair of descriptions whose common associations are very general cognate matching will produce fanciful results however the goal of this base level of matching is not to generate only sensible mappings but to generate the most sensible mapping given the possibilities 
1 computing cognates 
given two descriptions c and d the cognate relations between them can be determined in 1 mn  time where n is the size  number ot elements  in c and d and m is the depth of the association tree tor the elements 
   in our text database with the association network derived from wordnet m ranges trom 1 to s'o with an average value of about 1 this means that - given the appropriate associauons analogical retrieval of description components can be done in 1 m  lime for each component  performance which allows us to use analogy as the basis for providing representational structure 
   the cognate determination algorithm is a two-phase competitive algorithm where members of one context first compete to uniquely mark their associations and then members of the other context compete to clai m the associations which have been uniquely marked whenever a conflict occurs in either phase the common association drops out of the running 
   by using bits and a tag field on each description each phase takes 1 mn  time and a final cleanup phase takes oin  time  giving ctftnn  time overall 
   cognate matching provides a base matching level for analogy which is botfi flexible and efficient it also in the case of triangle cognates allows the reuse of associations determined in the past to generate new mappings essentially memoizing past analogical work cognate matching will fail to match two elements if there are either 
	1 	no common associations between them 

1 

	1 	no unique common associauons between them 
case  1  is relatively uncommon when the database has a rich associational structure  such  s wordnet  case  1  is more common and we resolve it though the use of structure matching to combine associations and micro-relations to resolve ambiguities 

1 structural matching 
structure matching in our database starts with a set of initial mappings denved by cognate matching and extends this mapping based on the micro-relational structure of the description unlike sme  our algorithm does not explicitly represent spaces of possible mappings instead it generates a single map which will be ambiguous if there is no one systematic mapping 
　　the algorithm starts from an initial set of pairings determined on the basis oi cognate relations  it then considers each pair and uses the micro relations of the paired individuals to specify smaller sets out of which it attempts to resolve cognates 
　　for instance in matching the following networks we can determine two cognate relations 

the relation between named and appointed is found through common associations in wordnet  v1  the relation between the two clintons is based on their common root  namely clinton name'   however no mapping between dal ton and elders can be found because its common association  name  is also common with clinton 
   structure matching however combines the mapping between nominated and appointed' and the microrelations object of to select a subset to compare for cognates 

restricted to this subset the conflict with clinton does not exist and the mapping between 'dalton ' and  elders is easily generated 
　　an g tnn1  algorithm for structure matching starts by generating the cognate mappings and then expanding each pairing expanding a pairing involves iterating over the common micro-relations for each and computing the cognates between the sets ot frames to which they are  respectively  micm-rejated 
　　there will be 1 n  matches to expand at most each expansion will take 1 kmnk  where k is the number of micro-relations and nk the number of elements to which each element is connected by each micro-relation in practice k is usually small    1  and nk is bounded by n this gives bounds of 1{nuc  lhough in many cases  including the representation of grammatical/semantic structure  nk tends to be small    s   giving bounds more like the same 1 mn  required for cognate matching 
　　because this algorithm relies on cognate relations as the base level for matching it is prone to the same sort of fanciful results as cognate matching for instance a description of two people kissing one another and two people hitting one another would be matched based oti the fact that both actions have a common synsel  roughly concept   in wordnet  e g contact or touch  but as with cognate matching the goal of matching is not to produce only sensible matches to produce the most sensible match given the possibilities the task ot maintaining sensibility falls on the coverage of the database and the indexing mechanisms which retrieve descriptions for possible matching tt is 1 these components ot the database that we now turn 
1 what makes a good match1 
how do we decide what makes a good match for a description1 how do we find such matches without trying to match with every description in the database'' in this section we describe how our databases arc indexed starting with a characterization of what makes a good match and then describing the indexing scheme for identifying such matches wilhout examining each 
description individually 
　　we define a good match to have two interrelated features systematicuy and solidity the concern lor systematicity is common to nearly all work on analogy  falkenhainer et al 1  holyoak and thagard 1 and  mitchell 1  all seek systematicily albeit in different ways 
　　but as we saw in the kiss/hit case our structural matcher is perfectly happy to generate fanciful and unreasonable systematic matches to address this problem we add the criteria of match solidity to match systematicity in our evaluation of matches the solidity ot a particular mapping is a function ol the number of unique common associations which support it in the case ol the fanciful match between bill hit the table and bill painted the flower the match is supported by a slender thread ot associabon through the wordnet svnsets tor actions and things in contrast a match between bill hit table and bill kicked the ball would be supported bv many more unique common associations 
　　solidity is related to the stability ol mappings when extraneous elements are added in descriptions if we extended bill hit the table to be bill grabbed the table and hit it the match to bill painted the flower would be lost because the common association between hit md painted is no longer unique with another action to compete with it on the other hand the match hetween 
 bill grabbed the table and nil it and bill kicked the bill would survive the addition ot the distracting elements 
	haase 	1 
1 indexing for good matches 
given this informal account of systematicity and solidity we move on to the question of how we use the criteria of systematicity and solidity in constructing an index for analogical matching 
   we start with the fact that a match is systematic if corresponding elements are related to one another by the same micro-relations and that match is solid if the corresponding elements also have a lot of unique common associations uniqueness however is a contextual property which requires looking at the descriptions being matched because of this our signature must be based only on 
common associations and not on unique common associations 
   to capture these dual constraints we define a description s signature as a set of distinct keys such that overlap of signature indicates the potential for solid and systematic matches the general form of a key is a triple of an individual s association a micro relation and an association of the related individual for instance some of the keys for the clinton said' example above might be 

   the full signature of a description just includes all the associations and micro-relations of a description e g the set of 1-tuples 

where c is a description rt its micro relations a x  the associations of x and r x  the elements of c to which x is micro-related by r 
   the connection between the overlap of signatures and svstematicity and solidity goes as follows for every systematic relation carried over in a mapping between descriptions c and d there will be at least one common kev in k if the systematic relation is supported by more common associations there will be more keys in common 
   sharing a key constitutes a neccessary but not sufficient condition for a systematic mapping the sufficient condition is a contextual one whether or not the common associations described by the keys are in fact unique given the two descriptions being matched 
   the chief problem with this approach is that the size of the signature lor a description is a function of the square of the depth of the association network times the number of elements and micro-relations in the description this amounts to several thousand keys for even small descriptions for practical purposes a is neccessary to index with less than a full signature and the identification of this reduced signature is an open research problem we are currently indexing words based soley on stemming  e g 
said goes to say   and then expanding queries at search 
time to include direct synonyms 
   our use of flat indexing is similar to that of arcs  thagaid 1  and mac/fac  gentner et al 1  
but differs in using a key space which reflects relational as well as associational structure the current approach is also similar to keyword expansion whose precision problems 
1 
are described in  voorhees  1  however the addition of structural information allows us to handle some of this loss of precision by rejecting matches based on structural context and syslematicity 
the problem of indexing these superfical descriptions is still an open one other possibilities we are currently 
examining include 
1 statistical analysis to determine independence and significance of keys 
1 selection of basic types in the wordnet association network to use as keys 
1 disambiguation of word sense to reduce the overall signature 
1 generating the database 
this section describes the generation of the database from input text the text database is generated from input text in a four phase process 
1 tagging breaks the document into words and determines parts of speech using a hand-coded probabalistic grammar which demonstrates 1% accuracy when run  without specialized training  on the brown corpus 
1 phrasing identifies atomic phrases in the text and their heads the tag set is subcategonzed to support effective phrasing 
1 	grounding creates new frames tor head nouns and verbs in the document and associates these frames to frames in a global database and through there to a transcription of wordnet into the frame database 
1 	linking hooks up the local frames for a document based on possible grammatical relations between the 
phrases they describe linking is done by a suite of specialized procedures  rather than a general grammar as in  sleator and temperly 1   
the parser operates at roughly 1 words/min when running on a single machine the tagging and phrasing is done by a lisp program while the grounding and linking takes place in scheme the modules communicate via a 
lisp-based remote procedure call protocol 
   interested readers can experiment with the parser and text matcher al the world wide web site 

note that the goal of the parser is not to produce any one interpretation of the text but to generate a set of structures which will constrain and guide indexing and matching the process is intentionally over-generative in producing multiple attachments for prepositions and ambiguous sense references it is the task of the matcher and database to sort out these ambiguities 
1 performance 
when phrase structure and word choice is very stylized and similar between texts cognate and structural matching usually has an easy time determining correspondences between texts for instance in the daily market reports 

included in the database  the following texts  typography indicates different match derivations  were easily matched 
j the dow jones average of 1 industrials opens at a record 1 thursday after closing up 1s 
wednesday the n1sd1q otc composite opens at 
1  down 1 
1 	the dow jones average of 1 industrials open   at 
1 friday after closing down 1  thursday 
the nasdaq otc composite opens at 1 down 
1 
bold words were immediately identified as cognates underlined words are matched based on micro-relations between cognates and italuized words  the numeric and temporal particulars  are matched based on micro-relations between the bold and underlined words the process easily aligns the corresponding numbers reported in the two texts 
   in this particular case the chief virtue of our matcher is its ability to operate on the text without priming while it would be straightforward to construct a regular expression 
to extract that particular numeric value from thai particular class of d nly report the structures and algorithms we have described do so directly without any external intervention 
1 harder matches 
of course the chief reason for the easy success in the above ease was that its phrasing and wording were highly stylized among the goals tor our past year of work were the expansion ot automatic matching to less stylized cases through a combination of some phrasal canonicalization  retaining ambiguity  and the use of wordnet to represent knowledge about word meanings in this example we collected various reports on administration appointments and produced representations lor them which were then matched the results were satisfying the following four sentences despite differences in wording and spelling can have many of their thematic elements mapped to one another automatically without any introduction of special representations or encodings 
1 president clinton nominated  outspoken jocelyn elders-  to be his surgeon general on thursday 
1 clinton named william perry deputy secretary under aspin to the post 
1 president clintoni fired embattled fbi chiefl1 william sessions monday and is ready to nominate  
iouis freeh a federal judge in new york city and 
former fbi agent 
1 ' san anlomo banker john daltong a former navy submarine officer  and democratic fund- raiser-; was chosen1 wednesday by president clinton to be navy secretary 
in sentences 1  the phrase structure is exactly the same  and the connection through wordnet handles the variation in word choice in sentence 1 a policy of projecting sub-
jects forward to capture embedded clauses  when there is 
　subscripts on the words are used to distinguish particular word occurrences for discussion in the text 
not a conflicting subject  connects the president clintoni firing sessions to the expected nomination1 ot freeh in sentence 1 the rules for transforming the passive sorts out subject and object  allowing dalton1 to match the corresponding elements of the other sentences 
   sentence 1 also demonstrates the advantage of representing ambiguity explicitly the sentence s representation is explicitly ambiguous about which phrase dallon1   submarine officer1 or fund-raiser1 is the actual subject of chosen1 however when asked to determine a match with a particular second text the unique common prototype relation pulls up the person s name in one relational context as analogous lo the person s name in the other but the representation of matching allows us to both simplify the parsing process  by postponing resolution  and simplify the matching process  by not having to consider parser errors  
   while the system can do a pretty good job ot figuring out who was nominated only in sentences 1 and 1 is it able to figure out what position thev were being nominated to fill it misses out on 1 and 1 tor two different reasons 
  for sentence 1 it does not resolve the anaphoric referent of the post solving this requires some mechanism lor intersentential anaphora we do not currently have one but expect thatwe will be able to take advantage of the same representation of ambiguity used tor sense and attachment lo represent a space of possible referents 
  for sentence 1 the reason for the system s ignorance is the common sense or conventional inference an astute reader makes that if the sentence mentions someone being fired from a position and then describes a planned nomination that it s likely to be a nomination 
to that position 
there can ot course be no general solution to the problem of conventional knowledge required for sentence 1 since it is contingent and cultural by its very nature one possible way to allow the system lo accquire this kind of knowledge would be a framework where new sentences were automatically associated -- upon arrival - with existing sentences having similar structure different structures with similar meaning could then be associated with one another and through these common associations the new sentences would likewise be associated with each other despite the differences in phrasal conventions 
   for instance if sentences 1 and 1 were aligned to demonstrate meaning equivalence  e g surgeon general associated with fbi chiet1   and a subsequent sentence arrived 
1 president clinton fired embattled surgeon general1 jocelyn elders and is ready to nominate 
its description would be aligned with sentence 1 above and by common association generaln would be cognates with chiefs as well as the corresponding elements of other texts associated with sentence 1 
   of course it remains to be seen whether this approach to accquinng this sort of knowledge is effective it might he that either variations are too large or their natural structure too contusing to allow this approach to succeed one of our 
	haase 	1 
hopes is that the historical breadth of the database  1 or 1 years of news  will allow us to provide examples of phrasal variation over one period of time and then examine how well those examples cover other periods 
1 indexing performance 
results on indexing performance on our current database are still preliminary but some interesting problems have emerged when indexing on literal word roots  e g 'met' matches only met   retrieval usually manages to identify texts with similar meaning e g for clinton met 
mitterand  the system found sentences like 
chinese president jiang zemin will meet russian president 
　　boris yeltsin sept  1 in moscow but also made the understandable confusion the uss brewton met the hokulea about 1 miles southeast of hawaii and picked up 
and in both cases identified the active subjects and objects by simple structure matching 
　　for some cases the synset-based expansion is quite successful lor matches to 'police arrested simpson texts such as 
caught fred hamilton 1 was captured in hinion okla a week after he and two other murderers 
are readily retrieved analogical matching here succeeds in extracting 'hamilton as analogous to simpson however overall matching only got 1% of the arrested individuals but a closer examination revealed that most of the misses were due to confusions that categonzcd places or days of the week as individuals a deficit currently being corrected 
　　in addition when wordnet is used to expand the query problems sometimes emerge because individual words are not disambiguated and different senses collide thus a search for clinton met mitterand misidentified 
	space station 	nasa said it cant meet president 
clintons goal of building a space station for $1 biliion 
because it confuses meeting a goal with meeting a person however this occurs with a lower score since the object relation of 'meet to a person does not exist unfortunately there is no such lower score exists with the retrieval of 
among tour parades sunday king of bacchus the greek wine god this year played by martial arts film star jean 
　　claude van damme based on the synset  tor athletic competition  containing both 'played and met neither of which is apropos 
	these 	are 	similar 	to 	the 	problems 	described 	in 
 vorhees 1 with keyword expansion we are currently considering planning to use sense ordering information available in the latest version  1  of wordnet to ameliorate some of the problems another possible solution is to try some automatic clustering on the document level hoping that additional context in actual articles may resolve some of the ambiguity which is causing our problems another more labor intensive approach is to use a corpus of text which has already been disambiguated as a corpus against which new texts are indexed 
1 ongoing and future work 
we currently have only twenty percent  roughly a million words  of our intended database parsed we hope to have the entire database parsed and indexed by late spring and to have some more precise assessments of the effectiveness of different indexing strategies and of the matching algorithms this will also provide an opportunity to experiment with the 'index and associate approach to phrasal venation discussed above introducing and then indexing to examples of semantically associated phrasal variations 
　　we are also planning to apply the structures and algorithms described here to non-textual domains including the description of images in this domain individuals will correspond to salient blobs of color and texture with micro-relations describing their geometric and topological relationships to one another this may prove an additional challenge to our matching and indexing algorithms since the number of micro-relations will likely be quite large  compare to the text case where it is of the same order as the number of individual words  
