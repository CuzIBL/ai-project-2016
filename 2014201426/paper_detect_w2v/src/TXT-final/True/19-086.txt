 
this paper investigates the problem of reasoning about the kinematic interactions between parts of a mechanism we introduce the concept of place vocabularies as a useful symbolic description of the possible interactions we examine the requirements for the representation and introduce a definition of place vocabularies that satisfies them we show how this representation can be computed from metric data and used as a basis for qualitative envisionments of mechanism behavior  and describe implemented algorithms to solve this problem 
1 	introduction 
the question of how to describe the physical world in a discrete  symbolic manner is a fundamental scientific issue in artificial intelligence as computers are increasingly applied to solve problems involving the physical world  it is also of great practical importance this paper addresses the problem of reasoning about the mechanical interactions of objects  which we call qualitative kinematics the goal is to develop methods for constructing a qualitative description of freedom of motion sufficient to understand a mechanism this work lies in the framework of qualitative physics   forbus1|.  dekleer1 .  forbus1 . |dek leer1|.  hayes1 .  dekleer1   the representation we construct can be used to compute an envisionment of the possible behaviors of a mechanism 
　　a mechanical device achieves its function by the relatively constrained motion of its parts  a single rigid object considered by itself has no mechanical function the constraints on the motion of a part are determined by the points where it is in contact with other objects an adequate repre sentation of the function of a mechanism must therefore be based on the connectivity of the parts rather than the parts by themselves   ffn1   
　　the connectivity of the parts varies with motion of the objects changes in connectivity therefore define a tesselation of the space of possible positions of the objects into regions where the connectivity is constant the set of all such regions and their adjacency can serve to describe the possible behavior of the mechanism this is a generalization of the idea of a place vocabulary first proposed by ken forbus in   forbus1|.  for bus1   in this paper  we show how the original concept  which was defined for the motion of points can be generalized to the case of moving geometric objects 
　　an essential prerequisite to manipulate information about the physical world is an adequate representation of the continuum. there are two commonly used ways to do this  i  numerical solutions and  ii  reasoning in a fixed discretization a numerical solution exploits the mapping of all parameters of the system into the same domain  the number system  to achieve greater efficiency  but this fact also limits its power. for example  it is very hard to assess the effect of changes in parameters other than by explicit simulation for specific values  making problem solving very difficult furthermore  because it is based on evaluating the description of the system at points in parameter space  the technique is necessarily incomplete: the point where undesired behavior occurs may not be among those evaluated. there has to be an explicit choice of parameter values for the evaluation  which makes it very difficult to reason with incomplete or uncertain information much work has gone into this problem  the most successful results being fuzzy logic   zadeh1   and the shafer-
1 	knowledge representation 
dempster theory   shafer1   but the solutions are still unsatisfactory an application of such quantitative methods to geometric problems has been studied in the acronym system   brooks1   
　　as an example of the second technique one might use a finite set of symbols to describe the standardized types and sizes of nuts and bolts and rules that state how these can fit together such a technique is often very useful for practical applications  in fact  nuts and bolts are catalogued by such a fixed standardized scheme however  the scheme is missing generativity it can not deal with objects that fall outside its restricted symbol set examples of this type of approach in al applications include  stanfill1  and  gelsey1  
　　in the paradigm of qualitative reasoning  parameters are discretized in a problem-dependent manner a parameter is characterized by its relative magnitude with respect to a set of landmark values  which are parameter values where the solution of the problem considered changes this tech nique is both generative and complete  thus avoiding the above problems 
in this paper we show how to apply this paradigm to kinematics 
　　e davis   davis1   has developed a set of special axioms for spatial reasoning in a naive physics framework beyond the examples he has re searched it is not clear yet what the scope of application of this technique is as his approach uses less input information that ours  his reasoning does not have the level of detail that our approach gives this may be an advantage in many cases  but it seems that for mechanism analysis it is necessary to describe the interactions in greater detail 
　　while the concepts we are proposing are very general  in the present research we restrict their application to two-dimensional analyses of mechanisms a mechanism can be defined as a kinematic chain used in such a way as to transmit or transform forces and motion a kinematic chain is a chain of kinematic pairs  which are pairs of elements linked together such that their relative motion is completely constrained by completely constrained  we mean that a motion of one of the elements completely determines the way that the other element must move as a further restriction on a kinematic chain  each element forms part of at most 1 kinematic pairs while this does not mean that each element only interacts with at most 1 others it assures that the function of the mechanism does not depend on the simultaneous interaction with multiple objects  so that each can be analyzed independently 
we chose the mechanism domain for the following reasons 
  mechanisms exhibit interesting kinematics and there is practical interest in their analysis 
  the freedom of the parts in a mechanism is very restricted  so that there are few parameters to be considered this makes the problem more tractable 
  mechanisms have been studied for a long time there exist many analyses which may help us evaluate our techniques 
  mechanisms are man-made devices their kinematics are likely to be such that people are very good at analyzing them discovery of techniques suitable to mechanisms might shed light on the nature of human spatial reasoning abilities. 
　　we impose the two-dimensional limitation to simplify our algorithms and reduce the time spent on side issues  such as developing threedimensional displays to debug our algorithms. however  we believe that 

almost all of the interresting phenomena can still be explored in two dimensions furthermore  we plan to explore how our techniques might be extended to three dimensions as the project progresses further 
   in the next section  we describe in detail the concepts we are using and show how they apply to the problems we have described 
1 	place vocabularies 
the concept of a place vocabulary originated in frob   forbus1    forbus1  . this work investigated the qualitative analysis of the motion of point masses in polygonal  two-dimensional regions under the influence of gravity the qualitative representation of the geometry of the regions was derived by dividing the space into regions called places  and arranging them in a connectivity graph because the work considered the motion of points the places could be obtained by a simple division of the physical space using horizontal and vertical lines in this paper we generalize the notion of a place to moving objects of finite dimensions by making a further abstraction from physical space to configuration space and then defining a useful way to break up this space into places 
   the position of a physical object can be described by a small set of parameters in the case of unrestricted motion in 1 dimensions  there are 1 euclidian position parameters and 1 orientation parameters which completely determine the placement of the object in mechanisms  the motions of the parts are usually restricted by joints in most cases a single parameter suffices to describe its position we call the space spanned by the parameters characterizing the positions of all the objects of a mechanism its configuration space   tlp1|.  tlp1 .  don1   at any time  the position of all the parts of the mechanism corresponds to a particular point in this space  we call this a configuration. as the parts of a mechanism mutually constrain their positions  the configuration space consists of regions corresponding to legal and illegal configurations. we call the union of all legal regions the free space and its complement the blocked space the boundaries between the 1 regions are formed by 
  given a set of objects  what configurations of contact are possible  
  given that some objects are moving in a particular direction  what changes of contact can result  
   this information  combined with qualitative coordinate systems and dynamical information  i.e.. information about forces  expressed using qualitative process theory  forbus1   provides the information required to reason about motion 
   how do we choose a division of configuration space such that the resulting regions are places satisfying these requirements1 requirement  1  means that there are several classes of places full-dimensional places where no contact points between objects exist and they are free to move in any direction  and lower-dimensional places where the objects are in contact and some degrees of freedom are thus eliminated. note that the boundaries of a place of dimension d are formed by places of dimension d-1 this type of arrangement is called a cell complex in topology. note also that all places of dimensions less than that of the configuration space are defined by segments of the constraints or intersections of these 
   if the boundaries of the places are described in algebraic form it is possible to satisfy requirements  1  and  1  by computing the directions of the normal forces and boundaries. if such a description is not available  this information may be found by computing the desired quantities by local analysis for a sample point in order to give unique results for these quantities in a given qualitative coordinate system  the places have to be monotonous in the coordinate system  i.e. the qualitative directions that are computed may not change. additional divisions into monotonous segments have to be made where this is not the case 
configuration space constraints they are defined by pairs of objects and of bounding curves  surfaces  c  x  = 1 such that all of the points in    as defined so far. the places only distinguish connected regions of free space this is a very weak description  as the number of different constraint segments bounding such a region may be very large this in turn may result in an impractically large number of ambiguities in the analysis of the mechanism. we therefore break up these regions further into quasi-convex cells. by this term  we mean cells defined by a set 

correspond to either a vertex or a boundary segment of one object touching the boundary of the other we call the former vertex constraints and the latter boundary constraints from any configuration on the boundary of free space  points in both blocked in free space can be reached by arbitrarily small motions this is the case only if the 1 objects touch boundary and vertex constraints cover all possible cases of this and thus are the only possible boundaries between free and blocked space each constraint is applicable only within a certain interval  this can be expressed by applicability constraints   don1   applicability constraints restrict the domain of configuration space within which the associated constraint is valid the actual boundaries between regions of free and blocked space are defined by the envelope of the constraints constraints are subsumed  and not applicable  wherever they fall inside this envelope 
   in general  we can think of a mechanism as having an underlying configuration space of a finite  but possibly enormous  number of dimensions in the analysis  one only considers interactions between small numbers of parts  which corresponds to working in subspaces of the full c-space 
   to arrive at a useful definition for places in configuration space  we consider the following 1 requirements that the place vocabulary must satisfy to capture the kinematics of mechanism: 
1. the places must distinguish at which points the objects are in contact. 
1. for each contact point  it must be possible to give the contact force in an arbitrary qualitative coordinate system  and 
1. for motions specified in an arbitrary qualitative coordinate system  it must be possible to enumerate the set of possible place transitions. 
   these conditions ensure that the place vocabulary can serve as a basis for qualitative spatial reasoning about motion the place vocabulary provides a symbolic framework for spatial reasoning by providing answers to the following questions; 
the cell satisfy a certain conjunction of inequalities on the signs of the c  in order to ensure this property  we sometimes need additional curves to further tesselate places  these are called free-space divisions and defined using the algebraic curves of the applicability constraints while this implicitly defines a further tesselation. it is introduced purely to compensate for idiosyncracies of the algebraic representation  therefore we do not include it in the place vocabulary definition details of how regions are broken up can be found in   fal1  . 
   the places where objects are in contact are given by the roots of one or more of the constraint polynomials they can be expressed in the same formalism by replacing the appropriate inequalities by equalities we have thus obtained a uniform definition of places for any number of degrees of freedom 
   the places thus constructed are arranged in the place graph the ver tices of this graph are the places  and each places is connected by edges to the places forming its boundaries  and possibly to adjacent places within the same connected region. this place graph forms the spatial substrate for an envisionment  which is a directed graph describing the possible qualitative states  places  and transitions between them   forbus1 .  dekleer1 .  forbus1    dekleer1 .  dekleer1   
1 	example of a place vocabulary 
in this section  we give a brief example of what the place vocabulary for an actual mechanism looks like and indicate how it can be used to reason about the function of a mechanism. consider the escapement shown in fig. 1 below. given that the freedom of the parts has been identified  the configuration space for this interaction is 1 dimensional  spanned by the parameters o for the orientation of the wheel and w for that of the anchor the valid configuration space constraints for this example are shown as solid lines in figure 1 below. the program in this case finds 1 faces of the graph formed by constraint intersections these form the boundaries 
1  we call this quasi-convex because if the boundaries of the cell are straight lines 
it is just the convexity property 
	fallings 	1 

figure 1: sample configurations for the 1-dimensional places in the escapement example. 
1 	knowledge representation 

the wheel is moving clockwise and the anchor alternatively touches the wheel with its right and its left end this motion is indicated by the arrows in figure 1. the sequence of places it passes through is then a  
　b  intermittend motion  e  -  intermittend motion a   .... where a ' refers to the next periodic repetition of a . the intermittend motions  where no contact between the objects exists  are represented by 
1-dimensional places 
   the intersection points between the one-dimensional places are the 1dimensionai places of the place vocabulary the free space region between the 1 sequences is broken up by several free-space divisions in order to satisfy the quasi-convexity criterion. these are indicated by the dashed lines in figure 1. note that each free space division begins at a vertex in configuration space  as the defining applicability constraints intersect the associated constraints at their endpoints the tesselation introduced by the these divisions defines the set of 1-dimensional places note that the tesselation strongly reduces the number of adjacent 1-dimensional places and thus serves to reduce ambiguities in the envisionment that can be produced using the place graph in this example  the program generates 1-dimensional places for each tooth 
   we can express the adjacencies between the places in the adjacency graph  part of which is shown in fig 1 the adjacency relation defining the edges in the graph is the boundary relation between the places a sequence of motions of the mechanism can be described as a sequence of place transitions in the place graph: and any sequence of places admitted by the adjacency relation is an achievable motion in the place graph free space divisions are represented by explicit objects in figure 1. the links between identical free-space divisions have been eliminated to allow a planar display of the graph 
   we outline how an envisionment of the escapement s operation can be obtained using the place graph for each place  the set of possible transitions is given as the set of adjacent places we describe the velocities and forces or moments of the objects by their signs note that the 1 quantities are related by a simple qualitative differential equation each of the one-dimensional places enforces a monotone relation between the configuration space parameters this results in a constant relation between the qualitative parameters for the motion and forces within these places the 1-dimensional places are contained in 1-dimensional places and so share these characteristics for the 1-dimensional places  there is no contact between the objects and they therefore do not influence each other. details of the actual qualitative simulation are described in   iffn1   
   as a final point  note that we have not described the other region of free space this region is also broken up into subregions by free-space divisions and forms a disjoint component of the place graph. 
1 descriptive power of the place vocabulary 
the descriptive power of the place vocabulary as a knowledge representation is characterized by the following three properties first  it makes the necessary geometric distinctions to support qualitative mechanical analysis. second  it fully describes the topology of configuration space the existence of a legal trajectory between 1 points in c-space is represented by a path in the place graph  and all topologically distinct trajectories are distinguished in the place graph third  there exists a simple mapping from the symbolic description back to the original domain trajectories in configuration space corresponding to paths in the place graph can be assembled from trajectories through the regions corresponding to the places the place vocabulary allows us to continuously maintain a set of applicable constraints on the configuration  so that such trajectories can be found by application of relaxation algorithms such as those described in   khatib1  . the existence of such a mapping is important for any knowledge representation because it defines the meaning of its instances 
   note that every non-convex intersection of constraints forces a change in the qualitative description of the constraint surfaces involved there fore  the distinctions the place vocabulary makes are also necessary  and thus the place graph is the simplest symbolic description that satisfies our requirements 
1 c o m p u t a t i o n of place vocabularies 
in this section  we give a brief description of the algorithm to compute place vocabularies from a metric diagram for the case of a kinematic pair of 1 objects in 1 dimensions  with 1 degree of freedom each with very few exceptions  this case covers all interactions in 1-dimensional mechanisms  such as gearwheels  ratchets escapements and so forth. we have implemented a complete system to handle this case for objects whose boundary curves are either straight lines or arcs as the kinematic 
	fallings 	1 
pairs in the mechanism form a kinematic chain a description of it can be built up from descriptions of the underlying kinematic pairs 
   the algorithm we are describing is not designed to analyze joint configurations this problem has been excluded from this research because 
  there already exist concise theories of joints and their composition 
  the space of possible joints is finite  eliminating the need for a generative system 
thus  we assume that the freedom of each part is explicitly stated as part of the input information we distinguish the 1 cases of translational and rotational freedom as a symbolic description of the parts themselves  we assume the following boundary-based representation 
  an object consists of a set of boundaries and a local coordinate system centered at the reference point 
  a boundary is an alternating sequence of vertices and boundary segments such that each boundary segment connects the 1 vertices adjacent to it and the first and last vertex of the list are identical 
  a vertex corresponds to a discontinuity in the direction of the boundary  or a change in curvature or the algebraic form 
in our implementation we allow the algebraic type of the boundary curves to be either straight lines or arcs allowing general algebraic curves would require a general algebraic engine to solve problems like determining intersections and extrema while the algorithms for such systems exist it is not the focus of our research to implement them note that the sym bolic representation we assume could be readily obtained by rearranging the output representation of a vision system such as smoothed local symmetries   brady1   
1 	computing place vocabularies for kinematic pairs 
the algorithm first computes the set of all possible constraints that the 
1 objects may form for vertex constraints which correspond to a vertex of one object touching a boundary segment of the other  the constraint is given by the condition that the vertex must lie on the boundary segment boundary constraints in our implementation are formed by arcs they can be handled in the same manner by observing that an arc touches a straight line exactly when its center lies on an imaginary line offset by the radius of the circle from the actual one  see in figure 1  in the case of rotational freedom for each possible configuration where the objects touch there exists a dual configuration where the same contact exists in this case  there then exist 1 copies of each constraint to account for the 1 cases for each constraint the program computes 
  its equation and tangents as function of the configuration space parameters 
  a parameterization in terms of a parameter corresponding to the location of the point of touch on the boundary segment 
  the set of endpoints of the constraint  given by the condition'that the contact occurs at the ends of the boundary segment 
  a set of applicability constraints which separate the valid segment of the constraint curve between the endpoints from the rest 
as the boundary segments are connected at their endpoints each endpoint is common to 1 boundary segments  and the configurations where 1 such endpoints touch each other are common endpoints of up to 1 constraints 
we call such configurations touchpoints 
   depending on the relative arrangements of the objects only a certain subset of these constraints and touchpoints will actually be valid for example  for 1 rotationally attached objects a touchpoint will only exist when the distance between the 1 centers is in the interval between the sum and the difference of the radii of the 1 vertices that generate the touchpoint this set of actually valid elements is determined in the second stage of the computation 

figure 1: the arc touches the lines exactly when its center lies on one of the dashed lines 
   the constraints may intersect each other not only at touchpoints but can also form subsumptxon intersections for example  in the example of 1 gearwheels  there exists a point where the contact at one tooth is subsumed by the next such intersections can occur anywhere along a constraint segment the 1rd stage of the algorithm thus tests ail pairs of constraints for intersection this is implemented by testing endpoints of constraint segments as the constraints are 1nd degree curves  there is a possibility that 1 constraint segments intersect in 1 points  which would not be detected by this test. this case can be dealt with using algebraic decision techniques based on sturm's theorem so far. we have 
not implemented this as we have not observed this case in an actual mechanism 
   finally  the boundaries of the connected regions of free space can be found by tracing the faces of the graph formed by the constraints and their intersections only a subset of these qualifies as actual free-space regions these are characterized by the condition that the inside of the face lies on the legal side of all its bounding constraint segments it is still possible that a face found in this way is not part of free space this can be determined by testing a sample point for the existence of overlap between the objects 
   in the case of rotational attachment  the topological form of the configuration space may be a cylinder or torus on such surfaces there may exist regions that are bounded by more 1 distinct connected boundaries. this corresponds to having 1 faces of the graph forming the boundary of a single region the next step in the algorithm is thus the association of the faces to find such pairs it is also possible that a region of free-space has several disjoint boundaries this case is tested for in a final stage 
   finally we introduce further tesselations into the regions to achieve the quasi-convexity property for each region  the applicability constraints for the constraints bounding the region are tested for valid segments within the region each such segment forms a free space division of the region this step is carried out separately from the constraint intersection tests because the association with regions significantly reduces the complexity 
1 	composition of place vocabularies 
place composition is the intersection of several different place vocabularies sharing one or more configuration space parameters to find a single description of the places allowed by the objects in conjunction there are 1 different cases in which such place composition is necessary to compose place vocabularies generated by different boundaries of the same objects  and for composing place vocabularies for kinematic pairs into descriptions of kinematic chains we refer to the first case as codxmensxonat composition  and to the second case as chain composition 
1.1 co-dimensional place composition 
to compose places in the same configuration space  we have to find the regions formed by intersections of the regions forming the places in the general case  this is not an easy problem  see  ps1   in the case of 1-dimensional configuration space  the boundaries of the places are one-dimensional and have points as intersections. we can find the intersections between the regions by finding all intersections and tracing 

out the faces of the resulting graphs  where again an association step is 
1 	knowledge representation 

needed to handle regions with multiple boundaries note that because the intersections of quasi-convex regions are again quasi-convex the resulting regions will be legal places this process is the same as that used for combining the tesselations given by concave chains 

figure 1: the intersections of the backprojections of a  b  c and d define a face bounding the intersection volume on the backprojection of e. 
1.1 chain composition 
in the problem of chain composition we have 1 place vocabularies whose configuration spaces have one or more parameters in common the regions corresponding to the places must be ' backprojected  into the prod uct space of the 1 c spaces the composed place vocabulary is defined by the regions formed by the intersections of these backprojections like 
the co-dimensional problem  in the general case  this is also a very difficult problem 
   in the case of 1-dimensional configuration spaces  however  the place vocabularies share at most one single parameter the intersection problem is then very simple as it is reduced to interval intersection tests in that parameter this is because the plares formed by the backprojections of the constraint segments bounding the places intersect if and only if the intervals they cover in the common parameter intersect furthermore  none of these intersections can be subsumed by other backprojections. so that all the intersections of the backprojections actually occur as boundaries of the intersecting volume the composition process is illustrated in fig 1 below 
1 	implementation 
we have implemented the algorithm for computing place vocabularies for kinematic pairs in common lisp on a symbolics lisp machine the initial instantiation of the constraints is rather slow due to the symbolic algebra required  for the escapement example this stage takes about so minutes  the further computation of the place vocabulary for the escapement takes about 1 minutes  with completely unoptimized code because it is intended to be used for further research the implementation uses a symbolic algebra system for manipulation of the information about the objects the computation could be sped up markedly by computing these directly also  the algorithms could be very well implemented in parallel the program has also run on other examples like a ratchet and gearwheels  and we are currently in the process of analyzing the interactions in an actual clockwork  the org clock shown in figure 1 
1 	conclusions 
we have presented an application of the qualitative reasoning approach to mechanism kinematics we have introduced the concept of place vocabularies and shown that it is a well-defined and useful representation of mechanism kinematics we have presented an implemented algorithm to compute place vocabularies and given an example of its application. 
   we have not investigated as yet how the techniques we have implemented can be generalized to 1 dimensions or more degrees of freedom 

figure 1: the qrg clock 
there exist algebraic techniques based on decision methods   tar1 .  schs1 .  bkr1   ky1   which provide an existance proof of such algorithms but they are rather opaque and inefficient because the input and output of the algebraic algorithms are the same as those of a specialized algorithm  it may be possible to specialize them to obtain algorithms similar to the ones we have presented for more general cases this might be a promising research strategy for extending the range of validity of the current implementation 
　currently  we are investigating ways to compute the place vocabulary in a qualitative manner with partial information such algorithms will allow us to apply the place vocabulary concept to mechanism design problems 
   a question we are unfortunately still far from answering is that of the human spatial ability the problem here is that there is no well defined class of problems that people can solve perfectly  which prohibits formulation of simple requirements for a theory. by showing more clearly what the actual requirements for perfect reasoning are  we hope to have provided a basis for deriving cognitive theories by weakening the techniques 
1 	acknowledgements 
i would like to thank ken forbus for much helpful advice and comment. ibm for partial support through an ibm graduate fellowship  and onr for support through contract no n1-k-1. 
