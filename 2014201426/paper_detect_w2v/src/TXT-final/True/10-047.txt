multiples 
representations of knowledge 
in a mechanics problem-solver 
johan de kleer 
artificial intelligence laboratory 
massachusetts institute of technology cambridge  massachusetts 1 
a b s t r a c t 
　　　　　expert problem-solving programs have focused on working problems which humans consider difficult oddly  many such problem-solvers could not solve less difficult versions of the problems addressed by their expertise this shortcoming also contributed to these programs' inability to solve harder problems. to overcome this 'paradox' requires multiple representations of knowledge  inferencing schemes for each  and communication schemes between them. 
　　　　　this paper presents a program  newton  applying this idea to the domain of simple classical mechanics. newton employs the method of envisionment  whereby simple questions may be answered directly  and plans produced for solving more complex problems. envisioning enables newton to use qualitative arguments when possible  with resorts to mathematical equations only if the qualitative reasoning fails to produce a solution. 
i n t r o d u c t i o n 
　　　　　expert problem-solving programs have focused on working problems which humans consider difficult charniak demonstrated the expertise of carps  by using it to solve problems from a freshman calculus text. the achievements of macsyma  mathlab 1  are touted by exhibiting some complicated expressions it can integrate. there is no doubt that these two problem areas are difficult  but before we attribute expertise to these programs we should first examine the depth of their understanding of the problem areas i propose one criterion: as well as being able to solve the difficult problems   he expert problem-solver should be able to solve simpler versions of a problem with qualitatively simpler techniques. we will see that the inability to solve simple problems is the source of many of the difficulties problem-solvers encounter in attacking harder problems. 
　　　　　my experience teaching electrical network theory suggests that this criterion also applies to students consider the problem of determining the average power dissipated by a network. a general technique which solves this problem is to write down kirchoff's current law for all the nodes and solve the resulting equations. a poor student always applies this technique immediately  while the better student looks first to see whether some simplifications are possible. for example  if the network consisted of only capacitors and inductors  the poor student still sets up equations while the bet'er student immediately replies zero since capacitors and inductors do not dissipate power. the reason the student who immediately sets up equations does worse  is that without first simplifying the problem the resulting equations are often unmanageable. if the topology of the network was unspecified  the poor student would be unable to even set up the equations while the better student would stilt be able to solve the problem. 
　　　　　to determine whether an the object released at a reaches b on the roughened track requires a careful analysis of the shape and frictional properties of the track. the slightly different problem where friction is zero can be solved with the same technique. this would be a rather stupid 

would solve the problem directly. the mark of an expert is that such qualitatively simpler problems are attacked by qualitatively different techniques. 
theory 
　　　　　i propose that an expert problem-solver should be able to employ multiple representations for the same problem within each representation radically different reasoning techniques can be used. by employing the different representations  the problem-solver can solve problems of varying difficulty and  more importantly  use only those reasoning techniques which are appropriate to the difficulty of the problem. by definition  such a problem-solver meets the above criterion. 
　　　　　in mechanics  a useful distinction can be made between qualitative and quantitative knowledge. qualitative knowledge represents the scene in terms of gross features such the general type of curve and the relative heights between points. quantitative knowledge represents the same scene in terms of mathematical equations describing the shapes of the curves and the numerical distance between points. a simple qualitative rule uses the relative heights to determine whether an object released at one point can reach the other quantitative reasoning  on the other hand  symbolically manipulates the mathematical equations and numerical quantities to obtain the same result. 
a problem-solver which employs these two 
representations for solving the same problem has a number of distinct advantages: 
 1  it solves simpler problems with drastically simpler techniques. 
 1  even when qualitative analysis fails  it sets up specific plans which greatly simplify the quantitative analysis of the problem  1  qualitative analysis can handle indeterminacies in problem specification. 
the first advantage has already been discussed 
　　　　　even if we were only interested in problems requiring equations  the qualitative analysis still performs a crucial role in the problem-solving. by itself a mathematical equation contains no useful information. to make use of an equation the meanings of each of the variables must be specified and the conditions of its applicability must be known there are many equations describing the motion of moving objects and relating the dimensions of physical objects  but how do we determine which of these equations are relevant to the problem at hand  although the qualitative analysis of the problem may fail  requiring quantitative analysis  the qualitative analysis determines the kind of event happening thus providing a concise suggestion as to which equations are relevant. 
　　　　　the qualitative analysis also provides an overall structure for the solution of the problem a problem can involve a number of independent parts each requiring quantitative solution. consider the problem of a block sliding over a hill  first you must determine whether the block can make it to the top of the hill  and then you must determine whether or not the block flies off the hill because it is too steep on the other side. the qualitative analysis first presents the problem of reaching the top for quantitative analysis  and if the top is reachable it presents the problem of whether the object falls off the hill on the other side. 
since a simple comparison of the relative heights of a and b 	tells you that a ball will roll down an inclined plane without 
knowledge repr. - 1 : he kleer 
1 　　　　　the qualitative argument does not require a completely described scene. for example  qualitative analysis 
needing to know the slope of the incline or the radius of the ball. to determine the velocity of the ball at the bottom of the incline these other quantities must be incorporated into equations which are subsequently solved for the final velocity 
a difficulty introduced by multiple representations is 
c o m m u n i c a t i o n . one problem is that the way one representation refers to a particular entity is often radically different from how the other representations refer to this same object. another problem is the format of the queries and replies between representations. 
the program newton 
           although the theory suggests that multiple representations are useful  it does not provide any information about the details of the representations or how to utilize them 
in order to explore the theory further an expert problem-solver 
n e w t o n has been constructed. it solves problems in the mechanics mini-world of  roller coasters   the kinematics of objects moving on surfaces . newton is not intended to be a general mechanics problem-solver  but is only used to demonstrate the above principles. within its mini-world it can handle a wide range of problems. it uses qualitative aigumeiits when possible  but will resort to equations if necessary it recognizes nonsensical problems. it does not become confused or inefficient when given irrelevant facts  objects or equations. 
           one extremely important piece of qualitative knowledge is the ability to roughly predict what will happen in a given scene. for example  qualitative knowledge tells you that an unsupported object will fall or that a rubber ball will bounce. we will call this envisioning. more formally. envisioning means generating a progression of snapshots which 
describe what might or could happen the most important feature of a scene in the roller coaster world is the position of the moving object  and so the snapshot is best described by the position of the object an entire event is described by a tier. each node being a possible position for the object and each aic indicating an action which moves the object from one position to another. 
           the quantitative knowledge uses a frame like organization to package together mathematical equations there are an extremely large number of different equations that could be applicable to any problem fortunately  since equations tend to come in groups  an individual decision need not be made about the relevance of every single equation the relationships between the angles and sides of a triangle form one such group or frame. another possible frame is the kinematic equations which hold for uniformly acxeleiatnn; objects. with this representation only a small number of decisions are required to determine which equations are relevant. it also provides a convenient way to provide meaning to the variables in the equations since the frame only applies when certain conditions are met  the variables in the equations of the frame can refer to these conditions to provide a meaning to the variables which is general amonj  all the frames. 
           in order to actually solve mechanics problems two other distinctly different representations become important one of the representations originates from the qualitative knowledge and the other originates from the quantitative knowledge. the envisioning can often solve the problem directly  however  if it fails it must be able to articulate its difficulty for the frame-rcpresentations this requires carefully analyzing and transforming the trees generated by the envisionment utilizing separate analysis and transformation rules. this analysis determines which top-level frame is relevant to the problem and which variables need to be solved for. the result of instantiating the frames is an information structure which relates all the equations and variables relevant to the original problem. this dependency network is then analyzed to identify possible paths to the solution. symbolic mathematical techniques are then applied to check the possible path. if the manipulation is unsuccessful or intractable with the symbolic techniques available other paths are tried. 
           with these added refinements the organization of n e w t o n is as follows: 

envisioning represents the original scene in terms of its gross features determining what might possibly happen and recording this information in a tree. its knowledge is represented by rules which look at gross features and then extend the envisioning tree. the remaining qualitative knowledge represents the original problem in terms of the tree generated by the envisionment. its knowledge is represented as transformation and analysis rules whose application eventually results in a plan to solve the problem the quantitative knowledge is represented in frames  a small subset of which is instantiated for any particular problem it maintains a conniver-like  mcdermott & sussman 1  database to represent the semantics of variables. after instantiation the frames are examined for possible paths to the solution  and symbolic techniques are invoked to evaluate these possible paths. 
           the only entities which can be referred to in messages between representations are physical objects  instances of time  and variables describing them. every representation refers to these primitive entities in the same way. the problem of the format of the messages has been resolved by having special purpose experts between each two representations that ever wish to communicate. this is not as unsatisfactory as it might seem since our theory imposes very rigid constraints on the nature of this communication. a query is generated only after the problem is discovered to be unsolvable in one representation  and thus the query asks a very precise and restricted question. the answers generated by queries are limited by the kinds of questions asked. 
           to get an o v e r a l l idea of the d i f f e r e n t representations consider the following simple mechanics problem: 

a small block slides from rest along the indicated friction less surface. will the block reach the point marked x  
           the following is a possible protocol of a human solving the problem. 
knnwlehge 	r e d r . - 1 : 	h e 	k l e e r 
1             the block will start to slide down the curved surface without falling off or changing direction after reaching the bottom it starts going up. it still will not fall off  but it may start sliding back. if the block ever reaches the straight section it still will not fall off there  but it may reverse its direction. to determine exactly whether the block reaches x we must study the velocity of the block as it moves along the surface. the velocity at the bottom can be computed by using conservation of energy: 
similarly  this velocity and conservation of energy can be used to set up an equation which can be solved for the velocity  v   at the start of the straight section. 
if the solution for v1 is imaginary  then the straight segment is never reached. at the straight section we can use kinematics to find out whether the block ever reaches x. the acceleration of the block along the surface must be: 
the length of the straight segment is l i cos 1  so by the well known kinematic equation relating acceleration  distance and velocities: 
again if v1 is imaginary  x is not reachable  
       the first part of the protocol which involved identifying a possible path to reach x we call envisioning envisioning describes  and so limits  the problem space foimed when we ignore the specific values of the variables the problem had variables h1  h1  t and l which were requited for the solution but the protocol  before the decision to calculate velocities  held true for a wide range of values for the e variables. the reasoning depended on 
t   1 and the facts that all the curves were concave fiom the perspective of the object and that the curves were differentiable everywhere. all this information could be assumed from the diagram. everything that was predicted by the envisioning was achievable for some values of the variables and every possible assignment of values to variables was described. 
           the envisionment n e w t o n generates for this problem is described by the following figure. the object starts at corner ci  slides through segment si  reaches corner c1  slides through segment $1  either slides back on segment s1 or reaches corner c1  and so forth. 
           many questions can be answered directly from the envisionment. for the above problem the question  will it reach s1   can be answered without further reasoning. envisioning fails to answer the question when it predicts a number of possibilities. when the block was sliding up the hill  it could not be determined when or if it would start sliding back. it is in identifying these multiple possibility points tint the envisioner sets up specific subproblems even when further reasoning is required to resolve such a qualitative ambiguity  envisioning identifies those possibilities it must distinguish between. although there was the problem of determining whether the block would or would not slide back on the curve  the possibility of the block falling off had been eliminated by envisioning. in summary  envisioning gives local and very specific problems for further analysis and  on a global scale  envisioning provides an organization and plan to solve the entire problem. the trace of the possibilities through time provides the basis for such a plan. 
           quantitative knowledge is used to disambiguate between the possibilities occuring at each fork it is important to note that frames are not procedures  but describe dependencies and assignments between variables these dependencies are searched for solutions to the goal variable. a f r a m e is first examined to determine whether it has the solution for the goal variable. if this search is unsuccessful all equations which reference the goal variable are examined  and a subgoal is generated to find the remaining unknown variables in these equations. all the sub frames referenced by the frame are eventually included in this search viewed from another perspective  the instantiation of a top-level frame results in a and-or graph which must be analyzed for possible solutions. each equation which references the goal variable contributes to a disjunction since each such equation could possibly yield its solution. unknown variables in equations referencing the goal variable contribute to conjunctions since every unknown in the equation must be determined to achieve the goal 
k n o w l e d g e 	rep r . - 1 : 	de 	kleer 
1            the mass-movement frame knows about movements of objects on surfaces  but is not concerned about the possibility that the objects may fall off the surfaces the following is a description of mass-movement and the other frames it references a frame uses two kinds of variables; the names of the objects it is concerned about and mathematical variables describing properties of these objects such as velocity or acceleration. 

newton would solve this problem without 
frames by comparing the heights of the endpoints directly in order to demonstrate the quantitative knowledge  this possible solution  among many others  will be ignored. the frames newton uses are much more sophisticated than these presented here; they are not shown since they involve many features which are not relevant to this presentation in order to get a better understanding of how frames interact in the problem-solving process we will artificially make /  h   t and l unknown and only provide their values when necessary 
　　　　　envisioning determines that there is never a possibility that the object will fly off. since the envisionment tree for this problem has a fork at s1 and s1  the problem is decomposed into the two subproblems of first disambiguating what happens at s1 and then disambiguating what happens at s1. this is the plan the qualitative knowledge develops fot solving the problem. in order to analyze what happens on s1. the velocity of the object at the beginning of s1 must be determined. the velocity at the beginning of s1 is the same as at the end of si  so the first problem to be solved by the 
quantitative knowledge is to find the velocity at the end of si 
         to find the velocity at the end of si massmovement must be invoked: 
          mass-movement  bl si time1 tme1   before mass-movement is invoked  variables must be assigned values and meanings: 
 velocity bl timed -known 
 velocity bl time1  - desired goal 
when mass-movement is invoked iframe attempts to 
find a value for this variable. there are two places in m ass movement where possible assignments to vf rake place iframe discovers that the assignment in the conditional cannot be reached since si is not flat. the only alternative is the energy frame. using enercy is unsuccessful since height is unknown. every possible attempt to achieve a value for vf having now failed  the alternative is to generate subgoats of discovering the variables which are blocking a solution to the desired goal variable. the path ro vf is blocked by height  but there are no other accessible references to height in energy or mass-movement 
problem-solving now halts until height is given  after which 
iframe reexamines energy and returns a value for vf this value is remembered and the segment s1 is examined in much the same way using the vf on si as vi on s1: 
          mass-movement  bl s1 t1me1 time1   note that energy returns an  impossible  result if the equations result in an imaginary solution  thus indicating that the object cannot traverse s1. 
on s1 iframe has two possible paths to a solution 
if energy is tried it fails because h e i g h t is unknown since s1 is flat kin can be tried for a solution for k i n to succeed either d or t must be known. again every path to vf is blocked. finding a value for either height  d or t would be sufficient to solve for vf. there are no other 