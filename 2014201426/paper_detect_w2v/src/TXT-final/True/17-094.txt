: we review and re-examine possible-worlds semantics for propositional logics of knowledge and belief with four particular points of emphasis:  1  we show how general techniques for finding decision procedures and complete axiomatizations apply to models for knowledge and belief   1  we show how sensitive the difficulty of the decision procedure is to such issues as the choice of modal operators and the axiom system   1  we discuss how notions of common knowledge and implicit knowledge among a group of agents fit into the possible-worlds framework  and  1  we consider to what extent the possible-worlds approach is a viable one for modelling knowledge and belief. as far as complexity is concerned  we show among other results that while the problem of deciding satisfiability of an s1 formula with one knower is np-complete  the problem for many knowers is pspace-complete. adding an implicit knowledge operator does not change the complexity substantially  but once a common knowledge operator is added to the language  the problem becomes complete for exponential time. 
1. introduction 
　　reasoning about knowledge and belief has long been an issue of concern in philosophy and artificial intelligence  cf.  hil   mh   mo  . recently we have argued that reasoning about knowledge is also crucial in understanding and reasoning about protocols in distributed systems  since messages can be viewed as changing the state of knowledge of a system  hm ; knowledge also seems to be of vital importance in cryptography theory  me  and database theory. 
　　in order to formally reason about knowledge  we need a good semantic model. part of the difficulty in providing such a model is that there is no agreement on exactly what the properties of knowledge are or should 
* this author's work was supported in part by darpa contract n1-c-1. 
be. for example  is it the case that you know what facts you know  do you know what you don't know  do you know only true things  or can something you  know  actually be false  
　　possible-worlds semantics provide a good formal tool for  customizing  a logic so that  by making minor changes in the semantics  we can capture different sets of axioms. the idea  first formalized by hintikka  hil   is that in each state of the world  an agent  or knower or player: we use all these words interchangeably  has other states or worlds that he considers possible. an agent knows p exactly if p is true in all the worlds that he considers possible. as kripke pointed out  kr   by imposing various conditions on this possibility relation  we can capture a number of interesting axioms. for example  if we require that the real world always be one of the possible worlds  which amounts to saying that the possibility relation is reflexive   then it follows that you can't know anything false. similarly  we can show that if the relation is transitive  then you know what you know. if the relation is transitive and symmetric  then you also know what you don't know.  the one-knower models where the possibility relation is reflexive corresponds to the classical modal logic t  while the reflexive and transitive case corresponds to s1  and the reflexive  symmetric and transitive case corresponds to s1.  
　　once we have a general framework for modelling knowledge  a reasonable question to ask is how hard it is to reason about knowledge. in particular  how hard is it to decide if a given formula is valid or satisfiable  the answer to this question depends crucially on the choice of axioms. for example  in the oneknower case  ladner  la  has shown that for t and s1 the problem of deciding satisfiability is complete in polynomial space  while for s1 it is np-complete  
and thus no harder than the satisfiability problem for propositional logic. 
     our aim in this paper is to reexamine the possibleworlds framework for knowledge and belief with four particular points of emphasis:  1  we show how general techniques for finding decision procedures and complete axiomatizat ions apply to models for knowledge and belief   1  we show how sensitive the difficulty of the decision procedure is to such issues as the choice of modal operators and the axiom system   1  we discuss how notions of common knowledge and implicit knowledge among a group of agents fit into the possibleworlds framework  and  finally   1  we consider to what extent the possible-worlds approach is a viable one for modelling knowledge and belief. 
     we begin in section 1 by reviewing possible-world semantics in detail  and proving that the many-knower versions of t  s1  and s1 do indeed capture some of the more common axiomatizations of knowledge. in section 1 we turn to complexity-theoretic issues. we review some standard notions from complexity theory  and then reprove and extend ladner's results to show that the decision procedures for the many-knower versions of t  s1  and s1 are all complete in polynomial space.* this suggests that for s1  reasoning about many agents' knowledge is qualitatively harder than just reasoning about one agent's knowledge of the real world and of his own knowledge. 
     in section 1 we turn our attention to modifying the model so that it can deal with belief rather than knowledge  where one can believe something that is false. this turns out to be somewhat more complicated than dropping the assumption of reflexivity  but it can still be done in the possible-worlds framework. results about decision procedures and complete axiomatiiations for belief parallel those for knowledge. 
     in section 1 we consider what happens when operators for common knowledge and implicit knowledge are added to the language. a group has common knowledge of a fact p exactly when everyone knows that everyone knows that everyone knows ... that p is true.  common knowledge is essentially what mccarthy's  fool  knows; cf.  mshi .  a group has implicit knowledge of p if  roughly speaking  when the agents pool their knowledge together they can deduce p.  note our usage of the notion of  implicit knowledge  here differs slightly from the way it is used in  lev1  and  fh .  as shown in  hml   common knowledge is an essential state for reaching agreements and 
* a problem is said to be complete with respect to a complexity class if  roughly speaking  it is the hardest problem in that class  see section 1 for more details . coordinating action. for very similar reasons  common knowledge also seems to play an important role in human understanding of speech acts  cf.  cm  . the notion of implicit knowledge arises when reasoning about what states of knowledge a group can attain through communication  and thus is also crucial when reasoning about the efficacy of speech acts and about communication protocols in distributed systems. 
     it turns out that adding an implicit knowledge operator to the language does not substantially change the complexity of deciding the satisfiability of formulas in the language  but this is not the case for common knowledge. using standard techniques from pdl  propositional dynamic logic; cf.  fl   pr    we can show that when we add common knowledge to the language  the satisfiability problem for the resulting logic  whether it is based on t  s1  or s1  is complete in deterministic exponential time  as long as there at least two knowers. thus  adding a common knowledge operator renders the decision procedure qualitatively more complex.  common knowledge does not seem to be of much interest in the in the case of one knower. in fact  in the case of s1 and s1  if there is only one knower  knowledge and common knowledge are identical.  
     we conclude in section 1 with some discussion of the appropriateness of the possible-worlds approach for capturing knowledge and belief  particularly in light of our results on computational complexity. 
     detailed proofs of the theorems stated here  as well as further discussion of these results  can be found in the full paper   hm1  . 


1 	j. halpern and y. moses 
1 possible-worlds semantics: following hintikka  hil   sato  sa   moore  mo   and others  we use a posaible-worlds semantics to model knowledge. this provides us with a general framework for our semantical investigations of knowledge and belief.  everything we say about  knowledge* in this subsection applies equally well to belief.  the essential idea behind possible-worlds semantics is that an agent's state of knowledge corresponds to the extent to which he can determine what world he is in. in a given world  we can associate with each agent the set of worlds that  according to the agent's knowledge  could possibly be the real world. an agent is then said to know a fact p exactly if p is true in all the worlds in this set; he does not know p if there is at least one world that he considers possible where p does not hold. 
* we discuss the ramifications of this point in section 1. 
** the name k m  is inspired by the fact that for one knower  the system reduces to the well-known modal logic k. 



1 	j. halpern and y. moses 



1 	j. halpern and y. moses 


we drop a1.  a1 is also called the axiom d  and the system consisting of a1  a1  a1  a1  a1  r1  and r1 is called 
     it now remains to find a model for kd1 m . in terms of possible worlds  the semantic impact of a1 is simply to say that the possibility relations must be serial. since we have already argued that a1 corresponds to reflexivity  it would seem that we can get a model of kd1 m  simply by considering worlds where the possibility relation s  are symmetric  transitive  and serial  although not necessarily reflexive. unfortunately  this won't work; as lemma 1 shows  any binary relation 
1. 	incorporating common knowledge and 
implicit knowledge 
　　in a number of situations it is useful to be able to reason about the state of knowledge of a group of agents  not just that of an individual agent. for example  we may want to reason about facts that are part of a group's  culture : not only does everyone know them  but everyone knows that everyone knows them  and everyone knows that everyone knows that everyone knows  and so on. these facts are said to be common knowledge . put another way  these are essentially the facts that  any fool knows   cf.  mshi  . 

which is symmetric  transitive  and serial  must also be reflexive. 
　　in the case of one knower  there are well-known ways to get around this problem: we consider a structure where one distinguished state describes what is true in the  real  world  and a set of states corresponds to the worlds that the agent thinks possible  cf.  lev1  . this is analogous to the case for s1  where as observed in the remarks after proposition 1  we can  without loss of generality  take a model to be a set of states  all related to each other by the possibility relation p   one of which will be the real world. thus  in the case of one knower  the difference between knowledge and belief is that  in the case of belief  the real world is not necessarily one of the worlds the agent considers possible. but this approach does not extend to the many-knower case in any obvious way. 
　　the solution to our problem is already implicit in our discussion in section 1. recall that axiom a1 corresponds to the possibility relation being euclidean rather than symmetric. to understand the intuition behind euclidean relations  observe that for a given state a  if p is euclidean then the restricton of p to  is reflexive  symmetric  and transitive  i.e.  an equivalence relation. thus  for a euclidean relation  the worlds that an agent thinks are possible form an equivalence relation  but do not necessarily include the real world. the fact that the relation is serial means that an agent always thinks some worlds are possible. applying exactly the same techniques as those used in theorem 1 we can now show  cf.  fv  : 
theorem 1:  is a sound and complete ax-
iomatisation for euclidean  transitive  and serial worlds. 
　　similarly  using the same techniques as in theorems 1 and 1  we can show: 
theorem 1: the problem of deciding the satisfiability of kd1 formulas is np-complete. for the problem of deciding the satisfiability of kd1 m  formulas is pspacecomplete. 
1 	j. halpern and y. moses 
　　let be the system that results from adding a1-a1 and r1 to the axioms for 
theorem 1: for the language of common knowledge  kc m   resp. tc   m     s1c m   s1 m   is a sound and complete axiomatisation for kripke worlds  resp. reflexive worlds  rt worlds  rst worlds . 
     the common knowledge operator c adds a great deal of expressive power to the language. we can now make universal statements about what is true at all reachable worlds in the structure. one of the consequences of this is that the analogues to theorem 1 and proposition 1 no longer hold. in fact we have: 
proposition 1: there is a constant such that for all n   1  there is a formula pn with ihat is satisfiable  but is not 
satisfiable in any world  m  a  where m is a treelike structure  resp. reflexive closure  rt closure  rst closure of a treelike structure  of depth 
theorem 1: 	for  the problem of decid-
ing the satisfiability of kc m   resp. tc   m     s1c formulas is complete for exponential time. 
     the proof of the exponential-time lower bound follows from techniques similar to those used in  fl  to prove a similar bound for pdl. the upper bound can be obtained using techniques of  pr  or  eh . in fact  the techniques of  eh  allow us to combine the proof of the correctness of the algorithm with a proof of the completeness of the appropriate axiom system. further details can be found in  hm1 . 
　　besides the knowledge common to a group of agents  it is also often desirable to be able to reason about the knowledge that is implicit in the group  i.e.  what someone who could combine the knowledge of all of the agents in the group would know.* thus  for example  if alice knows p and bob knows p  q  then together they have implicit knowledge of q  even though it might be the case that neither of them individually knows q. whereas common knowledge  in mccarthy's analogy  essentially corresponds to what *any fool* knows  implicit knowledge corresponds to what a  fictitious   wise man   one that knows exactly what each individual agent knows  would know. implicit knowledge is a useful notion in describing the total knowledge available to a group of agents in a distributed 
* note that levesque  lev1  uses the term  implicit belief  in a somewhat different sense than we do here. in his case  an agent's  explicit  beliefs are not deductively closed  and the agent's  implicit* beliefs are roughly the deductive closure of his explicit beliefs. 

     we remark that if m = 1  we can get a complete axiomatization for implicit knowledge simply by adding the axiom schema ip = kp to the axioms for knowledge. 
     in the discussion above  we also viewed implicit knowledge as the knowledge the agents would have by pooling their individual knowledge together. this suggests the following rule of inference: 

     again  this inference rule is easily seen to be sound with respect to the semantics for i given above. intuitively it says that if q = q1 a ... a qm implies p  and if each of the agents knows a  part  of q  in particular  agent i knows qi   then together they have implicit knowledge of q  and thus implicit knowledge of p. 
     it is easy to check that this inference rule is derivable from axiom a1  a1  and propositional reasoning. conversely  a1 is derivable from r1 and the other axioms for knowledge. thus  we can replace a1 by r1 and get another complete axiomatization for implicit knowledge. we omit details here. finally  we observe that the addition of the i operator does not essentially affect the complexity of the language. we can extend the techniques of theorem 1 to show: 
t h e o r e m 1: 	for 	the problem of deciding 
the satisfiability of formulas is ps pa cis-complete. 
1. conclusions 
     we have investigated various classical modal logics of knowledge and belief. it is reasonable at this point to consider to what extent these logics really do capture our intuitive notions. our feeling in this regard is that there are several useful notions of knowledge and belief; some of them are captured by these logics  others are not. for example  consider a processor in a given distributed system that has received a certain set of messages  or a robot that has observed a certain set of facts . there are a number of global states of the system   possible worlds*  that are consistent with the processor having received these messages  or the robot having made these observations . we can say that the processor knows p in this case if p is true in all these global states. note that this is an  external  interpretation of knowledge  that does not require a processor to perform any reasoning to obtain knowledge  or even to be  aware  of this knowledge. this interpretation of knowledge precisely satisfies the s1 m  axioms  and turns out to be quite useful in practice  see  hml  for further discussion . 
     when it comes to formalizing the reasoning of a knowledge base or of humans  computational complexity must be taken into account. we cannot expect a program to carry out exponential-time algorithms  much less a human! on the other hand  we must be careful in interpreting the lower bounds on complexity we have presented in the previous sections. these are worst-case results  and there is no reason to believe 
that most cases of interest should act like the worst case. indeed  the evidence suggests that just the opposite is true. the complexity of deciding formulas that humans are interested in tends to be much better than the worst-case analysis would indicate. we have noted that for one-knower s1 and kd1  the decision procedure for satisfiability of formulas is np-complete  just as it is for propositional logic. resolution methods have proved to be quite efficient in practice for propositional logic  and it seems that similar techniques can also be applied successfully to s1 and kd1. and the fact that there are successful practical theorem-provers for linear-time temporal logic  a modal logic whose satisfiability problem is pspacecomplete  suggests that this is a feasible task even for the many-knower versions of the logics we have been considering. 
     these observations suggest that the logics we have been considering may provide reasonable approximations to the reasoning carried out by a knowledge base  but they still do not seem realistic models for human reasoning. humans simply do not seem to be logically omniscient  hi1   in the sense of theorem 1: they do not know all tautologies  nor is their knowledge closed under deduction  i.e.  it does not satisfy 
	a number of attempts 
have been made to modify the possible-worlds framework to provide a more realistic semantic model of human reasoning. most of these attempts have involved either allowing non-classical  impossible  worlds in addition to the regular possible worlds  gr ra   using a non-classical truth assignment  lev1 fh  or enriching the possible worlds with a syntactic  awareness* function  fh . while none of these attempts appears as yet to provide the definitive solution  they do suggest that there is sufficient flexibility in the possible-worlds approach to make it worth pursuing. 
acknowledgements: 	we would like to thank ron 
fagin  bob moore  nils nilsson  and moshe vardi  for their helpful comments and criticisms. the first author would also like to thank the students of stanford course cs1b for numerous interesting discussions on implicit knowledge. 
1 j. halpern and y. moses 
