 
an enroute air t r a f f i c control  atc  simulation has provided the basis for research into the marriage of discrete simulation and a r t i f i c i a l intelligence techniques. a program which simulates  using real world data  the movement of aircraft in an atc environment forms a robot's world model. using a production system to respond to events in the simulated world  the robot is able to look ahead and form a plan of instructions which guarantees safe  expedient aircraft transit. a distinction is made between the real world  where pilots can make mistakes  change their minds  etc.  and an idealized plan-ahead world which the robot uses; the over-all simulation alternates between updating the real world and planning in the idealized one to investigate the robot's a b i l i t y to plan in the face of uncertainty. 
introduction 
　　　emphasis within problem solving research has recently been based on real-world problems and environments. production systems incorporating an extensive base of expert knowledge  mycin   1     dendral   have performed well in specialized environments; other systems not usually regarded as problem solvers  such as wilensky's natural language story understander   1     also show interesting problem solving a b i l i t i e s . many problems any complex robot must face  however  have yet to be examined in depth. fikes  hart  and nilsson  discussed a number of these  including  1  avoiding negative goals as well as achieving positive ones   1  planning with constraints  and  1  operating in dynamic environments with multiple  independent processes not f u l l y controlled and/or recognized by the robot. of these three areas   1  and  1  have been hardly touched  and  1  is the only area to have received significant attention. hendrix proposed an event-driven process model  based on the strips approach of add- and delete-sets. howe  in his studies of cognitive development  uses techniques taken from simulation languages such as simula and gpss   1   . both illustrate these reasonably general theories of problem representation using well-defined but stark subsets of a child's perceptual world. other robot problem-solving systems have been surveyed by siklossy. 
　　　the work reported here is an attempt to address several of these problem areas in a realistic  information-rich subset of the real world. the original project emphasis-the application of well-known problem solving techniques in a complex world-has given way to the more interesting task of creating a program which can  in the same complex world  create a plan based on i t s expectations  execute that plan  and modify it if unexpected events occur during execution. it must have the a b i l i t y to recognize and predict the course of on-going processes  only a few of which it may control. it must selectively exercise that control to correct undesirable situations and improve others. 
the. air traffic controller's world 
　　　the world chosen for this is that of a low altitude radar-assisted enroute air t r a f f i c controller. when an aircraft flies from one airport to another under instrument f l i g h t rules  as a l l airlines and military aircraft do   it passes through a number of controllers' jurisdictions: from ground control through tower and departure control to a succession of enroute controllers who track the f l i g h t on radar in level f l i g h t . the enroute controller's task is to keep the aircraft within his sector proceeding along their desired paths  according to individual f l i g h t plans filed before departure  subject to numerous constraints. many of these constraints are generated by governmental rules  for example  two aircraft within five miles of each other must be assigned altitudes at least 1 feet apart . the controller also has obvious constraints of expediency  an aircraft declaring an emergency must get priority over a l l other a i r c r a f t     physical limitations  aircraft cannot turn or climb instantaneously   and plain common sense  an aircraft must not be assigned an altitude too close to hazardous terrain or above i t s capabilities . violation of these constraints causes a conflict which he must resolve. 
　　standardized methods are used to control the aircraft paths. the controller is in continual radio contact with a l l the aircraft in his sector. he can control the aircrafts' positions both vertically  climb to feet  descend to feet  and horizontally  turn r i g h t / l e f t to heading  adjust speed to knots . pilots are required to obey these commands except under unusual circumstances. thus  using his knowledge of the 

problem-solving-1: 	wesson 

airway structure and the aircraft intentions and capabilities  the controller must decide when to issue commands which  optimize  performance while satisfying a l l constraints. 
　　　this mini-world seems to be a good vehicle for ai investigation. it is highly structured-state changes in the world are well-defined over time and space. controller activities are limited to the issuance of aircraft commands drawn from a very small standardized set. optimal performance is simple to judge in terms of aircraft transit times  number and kind of commands issued  and the like. yet it offers a significantly richer environment than the ai worlds of the past. it is dynamic  so that the modelling of time becomes a paramount issue. it is non-precise-the simple descriptive techniques used for blocks worlds are inadequate because of real world uncertainty about object positions and the effects of actions  commands . the robot  controller program  is neither omniscient nor omnipotent. expected events may not occur  an aircraft may f l y at a different speed  heading  or altitude than expected  while unexpected ones may  new aircraft may arrive in the sector . 
	controller 	simulation 	describe 
atc world simulation 
　　　since one of the main objectives of this work is the application of problem solving techniques  the simulation must closely duplicate the real world  making as few idealizations as possible. the information normally present on a controller's radar scope had to be stored internally  updated periodically  and presented interactively on a graphics terminal. 
　　　the f i r s t phase of the project began with the development of such a world model. information about airport locations  radio beacon locations  airway structure  including minimum altitudes   control jurisdictions  and the like was taken from current aeronautical charts  reduced to typical x-y coordinates  and stored on data f i l e s . this data structure is designed to be easily modifiable for modular use by any controller station world-wide and for ease of maintenance. 
　　　a flightplan l i s t  drives  the simulation. it contains everything an updating routine needs to determine an aircraft's movement as the simulation progresses. the most important dynamic data structure is the world  an instantaneous snapshot including time  a l l the aircraft active with their assigned and current speeds  altitudes  and headings  and any commands and/or events currently occurring. it also includes a link to past worlds recorded at strategic points  so that updating can be complemented by backdating to any time. these structures are declarative and serve as data for procedures which perform the mechanics of the simulation. 
problem-1: 
the controller as a problem solver 
　　　a human can perform actions in order to change his future in a desirable way. many actions are reactions to current situations  
manifest in the form of learned responses to specific stored patterns. these can become highly complex and can result in high levels of performance. habits and memorized behavior  such as playing the piano  are examples of this. not normally regarded as problem solving  it nevertheless is responsible for much of human expertise. it is implausible  however  that high-level cognitive tasks can be accomplished solely by reacting to current situations. by augmenting this production system approach with a look-ahead capability  a clearer picture of time-oriented problem solving behavior emerges. it can be described as follows: using a model of the world as it is currently perceived and learned rules for describing the changes which may occur in that world  a human constructs a continuous simulation of the world. within this simulation  he is able to note events which w i l l occur without his intervention. he can hypothetically perform actions  observing how these actions affect the original event  whether new events are created  and how the action f i t s into his global strategy. a person's learning  in part  consists of continually reducing the number of surprises he faces day to day by adding more and more rules to this simulation model of the world. these informal rules enable him to correctly predict the natural world and how his  and others'  actions perturb i t . 
　　　in the world of air t r a f f i c   a controller quickly learns to sense aircraft rates of speed  altitude change  and heading change. this knowledge  procedural in nature  enables him to speed up time in his mind  looking ahead to predict potential collisions and events which require his intervention. in this future world  he can try out his various options and select the commands most likely to produce the best results. it is this behavior which we attempt to model. 
problem solving with simulation the controller clearly has an intern
model which he uses to try out his proposed solutions. this model  derived from the real world but quite separate from i t   gives rise to the dual simulation integral to this controller modelling program: a simulation of the real world  henceforth  the real world or rw  allows the programmer to construct realistic scenarios with which the controller program  or problem solver  interacts; the problem solver i t s e l f has i t s own independent and somewhat idealized simulation of the world  the problem solver's world or pw  based on a snapshot of the rw  the aircraft f l i g h t plans  and i t s own expectations of their behavior. it uses this idealized world to look ahead in time to spot impending trouble areas and investigate the results of i t s actions. 
wesson 
　　　the result of this look-ahead is a plan of actions it proposes for the rw-commands to be given paired with issuance times. a monitor in the rw issues these commands at the appropriate times and checks for circumstances which would render the plan invalid. note that the forward time threshold of the pw must always be significantly beyond the current rw time  because unforeseen events may require alteration of the plan. suppose  for example  that the planner looks ahead for 1 minutes. suppose  further  that a collision is imminent at minute 1 which requires commands to be given at minutes 1 and 1 to avert i t . clearly the plan is not a 1-minute plan at a l l but is valid for perhaps 1 minutes of real time at most.  these figures of 1 minutes for the look-ahead and 1 minutes for the expectation were chosen empirically for the serial plan-ahead..execute.. sequence simulation; an actual implementation would be a time-shared planner/rw monitor program with the planner almost continuously active.  this procedure of alternately planning ahead a l o t   then updating the rw a l i t t l e   leaving a large portion of the plan un-executed  can be best expresssed by the following pascal-like program: 
simulator: 
begin 
input i n i t i a l rw description and flightplans; i n i t i a l i z e time  aircraft positions; 
repeat 
pw  - rw; 
plan-ahead using pw for next 1 minutes  generating the plan of command-time pairs; 
repeat 
update world one time step; 
　issue commands from plan for this time; until have updated 1 minutes  normal termination  or something unexpected occurs  an aircraft rejects a command; a new aircraft enters the sector; etc.  or a l l aircraft terminated 
until a l l aircraft terminated 
end. 
　　　emphasis here is on creating a realistic simulation with which the planner can work. a typical mix of controllable and uncontrollable  fast and slow  high and low air t r a f f i c is used for a l l exercises. aircraft movement in the rw is randomized by the updating routine to reflect the output characteristics of a digitized radar system. this structure is a prototype which can allow further development for actual atc implementation by extending i t s knowledge base along established lines and replacing the rw simulator above with a real-time monitor. 
looking ahead 
　　　within this structure is the capability for f u l l y exercising the planner  where the  intelligence  of the system lies. this routine's task is to create a minimal sequence of aircraft commands which guarantees a specified time period free from conflicts based on the current world state and known aircraft intentions. it uses a look-ahead technique which is again incremental  updating the world step-by-step through time. actions taken in the planner are caused by the activation of one or more event-response pairs. after every update  pre-defined events are checked for  such as a violation of the 1 feet or 1 
mile separation rule  or an aircraft descending too low. if one of these events occurs  it is placed on an event l i s t with parameters describing the specifics of the event. after a l l the events have been noted for a specific world state  responses are made which ultimately generate command actions to be inserted into the plan. this planning behavior is best described as follows: 
plan-ahead: 
repeat 
check-events and note occurrences on eventlist; if eventlist is non-null then begin 
pre-process events as required; 
try-out a l l responses to highest-priority event using lookahead with evaluation and select  best ; 
if time of response   current time then 
　backdate world to time of response; post-process events as required 
end; 
issue commands as required from plan; 
   update world one time step until looked ahead 1 min. 
　　　this scheme is similar to a production system in that actions are generated by the event-response pairs: if an aircraft approaching an airport is higher than the designated approach altitude  then a descend command w i l l be generated. new knowledge can be easily added by inserting new event-response pairs. the traditional production approach of implementing knowledge in manageable kernels has been used quite successfully. 
p r o b l e m - s o l v i n g : wesson 　　　however  the planner departs from the usual production system technique in a number of significant areas. where most production systems have employed a pattern-matcher operating with static  descriptive condition-action rules  the event-response rules in this system are implemented procedurally. while this technique has its drawbacks  such as requiring re-compilation whenever new rules are added  i t s advantages are numerous. note that a l l the events are checked for with every update. compiled event descriptions allow event recognition to be much faster. both event and response procedures become more powerful with the f u l l generality of a programming language behind them and thus fewer are needed. highly structured data and procedure construction techniques are followed  so that the resulting event-response rules are quite transparent and easy to construct. 
       the main advantage of these procedural r u l e s   however  comes in the way responses are handled. many production systems d i s a l l o w more than a s i n g l e response f o r each event p a t t e r n ; i f allowed  m u l t i p l e responses g e n e r a l l y r e s u l t i n b l i n d d e p t h - f i r s t searches. in the atc planner  m u l t i p l e responses are not only allowed but encouraged. these responses may be proposed f o r any world s t a t e - p a s t   present  or f u t u r e . some events may be c o n f l i c t s in the present  r e q u i r i n g back-up and responses in the past f o r r e s o l u t i o n ; other events may be expected f u t u r e c o n f l i c t s   r e q u i r i n g responses in the present or near f u t u r e . a response s e l e c t i o n procedure   t r i e s out  each possible s p e c i f i c response by performing that response on a world copy of the appropriate time and updating in the usual manner. this updating continues u n t i l another event occurs  forming a   l e v e l   or branch in the developing search t r e e . events o c c u r r i n g t h i s way are resolved by r e c u r s i v e c a l l s to the response s e l e c t i o n procedure u n t i l a p r e - s e t l e v e l has been reached  whereupon an e v a l u a t i o n is performed. this e v a l u a t i o n is based upon the current world s t a t e   t i m e   distance a i r c r a f t are from t h e i r goals  number and s e v e r i t y of current c o n f l i c t s   e t c .   and the path to it  number and type of commands issued in the p a s t   . note that l e v e l s are separated by tirqe f t h a t states of a given l e v e l can have widely d i f f e r e n t times and t h a t in f a c t s t a t e s w i t h a higher l e v e l number do not n e c e s s a r i l y have l a t e r times. for example  a response at l e v e l 1 might r e q u i r e a back-up to a time before l e v e l 1 and cause new events to occur immediately. this would r e s u l t in a l e v e l 1 time before the l e v e l 1 time and i l l u s t r a t e s an attempted s o l u t i o n destroying a previously successful p a r t of the p l a n . 
       this approach to response s e l e c t i o n from a number of candidates by using a  mini-look-ahead  works f a i r l y w e l l . i t seems t o e f f e c t i v e l y capture the human n o t i o n of immediate or l o c a l knowledge so e f f e c t i v e in pruning search t r e e s . a c o n t r o l l e r can immediately choose to vector an a i r c r a f t t o the l e f t when the r i g h t side o f i t s f l i g h t path i s l i t t e r e d w i t h t r a f f i c ; t h i s planner can make the same d e c i s i o n f o r the same reasons. even in complex s i t u a t i o n s   the response procedure almost always picks the best response  r e s u l t i n g in very l i t t l e wasted search and very e f f i c i e n t plan g e n e r a t i o n . 
       aside from the knowledge w i t h i n the productions  the planner also uses d i r e c t l y coded h e u r i s t i c  common sense . for example  geographical l o c a t i o n s of the events enable the planner to d i v i d e the world i n t o subsets of a i r c r a f t which are then examined separately by the response procedures. this is something humans do only in a l i m i t e d manner: d i r e c t e d a t t e n t i o n is d e f i n i t e l y necesssary  but our a b i l i t y to remember complex s o l u t i o n s from one area  compute one f o r another  and merge the two s o l u t i o n s in time is d i s m a l . the planner also has r u l e s f o r preventing c i r c u l a r s o l u t i o n paths o r deadlocks. a l l o f t h i s knowledge  in a d d i t i o n to event p r i o r i t i e s and bookkeeping t a s k s   is implemented as event p r e and post-processing in the planner. 

p r o b l e m - s o l v i n g - 1 : 	wesson 
1        the notation is that used in a i r t r a f f i c control displays. the hexagons and plus depict radio fixes; the solid lines connecting them are airways; the dotted line separates approach control's airspace. n1jd is a lear jet heading southeast at about 1 knots; swan-1 is a m i l i t a r y j e t heading southwest then west along the airways at 1 knots; n1t is a single-engine piper heading the same direction at 1 knots; and aa-1 is an american airlines 1 heading east at 1 knots. a l l a i r c r a f t are at 1 feet. the real world time is 1; the plan-ahead world time is 1 and two c o n f l i c t s are occurring while a third is expected to occur at 1. the event- response pairs responsible for noting/solving conflicts in this scenario are informally stated as follows: 

event 	1 
f o r a l l aircraft i : 
if next f i x is approach control and assigned altitude   1 feet then add  i too high for approach hand-off  to eventlist 
response: 
	1. 	descend aircraft i to 1 feet or below 
event 1 
f o r a l l aircraft i : if distanced  flightplan track    1 miles 
then add  i off track  to eventlist 

1. 	try  turn i back toward track  1. il distanced next radio fix    1 miles then try  direct i to next radio fix  1. 	try doing nothing 
　　　notice that the f i r s t and third events have multiple possible responses while the second has only one. as each response is tried  i t s specific parameters  time to give command  specific altitude  heading  speed  etc.  are computed from the nature of the event. a solution to this scenario proceeds as follows: 
　　　event pre-processing would separate the eventlist into three subsets  each containing a single event  based on geographical separation. it would then give the respond procedure world copies with only the geographically relevant aircraft activated. the f i r s t event would cause the twelve possible responses to a separation conflict to be tried out. a search tree of two levels  generally  would be generated and the terminal nodes evaluated. the response chosen would be  descend n1jd to 1 feet at 1  because it prevents the conflict at 1 and the evaluation parameters  in simulating controllers' p