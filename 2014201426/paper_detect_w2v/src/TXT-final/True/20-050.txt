ion used in the image interpretation process. within the visions image understanding system  1   three such levels may be identified. low-level processes are those which operate on pixel data to produce a set of intermediate-level symbolic tokens representing significant events contained in the raw image data  e.g. regions  lines  or surfaces . intermediate-level grouping processes manipulate this initial set of tokens to produce new tokens  and high-level processes provide the semantic interpretation of the image based on the full set of image tokens. 
goldie  fifial directed intermediate-level exectutive  
 1  is a system within the visions environment that pro-
   *thls work was supported in part by the air force office of scientific reiearch grant afosr-1 and the national science foundation grant 
dcr.1 
vides the mechanisms for the top-down control of the low and intermediate-level processes that create or modify tokens. the specification of a request for a particular type of image token is expressed as a goal  a data structure that defines the generic class of processing required  e.g. region segmentation  line extraction  grouping  etc. . constraints  stored as attributes within the goal data structure  express the desired characteristics of the tokens to be produced  and may be represented through either semantic or image-based criteria. semantic constraints are defined in terms of semantic labels  e.g.  segment a specific portion of the image to separate tree and sky    while the image-based constraints are expressed in terms of measurable image features  e.g.  produce regions that exhibit homogeneous texture measures  . 
　　the basic control structure of goldie is the schema  a declarative specification of control strategies that may be used by the system to satisfy a specific goal. schemas provide a 
　　flexible and extensible control structure that is currently used within visions to direct the high-level semantic interpretation processes  1 1 . goldie extends this concept of schema-directed control to the intermediate and low levels of processing. the power of this system lies not in the particular set of specific low and intermediate-level processes that have been integrated into the current system  but rather in the various representations for knowledge  data  and control that implement goal-directed processing. 
1 . 	g o a l - d i r e c t e d c o n t r o l 
　　goldie supports both goal-directed and data-directed control of processing. data-directed processing is controlled by sets of evaluation rules which associate hypotheses  e.g.  candidate for resegmentation    candidate for merge   etc.  with tokens; the hypotheses are used to direct the subsequent activities of the system. current goal constraints are used to determine the specific set of rules used to compute the value of the hypothesis. for example  if a particular set of goal constraints indicated that uniformly textured regions were of primary importance  the rules used to establish the acceptability of region tokens would include measures of the homogeneity of both hue and short line density. tokens representing large regions with high variance in either of these features would probably be considered unacceptable. 
　　various types of intermediate-level hypotheses may be established in this manner. for example  the initialization schema  which provides a data-directed region segmentation for either the entire image  at system startup  or for an area defined by a  set of  region token s   uses the rule mechanism to hypothesize whether individual region tokens should be merged or reaegmented. an instance of this schema first uses the region segmentation schema to select the image feature s   segmentation algorithm  and parameters which will be used to produce an initial  best guess  for a set of region tokens. using the set 
	kohl  hanson  and riseman 	1 
　　
of rules selected according to the goal constraints  the initialization schema instance then evaluates this set of tokens and continues to process those which have unacceptable values for 

figure 1: outdoor scene 

figure 1: initialisation schema segmentation 
region-merging-hypothesis or region-resegmentationhypothe1ib as each of these tokens is processed  the schema is able to perform resegmentation or merging using algorithms and criteria appropriate to the characteristics of the particular region. this form of data-directed processing demonstrates intermediate level control that uses knowledge of region characteristics  as well as knowledge about the performance of the segmentation algorithms under varying conditions of the data; we call this non-semantic  or image-domain  knowledge figure 1 shows the segmentation produced by this schema for the image from figure 1. 
　　although this form of intermediate-level control provides image tokens that appear to correlate reasonably well with image content  this fact alone does not guarantee the suitability of the tokens for interpretation. the ultimate significance or quality of a particular token is dependent only upon its utility with respect to a set of interpretation goals and cannot be measured independent of the interpretation process. therefore goldie also supports goal-directed control in which a goal contains an explicit specification of the token characteristics which must be met by any potential set of results. this evaluation-constraint is expressed as a function value pair; the function is applied to each set of tokens produced by the contracting schema in-
1 	perception 

figure 1: rectangular shutter regions 
stance  and only if the return value of the function exceeds the value specified is the set of tokens judged to be potentially acceptable 
　　for example  if there has been an inference of the presence of a pair of shutters on the side of a house  an interpretation process might request a resegmentation of the area defined by that pair in an attempt to define tokens that could be unambiguously labeled as either window or shutter the goal specification for this request 

includes an evaluation-constraint that indicates a preference for region tokens that are rectangular figure 1 shows the result of this goal specification over the three areas bounded by pairs of initially hypothesized shutters in the original segmentation  figure 1  the dark lines in this figure represent region boundaries which were constructed by goldie in response to the definition of an  area of interest'1 by the interpretation process each of these newly defined regions was then resegmented according to the specified goal. note that although image noise  aliasing  and window reflections prevent a  perfect'1 segmentation of these areas  the resegmentation process has provided a set of tokens which are appropriate for interpretation of windows and shutters. the tokens produced through the satisfaction of this goal can be labeled and precisely located  thereby making the information generated by this particular interpretation process available to any other high-level processes that may be concerned with this data. 
　　conversely  if the intent of the interpretation process is to identify trees in the image  the interpretation system could specify a merge goal having an evaluation-constraint that indicates a preference for large green textured areas  thereby producing the region in figure 1 . 
1 . 	a r c h i t e c t u r e o f g o l d i e 
　　the goldie system  represented by the modules within the large dashed rectangle of figure 1  may be described in terms of four major functional components: the process controller  the data structures for intermediate-level tokens and hypotheses  istm   the representation of explicit intermediatelevel knowledge  iltm   and the representation of the control 
state of the system  goal blackboard and schema instantiations . 
　　

figure 1: region produced w i t h goal for tree-like regions 
　　the set of low and intermediate-level processes that arc utilized by goldie to create  manipulate  or evaluate image tokens are managed by the process controller. the controller maintains a consistent protocol for the activation of both the low-level processing tasks that operate on pixels  e g threshold segmentation  one or two dimensional histogrambased segmentation  feature calculation  line extraction  etc   and the intermediate-level knowledge sources that operate on tokens  e.g. collinear line grouping  token evaluation  or region merging  this interface permits the schema representation of these processes to be expressed in a manner independent of the process implementation note that the processes themselves  both low-level image-based procedures and intermediate-level knowledge sources  are not considered to be an integral part of goldie; rather they represent the set of tools available to the system 
　　the data structures of goldie that are particular to a specific interpretation are the sets of tokens and hypotheses about tokens that are stored in istm  intermediate-level short term memory . the tokens are defined through the isr  intermediate symbolic representation   a combination database and semantic network in which tokens are defined as graph nodes with associated bitmaps representing the spatial extent of the token in the image. attributes of the tokens  such as intensity or size  are computed on demand by the isr and then stored in the database for efficient retrieval by any other process that may require the same data. specific relations between tokens  which have been requested by some high or intermediatelevel process  e.g. the boundary contrast between two adjacent region tokens   are represented as arcs that have values indicating the nature of the relation. the sets of semantic  e.g. tree-object  non-semantic  e.g region-merge  hypotheses are stored in a similar database structure which is accessible from both the intermediate and high levels of processing 
　　iltm  the intermediate-level portion of the visions long term memory  encodes the image-independent intermediatelevel knowledge structures of goldie which include schemas  object knowledge  and non-semantic image knowledge. schemas are represented declaratively as a set of strategies by which a particular goal  such as region segmentation or line extraction  may be satisfied. the execution of the strategies will typically involve a sequence of operations including the posting of subgoals  the execution of image processing tasks through the process controller  and the construction of hypotheses based on data represented in the istm. as an example  the regionfeature schema  which selects an image feature for a region 

segmentation  includes strategies for the selection of features based on frequency distributions of image data  on semantic hypotheses  and on textural characteristics. message-passing constructs allow the various executing strategies to communicate and synchronize their activities within the context of a particular schema instance. 
　　the object knowledge of iltm encodes the intermediatelevel characterization  e.g. textured or smooth  of various semantic objects as well as process specific information that can be useful in the specification of the processes that are to produce tokens corresponding to these objects  e.g. image features or segmentation algorithms that have been shown to be useful in the discrimination of the object from other objects . non-semantic knowledge includes a set of useful characterizations for tokens  e.g. textured-region  smooth-region  high-contrast-line  etc.  as well as the set of rules  image features  segmentation algorithms  and segmentation parameters appropriate to each of these token classes. 
　　the goal blackboard and the set of intermediate-level schema instantiations are represented in a semantic network that encodes the control state of the system  1 1 . the goal blackboard is a section of the network in which goal nodes  representing requests for intermediate-level processing  are created by the schema instance that requires the results of that processing. the control process of the goldie system continually monitors this goal blackboard for the existence of new goal nodes. as a new goal is observed  the control process creates a new instance of the corresponding schema. the node for this schema instance is linked to the goal node by an arc that represents a contract by the instance to attempt to satisfy the goal. 
　　a typical scenario for the interaction between goldie and the interpretation system is a situation where a high-level process had formed two conflicting hypotheses regarding the semantic label to be assigned to a particular region token  e.g. tree and sky for the cross-hatched region on the left of figure 1 . since this is a region in which sky is visible through the leaves of the tree  both hypotheses are reasonable. however  an interpretation process which was to unambiguously label the image tokens could post a goal for region-segmentation. 
	kohl  hanson  and rlseman 	1 
　　

　　in response to the posting of this goal  the system would activate an instance of the region-segmentation schema this schema instance would then select image features and algorithms appropriate for the discrimination of the two objects and then initiate a segmentation process which would be expected to split the original region into a set of new regions  each corresponding to only one of the two objects. tokens corresponding to these new regions would then be returned to the interpretation schema instance for evaluation  right side of figure 1 . if the interpretation schema instance were satisfied with the results  the goal and region-segmentation schema instance would be deleted. otherwise  the interpretation schema instance would send a continuation request to the segmentation instance so that additional region tokens could be produced and evaluated. in this case  the region-segmentation schema instance would continue processing until an acceptable segmentation were found or until all of its strategies were exhausted 

figure 1: tree/sky region 
1 . 	c o n c l u s i o n 
　　a variety of schemas for tasks such as region segmentation  line extraction  collinear line grouping  and line segmentation are currently implemented within the goldie system at the university of massachusetts  and research is proceeding on the interface between this system and the high-level interpretation schemas being developed by other researchers in the visions group  1 . as currently implemented  the goldie system provides an evolving mechanism for the control of the processes that create or modify the intermediate-level data representation for the interpretation process. 
　　there are four major aspects of goldie that contribute to the utility of the system. foremost is the fact that the system is goal-driven. this paradigm provides a coherent mechanism for top-down control in which low or intermediate-level processes may be tuned to produce tokens that meet the expectations of higher level processes. secondly  the system makes use of a unified data representation that allows processes at any level of the interpretation hierarchy to access the token and hypothesis data which represents the current state of interpretation processing. thirdly  the system contains an explicit representation of knowledge about low-level processes and the image domain 
1 	perception 
which provides a flexibility that permits extension to additional processes or image domains. finally  the goldie system is capable of operating within a hypothesize and -test protocol  exploring a variety of potential solutions to high-level requests rather than operating in a strictly deterministic manner. 
