proportionality graphs  units analysis  and domain constraints: 
improving the power and efficiency of the scientific discovery process* 
brian falkenhainer 
department of computer science 
university of illinois 
1 w. springfield ave  urbana  il 1 

a b s t r a c t 
     an important subproblem of scientific discovery is quantitative discovery  finding formulas that relate some set  or subset  of a collection of numerical parameters. current work in quantitative discovery suffers from a lack of efficiency and generality. this paper discusses methods that are efficient and yet general for discovering equations which try to avoid exponential search. importantly  these methods can derive equations that cover subsets of the data and derive explicit descriptions of when the equations are applicable. these methods are fully implemented in a system named abacus which is described and some of its results are presented. 
1. i n t r o d u c t i o n 
　　　a goal of quantitative scientific discovery is to create systems which will be able to propose  more or less on their own  various types of empirical laws which hold for some domain. such systems should be both general and efficient  should be able to handle irrelevant variables  and should describe  where possible  the limits of applicability for their conclusions. while some progress had been made  most notably the bacon series  langley 1   existing systems have severe drawbacks. these systems tend to make various assumptions which only enable them to discover laws that hold for roughly all of the given data. they assume that all variables are relevant and also require the user to specify which variables should be treated as independent and which as dependent. this is particularly limiting since in interesting cases we seldom know much about the variables involved. 
     this paper presents several methods to help overcome these limitations. first  two methods of constraining the search  proportionality graphs and units analysis  are discussed. second  a method for deriving several empirical laws that cover different portions of a dataset is introduced that produces a description of when the empirical law is applicable. finally  some results generated by the program abacus are shown. 
s. c o n s t r a i n i n g 1earch 
     the search for empirical laws can be roughly characterized as searching through the space of equations which can be generated from the variables given in the 
     * this work was supported in part by the national science foundation under grant nsf dcr 1 and by the office of naval research under grant no. n1-k-1. 
dataset  stopping whenever a law that accounts for a significant amount of the dataset is found. two problems confound this search. first  the presence of irrelevant variables in the data can tend to confuse the search process. second  the process of combining existing terms to form new terms is inherently combinatorial. attempts have been made to constrain the process using  expectation-driven heuristics  which may use desired formula templates  knowledge about the units of measurement being used  or the domain of the problem in general. an approach which makes no assumptions would be of more value. 
1. proportionality graphs 
     two variables  x and y  may be said to be qualitatively proportional if  when other variables are held constant  x rises monotonically as y rises. they are said to be inversely qualitatively proportional if x decreases monotonically as y rises. there are four assertions possible as the result of a qualitative proportionality measurement: 
prop+ x y  - x and y are qualitatively proportional prop- x y  - x and y arc inversely qualitatively proportional noprop x.y  - x and y are unrelated 
prop   x. y  	- insufficient data to determine if x and y are related 
　　　once all existing variables have been so related  an undirected graph  called the proportionality graph  is constructed where nodes represent variables and an edge indicates the existence of a proportionality relation   + or -  between two variables. it is postulated that  for formulas consisting solely of multiplication and division  the relevant variables in the formula will appear in a cycle in the proportionality graph. this is due to the fact that for formulas of the form  xyz/abc = constant   each variable's value will appear to be dependent upon the other 1. for other formula types  which may or may not adhere to the cycle rule  the most promising area for search would be the largest connected component of the graph. 
for example  given data of 1 variables  p  v  n  t  m  
y  where the ideal gas law is the intended relation   p v / n t = 1   the proportionality graph might look like: 

     a simple depth-first search on the relations existing among the set of variables in the cycle {p  v  n  t} produces the desired relation*. no further examination of m or y are needed for this example. if the quick depth-first search failed  then variables corresponding to edges prop+n.m  and prop＼ v y  would have been created and search would have continued. this procedure removes irrelevant variables whenever possible and directs the search towards the most promising relations in the data. 
1. units analysis 
　　　once it has been decided to create new variables for the relation prop- x.y   abacus tries to form both sum relations  e.g. x+y  and a product relation  xxy  in an effort to create a variable with a constant value. without further constraint  creating two or more new variables for each proportionality assertion might cause the number of variables in the system to grow exponentially with the search depth. a simple physical constraint drastically reduces the number of combinations that must be considered. for two entities to be added or subtracted  they must be the same type of entity  that is  they must be in the same units. one may divide meters by seconds  but not subtract seconds from meters. thus  when an attempt is made to form x+y  the units of x and y are examined for compatibility. if x and y have the same units  x+y and x 1 +y 1 are created  a need for higher powers has not presented itself as yet . if the units of x are a power of y's units  then y is raised to the appropriate power  e.g. x + y 1  . notice we are only testing identity of units and no semantic interpretation is done to guide the 
search. 
1. g e n e r a l i z i n g t h e discoveries 
     one of the goals of scientific discovery so far overlooked by past systems is characterizing the domain in which the laws generated are relevant. only one law could be found for each data set - unlike real life  these programs have not been tested on data sets which include several independent or semi-independent relationships. the ability to classify data according to what mathematical formulae best describes it will be very important as more realistic problems are undertaken. 
　　　in the abacus system  when the best relation found describes only a portion of the given data  the events covered by this relation are removed from the data and placed in a unique set. the search process begins again to find relationships that describe the remaining events. entirely new relations may be found this time since the removed variables may have been dominating the relation finding process during the first pass. this process repeats until all of the data has been functionally described or a set of events remains for which no rule can be found. once all the events are so analyzed  the system attempts to discover what factors present in the data caused seti to be different from setj by using an algorithm known as aq  michalski 1 . given event sets such as those created above  aq will generate a description for each set which covers the examples of that set 
     * the correct term here is biconnected component  aho 1  which refers to all nodes forming a cycle - thus {p v n t} rather than merely { v n t } . 
	b. falkenhalner 	1 
and none of the examples in any other class. this is called a 
discriminant description in that it may be used to determine to which class a given event belongs.  aq is described in greater detail in  michalski 1   
     an example will make the role of aq in the discovery process clearer. 

     data corresponding to the above graph was presented to abacus. after failing to locate a relation which held for all of the given data  search terminated with y = x1 being the equation which held for the largest percentage of the data . all data covered by this formula was removed from the dataset and search began again. this time the equation describing the line was discovered and found to hold universally for all of the current data. with relations found for the entire dataset  aq was then called to discriminate between the two sets of events. the results are shown below: 

1. i m p l e m e n t a t i o n 
     the concepts presented above are implemented in the abacus system  which is written in franzlisp. abacus operates in two stages. first  the given data is examined for empirical rules which hold over different subsets of the events. once all of the data has been separated into disjoint classes corresponding to each empirical rule  the second phase begins. this stage applies the aq algorithm to the classes to create discriminate descriptions of the class sets. the class description and empirical rule which describes that class are then combined to form the if-then rules illustrated above. 
     since we have already described the role of aq in some detail  we now describe how the first stage works. first the system searches through the data and produces all possible proportionality assertions. a simple graph traversal routine is then called to return an ordered list of the cycles and connected components of the proportionality graph. a depth-first search is performed on each set in turn  where the 
       it should be pointed out that the problem of conflicting proportionalities has not been solved here. for the curve  prop* x y  holds  while prop- x y  holds for the line.. in this example  there were 1 points 
given for the curve and 1 given for the line. abacus is able to solve problems having conflicting proportionalities if one dominates the other  as in this example. 

1 b. falkenhainer 
depth of the search for a set is given by the cardinality of the set. variables  once created  are added to the events list and are never retracted. if a relationship that describes all the data is not found  search proceeds in a best-first manner until such a universal relation is found or a cutoff parameter is reached. if no universal relation is found  the events covered by the relation which summarizes the most events are removed from the data  placed in a unique class set  and all generated variables are thrown out. the process repeats on the remaining data. 
1. a f e w results 
     one law which has been discovered by the current abacus system is newton's conservation of linear kinetic energy in a perfectly elastic collision. this law states that the total translational kinetic energy of two bodies remains the same before and after an elastic collision: 

in this example  abacus was presented with data consisting of the eight variables shown above and a nominal collisiontype variable which took on values of ''elastic  and  inelastic . as can be seen below  the system was able to discover the formula for conservation of kinetic energy. since this relation only held for about half of the data  further search was attempted on the remaining half  but to no avail. a domain constraint was therefore provided to discriminate the two halves of the data. 

class-b: if  collision-type = inelastic  then no formula holds 
     another interesting example which helps to show the usefulness of the domain constraint concept involves coulomb's law of electrical force. the electrical force between two charged objects is given by 

where c is the electrical permittivity of the surrounding medium. abacus was presented with data consisting of the force  the two charges  the distance between the objects  and the name of the surrounding medium. the results are given here  where the constant term in each of the coulomb relations is equal to for that substance. 
1. conclusion 
     the abacus system is a very useful exercise in simulating a part of the scientific discovery process. it has been designed to be efficient and general and has been shown to be applicable to a variety of chemical and physical laws. 
this combination of two completely separate algorithms 
 the relation finding process and aq  shows how different approaches to learning can be combined to enable tasks neither could do alone. in experimentation  the pertinent variables are often mixed in with many completely irrelevant variables. with this design  a wide variety of variables may be introduced and decisions of pertinence may be left to the program. with aq acting as a post-processor  the data can then be examined to answer questions concerning the applicable domain of the results and postulate the reasons for discovered differences in the data. 
     there are still a number of unresolved problems in quantitative discovery. abacus is unable to find laws involving logarithmic or trigonometric relations unless these functions are directly introduced into the data by the user. also unanswered is the problem of discovering polynomials with coefficients. while a great many laws of physics and chemistry do not contain coefficients in their equations  many important laws do  particularly newton's laws of motion. 
a c k n o w l e d g e m e n t s 
     i would like to thank my advisor  ryszard michalski  for his support and advice on this project. i also owe a great deal of gratitude to ken forbus  tony nowicki  jeff becker  and sue crane for their time  suggestions  and overall help. 
