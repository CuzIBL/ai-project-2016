 
the photolithography advisor is a program for the diagnosis and correction of negative resist photolithography defects occurring during integrated circuit fabrication. given a set of observed symptoms on a wafer  the advisor diagnoses defects due to these symptoms and recommends corrective action for each. an early prototype of the program was tested in a research lab  where experimental ics were processed. a more thorough experiment is now in progress to measure the system's performance in a manufacturing environment. 
introduction 
an integrated circuit fabrication line  like many manufacturing lines  is organized around a sequence of stations manned by technicians. most stations process a wafer once or twice before it is finished  but for the photolithography step  placing a pattern on the wafer similar to photography  each wafer is processed up to 1 times. when a photolithography problem arises  this step becomes the bottleneck for the whole line. wafers continue to be processed at other stations  causing a stockpile to build while the process engineer is called in to fire fight  diagnose and correct the problem . 
   when fire fighting  the process engineer's first priority is to get the line up and running again as quickly as possible. fire fighting consumes about half his day  conflicting with his main responsiblities of coordinating line personnel and monitoring and controlling the process to meet specifications on uniformity of pattern thickness  develop  exposure  baking  and many other variables. under these circumstances  temporary solutions usually result  with no time left for designing long-term solutions to recurrent problems. 
   an expert system  like the photolithography advisor  can help alleviate fire fighting  monitor and control the process  record process data that can help determine what the recurrent problems are  and provide information needed to coordinate line personnel on different work shifts. 
   the complex procedures needed to produce correct patterns by photolithography are many and varied. for an overview  see  thompson  et al  1 . in addition  the number of ways a defective pattern can be produced is very large . when armed with this knowledge  the advisor can help the technician focus on the data pertinent to isolating the defect and determining its cause and can recommend corrective action. without the advisor or the process engineer  the technician may search blindly for a very long time and become overwhelmed and frustrated. 
   we designed the advisor to mimic the problem-solving behavior of human experts so line technicians would feel confident that the program could help them and they would want to use it instead of depending on the process engineer. this involved not only capturing in rules the knowledge of several photolithography engineers and the field test experience of technicians  but also a lot of effort in implementing an interface that presents a familiar model of work; e.g.  by using electronic versions of the paper forms previously used for process recordkeeping. how well we have succeeded is still being evaluated. we have done a preliminary evaluation by field testing on a research line. the results of that test helped us design a more thorough testing  in progress  on a manufacturing line. 
the photolithography advisor 
the photolithography advisor is written in hp-rl  rosenberg  1   a knowledge representation language that supports structured declarative objects  frames   messagepassing  active values  daemons   procedural values  a rule system for logic programming with agenda-based inference engines for forward and backward chaining  and a smooth interface with the host lisp environment. hp-rl runs on hp model 1 series 1 workstations under both psl  griss  1  and common-lisp  steele  1 . the advisor is a small to medium sized expert system. it builds on a number of well-known medical diagnosis programs  borrowing in particular some of their architectural ideas; 
 shortliffe  1    aikins  1    kunz  et al  1   and  smith and clayton  1 . the program currently contains 1 class-frames  with up to 1 slots each  and 1 rules  1 forward-chaining and the rest backward-chaining. 
   the advisor is structured as a team of three cooperating specialists that work together to solve problems posed by the user. an inspector works with the user to collect symptoms  passing this information on to a diagnostician. the diagnostician uses knowledge of chemistry and photolithography equipment to diagnose wafer problems and their causes and tells the repairman about them. the repairman then advises the user on how to correct the diagnosed problems. the specialists communicate through the 
1 	t.ciineetal. 
frame database. in this sense  the advisor uses a blackboard architecture  erman et. al.  1 . 
   any specialist can ask for more information when needed. this allows the consultation to be focused  eliminates asking for extraneous or irrelevant information that may be expensive in time and effort to gather  and results in a more human-like interaction. 
   the basic diagnostic strategy is to work with visual symptoms first. a visual inspection revealing no symptoms does not mean the wafer is free of defects. it only means that no gross defects can be detected by the naked eye. in such cases  the advisor requests the user to examine the wafer under the microscope at low magnification. if symptoms are found by this inspection  they must be verified using high magnification. 
   the user interface has turned out to be one of the most important components. initially  we were more interested in problem-solving performance than ease of use  so a simple glass tty interface was used. this was unsatisfactory. in response  we implemented an interface which required very little typing  all questions being asked through popup menus  and recorded all interaction in a transcript window. the user could then answer most questions by using either a single-key command  pressing a soft key  or selecting with the mouse. the consultation could be reviewed by scrolling back in the transcript window. we are now building another interface that implements a virtual advisor's notebook. it uses graphical representations of the wafer 
and processing equipment  sophisticated browsers for examining the knowledge-base  and a laser-disc database of symptom and defect images. while being as easy to use as the current interface  this interface will use more cognitively stimulating media to provide considerably more explanatory power. 
performance and evaluation 
the first version of the photolithography advisor was installed in a low-volume research lab and was used for about a year. at the time of this writing  we have just installed a second version of the program in a manufacturing line for additional testing. 
   the test in the research lab helped us debug the knowledge base and obtain useful ideas on what was needed in the user interface. overall  the program was considered quite useful and generally diagnosed problems as well as the available process engineers  the same ones who helped us build the program . 
some of the benefits of the program were: 
  substantial time was saved in processing wafers. if a process error is not detected  reprocessing could take up to 1 hours; whereas running the program required less than 1 minutes. 
  the advisor was always available  even during the night shift. process engineers like to sleep at night. 
  the hardware emitted less particles than an engineer and could be installed in the clean room where it was convenient and available. 
  the hardware cost was less than $1; cheaper than a full-time engineer. 
   some of the needs uncovered during this informal test were: 
  most users were naive computer users. the interface must eliminate most typing and make correcting errors easy when typing is needed. we dealt with this in the next version by extensively using popup menus and customized softkeys  eliminating most typing. where typing was still needed  customized editor modes were designed that limited the number of ways a user could get into trouble. 
  questions asked by the advisor used jargon to de-scribe wafer defects. menu items could easily be misinterpreted. we dealt with this terminology problem by adding alternate definitions for defects and collected photographs to illustrate defects. by showing a photograph of the defect we were trying to describe  we avoided misinterpretation of the text. 
  experienced users were frustrated having to answer questions about visual symptoms when they knew a high-power inspection was needed. we accomodated them by structuring the menus to have default answers that provided an express-lane to more detailed inspection. 
  despite our attempt to make the problem-solving knowledge generic  most fabrication lines will want to customize for local practice. domain experts  with training from us  can now edit the knowledge base using a sophisticated set of browsing tools that do not require knowing the syntax of either hp-rl or lisp. 
  the program's problem-solving ability was inade-quately tested. measuring this ability was difficult since the research processes were continually modified. 
   primarily because of the last point  we have started an extensive field test on a production line to more fairly and completely test it in its target environment than could be done in a research facility. this evaluation consists of an in vivo use of the program on a negative resist fabrication line  a user survey  and a comparison of key process statistics using before and after data. 
   the user survey has two parts. the first is administered with each consultation. here we are trying to ascertain the program's accuracy and obtain detailed comments about the wording on menus  of advice  etc. the second survey is administered every month to collect more general comments about the friendliness and usefulness of the system. 
   statistics measuring process performance include yield histories  rework rates  process hold times  and equipment downtime. many of these are collected automatically by existing process management software. thus  a large database of data on past performance of the process line exists. in cases where the necessary data is not logged by existing software  the advisor automatically collects it so that it can be compared with manually reconstructed past data. 
conclusions 
developing the photolithography advisor has been a useful experiment in building an industrial strength expert system. as with other such systems  the experiment may never be completely finished  but some valuable insights about the process have already been gained. 
   we have found that people not trained in ai can quickly learn to modify an expert system in their domain of expertise if given the right tools. but we have also found that they are limited if they are not an experienced ai programmer. 
   domain experts tend to introspect about their problemsolving strategies in terms of plans. even simple planning constructs are useful in helping them articulate their expertise. 
   building an expert system has much in common with other types of software engineering. the programming paradigm is different  but experimentation  iteration  and testing are as important here as in other types of programming. 
   meta-level rules can be useful initially to capture an expert's problem-solving heuristics. once the problem is better understood  however  they can usually be replaced by specific object-level rules that solve the problem much better  and more efficiently . 
   experts disagree. it helps to sample a lot of them. in our application  many problems can be solved several ways. which solution is used often depends on personal preference or on established local procedures. vocabulary can also be a problem. different people will call the same thing by different names. this problem becomes acute when trying to design the user interface. 
   we are enhancing the advisor in several ways. the know ledge-base is now being extended to include positive resist processes  which are gaining popularity for fabricating smaller patterns on wafers. the user interface is being redesigned to better reflect our model of the program as a team of cooperating specialists using graphics  animation  and video display media. the problem-solving strategy used by the program is really quite generic to a wide variety of fault-diagnosis problems important to us. we are restructuring the knowledge representation to better separate the problem-solving knowledge  and control  from the domain-specific knowledge so that a fault-diagnosis shell can be extracted. 
	t.ciineetal. 	1 
acknowledgements 
christopher clare  david liu  and wayne pratt served as domain experts for the first prototype advisor. douglas lanam programmed much of this version. mike walker helped program the current version and pat pandolfi designed the surveys being used in the evaluation and is editing the video slide database. the trc photolithography team headed by jeff hintzke created and photographed many of the defect photographs. the work described here was made possible by the support and cooperative environment provided by the management of the application technology and technology research centers of the hewlettpackard company. 
