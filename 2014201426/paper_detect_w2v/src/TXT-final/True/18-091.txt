 
a structure built from parts will not fit perfectly. the amount of uncertainty in the relative positions of the parts can be predicted from the dimensions of the mated parts and their tolerances. the tolerances and sizes of the parts' features are analysed for each possible contact in turn to find constraints on the part positions. the combined effect of these constraints is then found allowing decisions to be made on whether the parts fit satisfactorily. applications include tolerance checking during design and off-line programming of robot assembly. 
1 introduction 
     design specificati ons of mechanical parts usually include tolera nces. a tolerance is a variation in a dimension or a statement about how well formed a surface mu st be. since the shape of the parts is not exactly known it is difficult to know whether they wi 1 always f i t properly. during design it must be verified that the parts of the structure never i nterfere and never fit too loosely. similar questi ons also arise in off-line programming of robot ass embly. 
     this paper describes a system to analyse a structure of toleranced parts. a real part which has been manufactured to the tolerance specification will be called an  instance  of the part. the system finds whether the parts will ever interfere or if they ever fit too loosely. it takes into account that some instances of the parts fit more tightly than others. 

diagram 1 
     diagram 1 shows a problem that would be solvable by the system. each dimension and angle shown in the diagram would have a tolerance. the system could find whether the spigot and peg would always be able to f i t as shown and also how much slop could occur. at the present time  april '1 j a system has been built that will solve the problem though ignoring tolerances. the inclusion of tolerance analysis is in progress. 
     a part is defined as a set of features which are simple geometric surfaces such as finite planes or cylinders. the boundary of each feature is known. a structure is defined by the contacts that can occur between pairs of features. each possible contact between features is referred to 
as a relationship. similar representations of parts and structures are used in the off-line robot programming system  rapt  designed in the department of artificial intelligence at edinburgh 
university . rapt makes inferences over the relationships to find the actual positions of the parts. its results do not take into account poorly fitting parts or imperfectly formed parts but  in the work presented here  its results are used as nominal positions of the parts. 
     each relationship puts constraints on the possible positions of the parts involved. the constraints are combined and propagated so that the possible positions of one part with respect to any other can be found. 
     other work has dealt with the propagation and build up of uncertainties. brooks  l  propagates uncertainties in the form of inequality constraints through a robot plan and verifies that required conditions hold. taylor  derives constraints on the possible positions of parts from the relationships between their features and propagates these through a structure of parts. much work on robot planning has assumed the presence of uncertainty information  1 1 . discussions on the suitability of a given tolerance scheme for a single part may be found in  1 1 . there is a considerable body of knowledge and tradition involved in tolerancing and the standards used may be found in . requicha  1  has formalised and generalised standard tolerancing practice to produce representations of tolerance types which are useful for deciding how toleranced parts interact. 


1 a. fleming 


intersection of the 1ets of possible positions allowable by the individual relationships. the set of allowable positions is described by the conjunction of the constraints from the individual relationships. however  initially each set of constraints applies at a different coordinate system. there is an algorithm that changes the form of a set of inequalities to make them applicable to a different coordinate system. 
     before combining relationships between two parts the build up of position tolerances between the features must be found. one of these is made a  master  relative to which the variation in position of the other features is found. b. propagating constraints. 
     constraints can propagate along a chain of parts and relationships. for example  in diagram 1  we may be interested in constraints on part 1 with respect to part 1. there is an algorithm to deal with the general case analytically. 
     there may be position tolerances linking the ends of part 1. the variation in position of one end with respect to the other must be found before propagation can be applied. 

where l u t and s are numbers and dof is a degree of freedom variable.  there may also be terms involving the angular dof-variables in the first of these inequalities.j although  initially there may be more than one such set of inequalities for each dof they can easily be reduced to one set. 
     the values of l u t and s give useful information. for example  t represents the maximum tightness that could occur in any instance of the structure for that degree of freedom. if t 1 then the darts will sometimes not f i t . s represents the maximum possible sloppiness and l and u represent the extremes of displacement that could occur in any instance of the structure. 
	a.fleming 	1 
vi conclusion 
     this paper describes a system to analyse slop in a structure of toleranced parts. there are two stages of reasoning. firstly constraints are found from each relationship. the existence of tolerances introduces variables and constraints not required for nominal parts. secondly the constraints are combined and propagated to find the possible relative positions of two parts. 
