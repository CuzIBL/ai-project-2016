representation of actions 
that have side-effects 
n.s. sridharan and f. hawrusik 
rutgers university 
new brunswick  nj 1 
　　　systems that reason about actions  whether they do plan generation  or plan recognition  t y p i c a l l y model the effects of actions that occur in a plan. simple declarative schemata allow the specification of assertions to be added/deleted to model the primary effects of actions. side-effects of actions are those that are conditional on properties of the state in which the action is taken. when representing actions which have side-effects  conventional wisdom suggests adopting a procedural representation for they allow detailed specification of side-effects. however the procedural representation hides this knowledge from other parts of the system  thereby hindering the system in reasoning about side-effects. we use a strips l i k e declarative schema for actions that has parameters  preconditions  assertional forms for goal and outcomes and investigate three methods of representing knowledge about side-effects and discuss how the system computes side-effects without running into severe combinatorics. the following discussion and examples deal with knowledge representation as implemented in the aimds system which forms the ai framework for the believer 
project. 
examples 
consider a normal input of the form 
 john walked from the o f f i c e to the bus station  interpreted in a world model where  john is at the o f f i c e   is true. the conclusions drawn include  john is at the bus s t a t i o n   . this can be handled using an act schema with three variables p  fl and tl as shown below. 
 each walk act has 
 agent  a person  refer: p     fromloc  a location  refer: fl     toloc  a location  refer: tl     goal  proposition  p loc tl     precond  proposition  p loc fl     we have extended the interpreter to deal with some simple cases of p a r t i a l act instance descriptions and incomplete world models. the incomplete description  john walked to the bus station  can be f i l l e d in using the world model  so that the system now can conclude  john walked from the o f f i c e   . similarly  if in the world model  john's location is unknown  then from the normal input  john walked from the o f f i c e to the bus station  the system concludes  john was at the office before walking to the bus s t a t i o n   . dealing with side-effects requires additional knowledge. for example  consider the world model  john is at the o f f i c e ; john is holding a package; the package is at the o f f i c e   . to update the world model properly  the location of the package must be changed to the same location as john. 
　　　we explain three methods in which this knowledge about side-effects is represented. 
 a  conditional outcomes: we associate with the walk schema a set of conditional outcomes which include 
 p inhand 1  =   1 loc tl  
with the interpretation  wh en the person p walks to tl and has in h and an object 1  the object o s h i f t s loca tion to tl . the interpreter that upda tes the world model then accounts for these conditional outcomes by testing each l e f t side and effecting the changes prescribed in the right side. if the user attempts to be as complete as possible in writing down conditional sentences  he risks the pos s i b i l i t y that most of these would be i r r e levant to any particular instantiation of an act and the p o s s i b i l i t y that he might have missed some situations  furthermore  the system is l i a b l e to wa ste e f f o r t in testing a combinatorially prohibitive number of conditional sen tences. if a relevant conditional senten ce is missing the system has no way o f recognizing this to prompt the user. 
 b  consistency conditions on the wor 1 d model! the discipline of stating consistency conditions on the world model introduced in  provides a second representation. a causal dependency of the physical world may be captured by writing a consistency condition such as  
for person p and object 1   p inhand 1       loeof p  =  loeof o   
knowledge repr.  	srdharan 
1 which is associated with the relation  inhand . this is deceptively similar to the conditional sentence shown in  a  but an important difference is that here it is not knowledge associated with walk. when  john has in hand the package  is i n i t i a l l y put into the world model  the system checks this consistency condition and makes note of 
the depdendency of t h i s assertion on the two supporting assertions  john is at the o f f i c e   and  the package is at the o f f i c e   . when changing john's location as a result of the walk act  the system recognizes that the support for  john has in hand the package  is being changed. at t h i s point the system retrieves s i d e - e f f e c t rules for updating  inhand  when  loc  is changed. this side e f f e c t rule specifies that the location of the package changes and that the person s t i l l has the object in hand. 
       it is worth n o t i n g t h a t w i t h a clean f a c t o r i n g out of causal dependency knowledge    i   the system performs reduced search as a r e s u l t of having precomputed the dependency between a s s e r t i o n s in the w o r l d model; and   i i   if a s i d e - e f f e c t r u l e is missing the system prompts the user for an a p p r o p r i a t e r u l e   p e r m i t t i n g knowledge a c q u i s i t i o n i n c o n t e x t ; and   i i i   the a b i l i t y t o f o l l o w causal dependencies i s u s e f u l  sophie  in answering  what i f . .   q u e s t i o n s where a counter f a c t u a l denies a f a c t in the world model and is not a r e s u l t of any s p e c i f i c a c t i o n t h a t the system knows about. 
 c  frames of reference: although the method th  reduces the c o m b i n a t o r i c s of s i m u l a t i n g a s i n g l e a c t i o n and makes the system more r o b u s t   it r e q u i r e s a p a i n s t a k i n g updating of the world model each time a s i m i l a r a c t i o n o c c u r s . for example  if john walks to s e v e r a l places in succession h o l d i n g the package we want the system to save e f f o r t in updating the l o c a t i o n of the package f o r each a c t . we i n t r o d u c e the n o t i o n of a 
frame of r e f e r e n c e whereby at the time john is said to have the package in hand  the l o c a t i o n of the package is changed from  package loc o f f i c e   to  package loc   l o c o f john   where   l o c o f john  r e f e r s to j o h n ' s l o c a t i o n in the c u r r e n t w o r l d model. the a c t u a l l o c a t i o n of the package w i l l be computed when needed from i t s frame of r e f e r e n c e 
- the c u r r e n t l o c a t i o n of john. the walk schema g i v e n before can be used in the usual manner to update o n l y j o h n ' s l o c a t i o n and computation of the s i d e - e f f e c t i s c a r r i e d out i m p l i c i t l y   and no e f f o r t is spent on t h i s w h i l e updating the w o r l d model. the p r o c e d u r a l attachments a v a i l a b l e i n the aimds system p r o v i d e a convenient mechanism for e f f e c t i n g such i m p l i c i t s i d e - e f f e c t s . we use one procedure attached t o   i n h a n d   t o s h i f t the o b j e c t ' s l o c a t i o n to the frame of reference of the person when  a inhand 1  is a s s e r t e d ; and another procedure attached to   i n h a n d   gets a c t i v a t e d when  a inhand 1  is removed and the a c t i v a t e d procedure removes the o b j e c t from i t s frame of r e f e r e n c e and a s s e r t s a n e x p l i c i t l o c a t i o n f o r i t . 
       thus w h i l e updating the w o r l d model f o r any one of a s e r i e s of walk acts there is no e x p l i c i t computation of s i d e - e f f e c t s . yet a f t e r these l o c a t i o n t r a n s f e r s   the system determines the l o c a t i o n of the o b j e c t w i t h ease. when john drops the package i n t o a m a i l b o x   the second procedure a s s e r t s t h a t the package is now in the mailbox and john can walk away f r e e l y . this method is s i m i l a r t o the f a m i l i a r technique o f r e t a i n i n g o n l y   p r i m i t i v e   a s s e r t i o n s i n the world model and computing a l l   d e r i v e d   a s s e r t i o n s whenever needed. however  the method presented is s e l e c t i v e so t h a t d e r i v e d a s s e r t i o n s not changed by an a c t i o n are r e t a i n e d and need not be r e d e r i v e d . 
s i g n i f i c a n c e 
       we have presented three methods which complement each other  each suited well to a p a r t i c u l a r task. method  a  makes e x p l i c i t the s i d e - e f f e c t s   permitting reasoninq about s i d e - e f f e c t s ; method  b  allows extending the action set and f a c i l i t a t e s the a c q u i s i t i o n of s i d e - e f f e c t rules; and method  c  seems well suited for actually simulating the effects of an a c t i o n . a topic of further research is into means for automatic re-representation of s i d e - e f f e c t knowledge from one form into another  especially from method  b  into method  a  and method   c   . 
