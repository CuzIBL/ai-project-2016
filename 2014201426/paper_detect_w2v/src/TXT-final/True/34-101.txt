 

　　　this paper describes an approach to the recognition of real-world objects such as books or a telephone on a desk. the system consists of  l  edge finding process which extracts edges of curved objects from light intensity data   1  segmentation of the edges into straight lines or elliptic curves   1  recognition of objects by matching the liner  to the models  and  1  simple supervisor. the module  1    1  and   1  interact with each other through a simple supervisor so that the system can locate given objects quicklyfirst  most reliable edges are found and segmented  and then recognition i r. attempted using segmented lines. if recognition is not successful  less reliable edges are searched for  arid recognition is retried. an example of locating a lamp  a book stand and a telephone is shown. 
1. introduction 

　　　this paper describes an approach to the recognition of real-world objects such as books or a telephone on a desk. scene analysis could be divided into two modules:  1  extraction of features and     recognition of objects based on the features. it is often pointed out that the two modules should not be simply connected serially  but should interact with each other to achieve reliable recognition . 
　　　the author made an attempt to recognise polyhedra by those two modules i.e. a line finder 
and a line proposer    . there have been many works on model-driven recognition of polyhedra  1  1 . however  it is not easy to make these two modules capable of recognizing curved objects. the difficult problem is to determine what features are useful for recognition and how to interpret  the extracted features. 
　　　there have been some works on description of curved objects using range data  1 1 - garvey and tenenbaum  made an experiment for locating objects in office scenes using range and color data. the work presented here uses only light 
intensity data  because it can easily be obtained and stored  which makes i t practical to approximate unknown scenes at first. 
　　　features of objects to be extracted for recogn ition depend on the objects. for outdoor scenes  regions of uniform color might be good clues for recognition of the sky  fields  lakes and so on  1 . for example  a large blue region at an upper part of a scene might be the sky. for office scenes composed of known objects   color and range of the each point in the scene might be enough to locate the table top or the door candidates. 
　　　on the other hand  recognition of every day objects on the desk using only light intensity data requires more complex features. there is less constraint on the configuration of objects on the desk than those in the outdoor scenes. iaght intensity of a point in the unknown desk scene alone can not suggest any meaningful facts. it might be necessary to look at the change of light intensity and the relation with other parts of the scene. 
　　　there have been many works on feature extraction of complex scenes  1   but few works have recognized the scenes  using these features. while  many papers assuming picture primitives  have dealt with the symbolic primitives to recognize complex objects. there have been few works on recognition of complex objects using raw light intensity data. 
　　　the author has proposed local features and global features of curved objects for analysis of real-world scenes   l     . the local features represent the types of 1ight intensity change and the global ones are the connected local features of the same type. if the curved object has uniform surfaces  the global features correspond to the edges of the plane o r curved surfaces. 
　　　tsuji  made a linguistic approach to segmentation of curved object scenes into regions using picture primitives similar to the local features described above. it consists of hier-
archical modules  each of which compresses the input data to finally obtain the plane and curved regions. the problem with the method is that it must completely analyze the whole scene before it extract '  some useful facts about a scene. this paper is a further extension o f   1   and describes a total system. the system consists of  1  edge finding   1   segmentation of the edges into straight lines or elliptic curves    1   recognition of objects by matching the lines to the models   or by usirig the raw data i f necessary  and  1   top level supervising. the module  1    1  and   1  are control led by a simple superv i sor to interact with each other so that dependi ng on the situation  the system can locate given ob lerts quickly or analyze the whole scene. the module     and     are easily controlled by a set of global parameters such as reliability level  minimum curvature   spatial resolution   etc . they are applicable to various objects. the module  1  which has at present less generality is described 
briefly in this paper. 
p. edge finding 

 .l. edge point detection 
　　　an edge of an object surface is defined here as a series of smoothly connected edge points. many operators for edge point extraction have been proposed  1 1 . the two operators  twodimensional and one-dimensional  described here are designed to detect edge points of planes and smoothly curved surfaces. the operators extract discontinuity of both the light intensity and its gradient. if the direction of the edge is unknown  two-dimensional operator is used to compute the direction of the gradient  otherwise a onedimensional operator detects the edge point qui ckly. 
1 　　　the former operator makes use of the gradient computed by a conventional method  1 one of three regions shown in fig. 1 in used to get the gradient at the center element. the gradi ent value d and the direction a for mode 1 are defined by light intensity of the neighboring points i i  as 

 c1   meanr  that the light intensity at an edge must change.  c1  means that the neighbor of an edge in direction a must have a different light intensity change from that at the edge. usually if  c   holds for both i1 and ip o  then the edge corresponds to the boundary between two planes. if only one side of the edge  i 1 or i 1  satisfies  c    it corresponds to an edge of a curved surface. fdgr points extracted by   ci   and  c   are sometimes broad along an edge of a surface. in checking  c    even if some i   is found at one side of the edge   xq yrj  is considered as a transient point if for some i  at the other side  

　　　the edge point  is classified into three categories:  1  type b which satisfies  c1  for both i  1 and io 1      type l which satisfies  c   for only i  1   and  1  type r which satisfies  c   for only i 1. fig.   shows an example of the edge point extracted by this operator. 
　　　the one-dimensional operator is used if the direction of the edge is predicted. it assumes that the direction of the gradient a at the neighboring points is perpendicular to the predicted edge direction. this operator detects an edge point using an intensity profile of the picture elements on the line centered at the point in the direction a  and classifies it into the three categories in the similar way described above. 
1. . edge finding program 
　　　fig. 1 shows a simplified flow of the edge finding program. the program has two main tasks: l  find an edge kernel above a given reliability level  and p  track along the edge starting from the kernel. 
　　　the edge kernel i s a set of edge points of the same cateogry which have similar gradient directions. a kernel finder first detects an edge point using the two-dimensional oeprator described above  and detects other edge points along the estimated direction of the edge which is perpendicular to the gradient direction of the first point. if enough edge points are found  the edge kernel is classified into three categories  b  l and r  based on the types of the edge points. the reliability level corresponds to the threshold of the gradient  dt  in  c1  for the edge point detector. 
　　　a reference map is used to speed up the kernel finding. the original picture is divided into rectangular regions  e.g. 1 picture elements  and the map contains an approximate gradient value of the each region. the kernel finder searches for an edge point in the regions corresponding to the points in the map with larger values than a given reliability value. after an edge kernel is searched for in the candidate region  the corresponding point in the reference map is updated in order to give an accurate value or to avoid the repetition in the later search. 
　　　the kernel thus found is extended in both directions by tracking the edge. the purpose of the tracking is to obtain a smoothly curved edge which consists of the edge points of the same type. intuitively the smooth curve means that it is continuous and the tangent direction does not change abruptly. the type and the current parameters of the edge such as the position xc.   di rection 1c and gradient value dc are initially given by the kernel finder. the current parameters are updated as the tracking goes on. the main steps of the tracking at one cycle are 

　　　the prediction of the edge point p at n-th cycle is based on the current edge position x and the direction bn as shown in fig. u. the distance ♀ between xj  and pn is one of the parameters of the edge fi nder which determines the mi nimum curvature of the edge tracker. when a proper edge point en is found  xp+1 is advanced on the li ne passing 
through x♀ and fn   and b♀+  in updated as shown in fig. h. if the predicted position of the edge is regarded as being on the other edge already found  or on the other end of the same edge  the tracking terminates. for this check  a binary map of the edges is used. when the edge point en is found  the map is updated at the point corresponding to en m ra depends on ♀ described above  and its two neighbors in the direction perpendicular to 1n m. 
　　　in step    the one-dimensional operator is used to find an edge point of the same type near the predicted position. the direction of the gradient of the edge point is assumed here to be perpendicular to the current direction of the edge. if the gradient value of the detected edge point is close to dc  it is determined as an extension of the edge. if no such points are found  a back up routine determines whether or not to stop tracking as follows. 
a  if step 1 is the first attempt of the edge point finding  a different gradient direction is proposed to find a proper edge point again  
	and go to step 	1. 
b  if an edge point is found in the previous cycle  then insert a siinulated edge point at the predicted position and go to step 1-
1 c  othervi se  stop tracki ng. 
　　　the purpose of the back up is to avoid the effects of a small texture of an object  various kinds of noise and digitization of directions. 
　　　when the tracking i n both directions terminates  each end of the edge is checked to connect to the other edges already found. if the tracking stopped at the other edge of the same type and the both edge can be connected smoothly  they are merged. 
　　　fig. 1 shows an example of the edge finding. usually  edge finding is repeated over the picture  each time changing the reliability to a lower level the tracking of a less reliable edge can be blocked by more reliable edges which cross to i t . 
1- segmentation of edges 

　　　each edge obtained by the edge finder is represented by a set of smoothly connected points. tfce segmentation of edges is to describe them by several parameters useful for recognition. 
　　　tfcere have been many works on the mathematical approximation of curves by polygonal lines  . piecewise polynomial functions or spline functions . they defined an error norm and attempted to find an optimal solution. however  these are not easily applied to the description of the complex scenes. 
　　　in this paper  straight lines and elliptic curves are used to describe the edge curves. the segmentation of the each edge is divided into two parts:  l  segment the edge into lines and curves  and     approximate each segment by a straight line or an elliptic curve. 
　　　fig. 1 a  illustrates the purpose of the first part  i.e. to divide the edge af into five segments  ab  bc ... ef . the method is a heuristic one which maker  use of the curvature of the edge as described in   i.e. the curvature of an edge point f is defined as the angle 1 between pr and pq  where q and r are on the edge and constant number  m   of points away from p . thus  the curvature of af is defined on the interval between a* and f' as in fig. 1 b  which is ir  points inside of af. the main steps of the method are 
1. find the candidates of the knots of the edge. 
 . classify temporary segments into straight lines or curves. 
1. merge segments if possible  and determine the positions of the knots. 
　　　first  to locate the knots where the direction of the edge changes abruptly  the regions are found which have large curvatures. the candidate regions of the knots are illustrated in fig. 1 b  as intervals  li rj . the interval is defined with the curvature 1 p  as follows. let fij x denote the maximum of |1 p | in  li ri   then the interval satisfies the following conditions. 

the intervals may contain either real knots or curved segments. if the interval is short  it is regarded as a real knot  region  otherwise a curved segment. new knots are inserted at the ends of curved segments. now the temporary segments are defined an the intervals between the knot candidate 

curved segments. if sums of the curvatures s1 and s 1 of the adjacent segments and that of the knots are a l l similar  then the segments are merged into one segment. this procedure i s repeated until no more merge is applied. small segments of a smooth curve created in the step 1 because of the effect of noise or digi tizati on  might be merged here. the position of each knot is determined now accurately as the border of the adjacent segments. 
     the second part of the segmentation fits a straight line or curve to a set of edge points  xi   yi   i=l 1 ... n  in each segment. conventional methods of least squares assume that only y  is accompanied with error. but the position of each edge point has error of both xj and yj . the deming's method  l＜  is employed to find the parameters of the curve which minimize the sum of square of the di stance from the curve to earn point. 
     let the equation of the curve v i t h m parameters be denoted by f x y; a   a♀  . . .  at!1  = 1  then the method  starting from the approximated parameters  estimates better parameters iteratively until they converges within a given error ratio. the initial parameters are given by an appropriate number of edge points which are sampled from the 
segment. if the segment is classified into a curved line  an elliptic curve is at f i r s t tried to be f i t t e d to i t . the parameters are the center pos i t i o n   major and minor axes and rotation. if the parameters do not converge in the iteration  the number of the parameters is decreased. fig. 1 shows an example of the results of the segmentation and curve f i t t i n g . 
k. recongnition 
     a strategy of recognizing an object in a scene depends on how much information is already known. if a desk area is known  the fastest way to locate a telephone is to search in the l e f t front part of the area  and if a dial of the telephone in found  recognition of the receiver is easy. the best way to analyze the whole scene is to start from the most obvious object first  and proceed to the next obvious object making use of the previous facts. to locate a given object  however  the best way might be to try to find it f i r s t . if it f a i l s   the other object might be tried which could help to locate the given object. 
     we have been taking multiple approaches to recognition of objects. one is matching models of 

1 

objects described by the graphs to a scene ** . now a scene is described by the equations and types of the edges. models of an object are two-dimensional and represent i t s views from typical d i rections. because a scene is represented by straight lines and e l l i p t i c curves  usually a few models are enough for an object. however  this method can not discriminate shapes which are sensitive to rotation  such as a circle from an ellipse. each model is described by the edges and their relations. for analysis of a scene of multiple objects occluding one another  matching of subgraphs is required. an algorithm which extracts maximal 
common subgraphs between two colored graphs has been developed   1l. scenes of simple objects such as blocks  cylinders and spheres are recognized by the graph matching technique. the method can easily add new models of objects by declaring their descriptions. there are  however  many difficulties in recognition of complex objects  e.g. description of models and efficient matching procedure. the graph matching could be used as a part of recogni tion procedure. 
     another approach is a procedural one  i.e. to provide with a procedure for recognition of each object. for recognition of a telephone  for example  the procedure is first to search for the d i a l   and then to find the contour of the telephone around the dial. the candidates of the dial is easily found by examining the equations of the curved edges. the telephone contour is searched for in a certain region around each dial candidates using a map of the edges. serially connected lines or curves which surround the dial are identified as the contour. if enough proof is obtained  the recognition is successful. if proof is not sufficient or many candidates of a telephone are found  further i river  ti gati on is requi red which mi ght ask 
more edges or check the inside of the dial. sometimes the investigation requires a facility for v.ooming-up a scene although this feedback loop has not at present been implemented. 
     a simplified organization of the present syste.ti li-  uhown in fig. 1. given a set of object names  the supervisor asks the edge finder to get edges. if enough number of edge points or edges are found  then the edges are segmented. otherwi se   the supervi sor changes parameters of edge findi ng and more edges are searched for. the rerognition consists of subroutines for the given objects. tf not al1 the objects are recognized success f u l l y   the supervisor asks the edge finder again to collect more edges. 
     fig. 1 shows an example of locating a lamp  a book stand and a telephone. recognition of a telephone is as described above. to locate a lamp  a lamp shade i s searched for first as edges of a 
     bright s t r i p region of an allowable dimension  and then the trunk is searched for by finding a pair of parallei vertical edges whose direetions are opposite. a book stand is located by finding a set of vertical lines clustered in a certain region. the computing time for locating the three objects using 
a picture  1 b i t level  1 points  stored in 
the disk is about h minutes. more than half of the time is spent for finding edges. 
     on the other hand  in order to recognize as many objects in a scene as possible  the edge finder is given parameters of low r e l i a b i l i t y level to get many edges. even if recognition of some objects is not successful  edge fi nding can not be retried in this case. an experiment is mode tor the same scene as in fig. 1 in this manner  thf; 
upper bound of edge number  to  is determined by the storage limitation of the computer. although the same objects are successfully located  the computing time for finding edges is more than twice of the above example  fig. 1 . this shows that in order to locate given objects  the system organization in fig. 1 is efficient. 
conclusions 

　　　an approach to the recognition of real-world objects using light intensity data has been described. the recognition is mainly based on the edges of curved objects. the edge is a set of smoothly connected edge points where light intensity o r its gradient changes abruptly. the edges are segmented into straight linen or elliptic curves so that they are easily matched to the models of objects. recognition of complex objects with a simple matching procedure has been successful . 
　　　the method proposed in this paper would be applicable to recognition of every day objects which are identified by the edges of straight linen or ellpti e curves. further research is requi red to check on doubtful objects by zooming up the regions of interest in the scene. the other objective to be studied is an efficient way of making many models of complex objects. 
