foul-up 
   a program that f i g u r e s out meanings of words from context 
richard h. granger  j r . 
department of computer science 
	yale 	u n i v e r s i t y 
new haven  connecticut 1 
       the inferencing task of f i g u r i n g out words from context is implemented in the presence of a large database of world knowledge. the program does not r e q u i r e i n t e r a c t i o n with the user  but r a t h e r uses i n t e r n a l parser expectations and knowledge embodied in s c r i p t s to f i g u r e out l i k e l y d e f i n i t i o n s f o r unknown words  and to create c o n t e x t - s p e c i f i c d e f i n i t i o n s for such words. 
introduction 
        i woke up yesterday  turned off my alarm c l o c k   took a shower  and cooked myself two grimps f o r b r e a k f a s t .   what's a grimp  on the basis of t h i s one s t o r y   it c a n ' t be determined. it seems  however  that a grimp must be some sort of food  in order for it to make sense in the context of the s t o r y . the f a c t that a grimp is a physical o b j e c t   and thus a noun  is such a natu r a l inference that it is taken for granted. the process by which these conclusions about  grimps  are a r r i v e d at is commonly c a l l e d   f i g u r i n g out a 
       word from context . this process is modelled by the foul-up program. foul-up enables the sam system  see schank et a l   1  to read s t o r i e s such as the above  and to make an educated guess as to what a  grimp  should be. the methods employed by foul-up are based on i n t u i t i o n s about how the analogous tasks are performed by people. thus i t s a b i l i t i e s and l i m i t a t i o n s should r e f l e c t those of people. foul-up provides the f o l l o w i n g purely p r a c t i c a l assets to sam:  1  it allows reading of unedited newspaper s t o r i e s   which t y p i c a l l y assume a l a r g e vocabulary  and  1  it creates d i c t i o n a r y d e f i n i t i o n s f o r unknown words  which would otherwise have to be done by hand for every word in sam's d i c t i o n a r y . other n a t u r a l language-based systems have attempted to allow f o r the occurance of unknown words during understanding   see woods & kaplan  1  and winograd  1   but these usually involve having the user aid the system in d e f i n i n g the unknown word. foul-up acts independently of the user  taking i t s i n f o r m a t i o n e n t i r e l y from the i n t e r n a l representation of knowledge that e x i s t s in the sam system. 

       this work was supported in part by the advanced research projects agency of the department of defense and monitored under the o f f i c e of nav a l research under c o n t r a c t n1-c-1. 
background: the sam system 
1. 	overview of sam 
       foul-up was designed as an i n t e g r a l part of the sam system  so any discussion of i t s performance w i l l involve some knowledge of sam i t s e l f . the sam system e x i s t s as three main modu l e s   eli  english language i n t e r p r e t e r     tok  tokenizer  and apply  script a p p l i e r   . every input sentence is f i r s t parsed by eli i n t o a conceptual dependency  cd  representation of the sentence. then tok incorporates s p e c i f i c objects i n t o memory p o i n t e r s   f o r use in disambiguating l a t e r anaphoric references. f i n a l l y   apply  
which contains the s c r i p t s   attempts to match every cd i n t o the c u r r e n t l y a c t i v e s c r i p t . 
       when an undefined word l i k e  grimp  occurs in a sentence  it is eli t h a t w i l l f i r s t encount e r i t   and it w i l l   f o u l up  the normal processing p r o t o c o l   by c a l l i n g foul-up w i t h the word that caused the t r o u b l e . i d e a l l y   at t h i s point foul-up should attempt to guess the word's meaning by looking i n t o the context of the surrounding s c r i p t   e . g .  the get-up-in-the-morning s c r i p t       to see what object was expected in the p o s i t i o n that the unknown word  grimp  occurred in  see riesbeck &. schank  1 . the   p o s i t i o n   of the unknown word does not r e f e r to the surface p o s i t i o n in the. sentence  but rather the conceptual s l o t in the cd  corresponding to the unknown word's meaning. this process cannot be immediately invoked at the time of eli's f o u l - u p   f o r three reasons: 
 1  although the script has already been entered  we have not yet applyed the cd conceptualization for the current sentence into the script  so we therefore do not yet have the specific local script information that wc need to find the expected meaning of the unknown word; 
 1  eli has not yet finished i t s parse of the current sentence  so there does not yet exist a complete cd to match into the script; 
 1  since eli has not finished the parse  we do not yet know which slot of the cd w i l l be f i l l e d by the unknown word  so we could not find the corresponding slot in the script  even if we could match the cd into the script. 
       foul-up could  of course  attempt to complete the cd by i t s e l f   use eli's expectations to find the correct slot for the unknown word  match the cd into the s c r i p t   and thus guess a possible 
meaning for the word. however  with a few modifications  the normal operation of the sam system w i l l do a l l this for us. thus foul-up makes a note of the current eli expectations for future reference  and then proceeds to pass back a  place-holder  for eli to use in constructing the current cd. this place-holder is so constructed as to satisfy any current eli expectation  so when control returns to eli  it w i l l automatically put this place-holder into the slot that the unknown word belongs i n . the expectations that eli has for such incoming words consist of both syntactic and semantic rules. thus eli ex-

natural 	lanjuiake-1: 	grander 
1 

pects the incoming word to be a noun  and a pp     p i c t u r e producer    see schank  1 . a l l of e l i ' s expectations are such that the expected word w i l l f i t a p p r o p r i a t e l y i n t o the sentence i n which it appears. eli is not capable of ensuring t h a t the word w i l l f i t a p p r o p r i a t e l y i n t o the s t o r y   or any other context l a r g e r than a sentence. it is the s c r i p t a p p l i e r  apply  that checks l a r g e r c o n t e x t s   s p e c i f i c a l l y   the s c r i p t context of the s t o r y . we w i l l c a l l e l i ' s expect a t i o n s   i n t r a - s e n t e n c e   e x p e c t a t i o n s   w h i l e apply's are c a l l e d   i n t e r - s e n t e n c e   e x p e c t a t i o n s . 
1. 	s c r i p t context 
       once c o n t r o l has been thus returned to e l i   and it has incorporated the place-holder i n t o the cd  then c o n t r o l continues through the r e s t of the system as though the f o u l - u p had not occurr e d . meanwhile  foul-up has n o t i f i e d the system t h a t a place-holder e x i s t s in the c u r r e n t cd  so t h a t it can be handled by each module c o r r e c t l y . thus tok is able to tokenize the place-holder c o r r e c t l y   and then apply is c a l l e d . apply now has a cd c o n t a i n i n g a place-holder to attempt to match i n t o the s c r i p t . it performs a p a r t i a l p a t t e r n - m a t c h   a l l o w i n g f o r the existence of the p l a c e - h o l d e r   and noting which s c r i p t - s l o t c o r responds to the place-holder s l o t in the cd. 
       a t t h i s p o i n t i n the processing  a l l three of the above necessary processes have been performed: a s l o t has been found f o r the unknown word  a cd has been c r e a t e d   and that cd has been matched i n t o the s c r i p t . now foul-up is c a l l e d back in by apply. since the cd has been matched i n t o the s c r i p t   there is a c o n c e p t u a l i z a t i o n in the s c r i p t which corresponds to the cd. this s c r i p t c o n c e p t u a l i z a t i o n contains a t t r i b u t e s associated w i t h each s l o t in the cd  i n c l u d i n g that of the p l a c e - h o l d e r corresponding to the unknown word. these a t t r i b u t e s are o r d i n a r i l y used to ensure that the c o n c e p t u a l i z a t i o n appearing in a given s l o t is compatible w i t h the l a r g e r context surrounding that s l o t . thus  f o r example  i t expects to see a food as the o b j e c t of the i n strumental s c r i p t  cook  in the o p t i o n a l  makeb r e a k f a s t   scene of the  get-up-in-the-morning  s c r i p t . foul-up looks at the s l o t in the s c r i p t corresponding to the p l a c e - h o l d e r   and notes the a t t r i b u t e s associated with that s l o t . then i t compares these i n t e r - s e n t e n c e expectations w i t h the i n t r a - s e n t e n c e expectations that eli had f o r the s l o t . it combines the compatible set of a t t r i b u t e s i n t o a d i c t i o n a r y e n t r y f o r the unknown word  and w r i t e s t h i s d e f i n i t i o n onto a f i l e   c a l l e d the primer  which the parser from then on uses as p a r t of i t ' s d i c t i o n a r y . thus if the word  grimp  appears again in a s i m i l a r c o n t e x t   sam w i l l  remember  it as being a noun and a pp  and having appeared before as a food in a   b r e a k f a s t   s t o r y   s o i t w i l l s u c c e s s f u l l y f i l l the a p p r o p r i a t e s l o t in a cd  and w i l l c o r r e c t l y match i n t o the s c r i p t . 
　　　　　　operation of the foul-up program 1  annotate  run-time output 
       the f o l l o w i n g represents a c t u a l annotated run-time output of the foul-up program running c o n c u r r e n t l y w i t h the sam system. the input to the system is the simple s t o r y : 
         f r i d a y   a car swerved o f f 	route 	1. 	the car s t r u c k an e l m .   
it is given that the system knows a l l the words in the s t o r y except   e l m   . the apply module has a s c r i p t c a l l e d $vehaccident  which contains the necessary r e a l - w o r l d knowledge about v e h i c l e accidents  see c u l l i n g f o r d   1 . the f i r s t sentence in the s t o r y goes s t r a i g h t through the system w i t h o u t i n c i d e n t   since a l l the words are d e f i n e d . the major e f f e c t of the f i r s t sentence is to a c t i v a t e the s c r i p t  $vehaccident   recogn i z i n g that t h i s sentence i n d i c a t e s the beginning of an accident s t o r y . the f o l l o w i n g output comes from the processing of the second sentence. 
 el1  
the car s t r u c k an elm. 
eli has no d e f i n i t i o n for the word   e l m   . 
 foul-up  
foul-up n o t i f y i n g tok & apply of unknown word elm 
obtaining coninfo and syninfo from eli returning 	to eli w i t h bogus p l a c e - h o l d e r : 
 //bogus lexval  elm  ref  def   
foul-up has now created a place-holder f o r the unknown word. it has also stored conceptual & s y n t a c t i c expectations associated w i t h the word. these w i l l be used l a t e r   during foulup's c o n s t r u c t i o n of a d e f i n i t i o n f o r   e l m   . 
 el1  
  actor 	 //physobj type  *car*  ref  def    -  
 *propel*  object  //bogus lexval  elm  ref 
 indef    time 	 tim1   
eli creates as much of a cd from t h i s sentence as it can  i n c l u d i n g the place-holder from foul-up. a l l it r e a l l y knows i s : the actor is a c a r   and   s t r i k e   i n d i c a t e s a   p r o p e l   . 
 apply  
apply l o c a t i n g unknown pps in t o p - l e v e l tok atom bound s c r i p t v a r i a b l e :  obstruction to bogo 
apply does a p a r t i a l pattern-match  and p o i n t s out s l o t in the match which corresponds to place-holder in the c o n c e p t u a l i z a t i o n from eli 
 foul-up  
attempting to partially understand e1m eli expectations were: 
  and  or  pobj   human    np    
natural 	lan*ua*e-1: hran*er 
1 eli's expectations are looking for either a physical object or a human  and a noun phrase. these are simply intra-sentence expectations. 
apply e x p e c t a t i o n s were: 
  s c r i p t r o l e substruction 	in $vehaccident  
applys i n t e r - s e n t e n c e expectations expect t h i s s l o t f i l l e r t o play the r o l e o f s u b s t r u c t i o n i n the s c r i p t $vehaccident. now foul-up w i l l p i c k a compatible subset of these e x p e c t a t i o n s   and c o n s t r u c t a d e f i n i t i o n f o r the word   e l m   . 
foul-up guesses the f o l l o w i n g d e f i n i t i o n f o r elm: 
 prog nil 
	 defprop elm t pp  	 1  
 defprop elm *physobj* isa  
 defprop elm t noun  
	 dec elm 	 1  
	 t 	 nil   shape np   	nil 
 quote  noungroup   
	 quote 	 startnoungr       
	 deng elm 	 1  
 val  //physobj function 
	      -   	 $vehaccident 
obstruction modfocus      
 marker noun   
	this d e f i n i t i o n 	i s i n 	three p a r t s : 
 1  put the p r o p e r t i e s pp  physobj  and 
noun on the word  to f i l l eli e x p e c t a t i o n s ; 
 1  a t t a c h noun-grouper  see gershman  1 ;  1  define the conceptual s t r u c t u r e that the word w i l l b u i l d in a cd  saying that it is of the conceptual class //physobj & plays the r o l e of an o b s t r u c t i o n in a car accident s c r i p t . 
1
	- 	note: 	c o n t e x t - s p e c i f i c i t y of d e f i n i t i o n s 
       a f t e r the above run of sam  the r e s u l t i n g d i c t i o n a r y d e f i n i t i o n f o r   e l m   would become a permanent part of sam's d i c t i o n a r y . let us now take a closer look at e x a c t l y what i n f o r m a t i o n is contained i n the d e f i n i t i o n f o r   e l m   . a t t h i s p o i n t     e l m   has been defined as no more nor less than a physical o b j e c t which plays the r o l e of an o b s t r u c t i o n in an accident s c r i p t . this does not seem to r e f l e c t the true meaning of the word   e l m   at a l l   but r a t h e r seems only to embody the meaning of the s p e c i f i c use of the word in t h i s one s t o r y . most words have more than one meaning or f u n c t i o n   depending on the context they appear i n . since foul-up is given only one c o n t e x t   the s t o r y i t s e l f   it can only guess the s i n g l e meaning apropos of t h a t s i n g l e s t o r y . the reason it seems l i k e a poor d e f i n i t i o n to us is because we in f a c t have seen the word   e l m   many times bef o r e   and already have r a t h e r complete d e f i n i t i o n s f o r i t   i n many c o n t e x t s . note that i f the sample run had contained the word   b o g o s i t y   in the place of   e l m       the car s t r u c k a bog o s i t y       then foul-up's d e f i n i t i o n may s t i l l have seemed sketchy  but it would be about as much as a person could have f i g u r e d out from j u s t t h a t one exposure to the word. from the s i n g l e use of   e l m    or   b o g o s i t y     in the s t o r y   it could be defined as a t r e e   or a telephone p o l e   or one of those l a r g e orange b a r r e l s o f t e n seen by the side of the road  or any number of other t h i n g s .   i t might seem at f i r s t t h a t a  bogosi t y   could be another car  or a person  instead of an inanimate o b j e c t . it is the f i r s t sentence   a car swerved o f f route 1  that causes apply  perhaps prematurely  to p r e f e r the one-car accident t r a c k   in which bystanders and other cars play no p a r t . this t r a c k is assumed in the absence of f u r t h e r i n f o r m a t i o n .   the only concrete t h i n g we can say about a   b o g o s i t y   is the way it f u n c t i o n s in the context of the s c r i p t and story i t appears i n . that i s p r e c i s e l y the i n formation that a s c r i p t r o l e conveys in the sam system  and that is why foul-up defined  bogosi t y   in terms of a s c r i p t r o l e . in f a c t   w i t h o u t the i n t e r - s e n t e n c e expectations provided by the s c r i p t   the d e f i n i t i o n would have been even weaker. only e l i ' s i n t r a - s e n t e n c e expectations could have been used  and the d e f i n i t i o n would have simply said t h a t an   e l m    or   b o g o s i t y     was a noun and a p h y s i c a l o b j e c t . 
categories of foul-ups 
1. 	nouns 
       the foul-up program works s o l e l y on the basis of i n t r a - and i n t e r - sentence e x p e c t a t i o n s   b u i l t i n t o the parser and the s c r i p t a p p l i e r   r e s p e c t i v e l y . thus any c o n c e p t u a l i z a t i o n which can be  expected  in t h i s sense by sam should be able to be f i g u r e d out from context by the foul-up program  and foul-up should be able to use the a v a i l a b l e expectations to construct a c o n t e x t - s p e c i f i c d e f i n i t i o n f o r the word  r e gardless of i t s s y n t a c t i c or semantic c l a s s . however  the examples so f a r given have d e a l t only w i t h nouns. in t h i s s e c t i o n   foul-ups of other parts of speech w i l l be demonstrated  and it w i l l be shown why each d i f f e r e n t s y n t a c t i c 
       class presents i t s own unique d i f f i c u l t i e s to the foul-up program. 
1* 	anaphoric references 
	consider 	the 	simple s t o r y : 
        a car swerved o f f route 1. the f l i v v e r s t r u c k a t r e e .   
again  we assume a l l the words are defined but   f l i v v e r     and we assume a run of the sam system w i t h t h i s s t o r y as i n p u t . once a g a i n   the f i r s t sentence presents no d i f f i c u l t y   and serves to invoke the s c r i p t context which is necessary f o r s e t t i n g up the i n t e r - s e n t e n c e expectations t h a t foul-up uses to f i g u r e out the meaning of the word. the f l o w of c o n t r o l of the sam run of t h i s sentence would be p r a c t i c a l l y i d e n t i c a l to t h a t of the previous example. e l i ' s expectations are also s i m i l a r . however  the i n t e r - s e n t e n c e exp e c t a t i o n s from apply are of a d i f f e r e n t form than those in the previous examples. apply s t i l l 
matches the cd f o r the second sentence i n t o the $vehaccident s c r i p t   and s t i l l notes the a t t r i b utes of the s l o t in the s c r i p t c o n c e p t u a l i z a t i o n corresponding to the place-holder s l o t in the cd. those a t t r i b u t e s   however  are no longer in the form of a s c r i p t r o l e s p e c i f i c a t i o n . i n s t e a d   associated w i t h t h a t s l o t is a p o i n t e r   saying t h a t the o b j e c t in t h i s s l o t is the same o b j e c t 

natural 	larm are-1: grander 1u 

as that which appeared in the actor slot of the previous sentence. this is obvious when we note that  1  the script must know that the object that  swerves off the road  in an accident is the same as the object that later is said to   s t r i k e   something  and  1  sam as a whole has the capab i l i t y to resolve general anaphoric references. thus the second sentence in the story might have read simply   i t struck a tree   and the anaphoric reference to   i t   would be resolved as  the car  that appeared earlier. 
       when such a situation occurs  foul-up takes advantage of the pointer to the referent  and constructs a definition based on this pointer. such a d e f i n i t i o n w i l l simply duplicate the defi n i t i o n of the word that f i l l e d the pointed-to slot  since the unknown word is presumably just another reference to the same object. thus  the definition for an unknown word in this circumstance w i l l be better than the  function  d e f i nition of  elm  in the previous example. the definition w i l l not simply give the function of the word in this script context  but rather w i l l give as complete a definition as exists for the already defined word  car  which the unknown word is an anaphoric reference to. thus in this example  the d e f i n i t i o n created for   f l i v v e r   w i l l be identical to that for  car : 
 prog nil 
 defprop flivver t pp  
 defprop flivver *physobj* isa  
 defprop flivver t noun  
	 dec flivver  t 	 nil   shape np   nil 
 quote  noungroup   
	 quote 	 startnoungr      
 deng flivver  val  //physobj type  *car*     marker noun    
the  type  s p e c i f i c a t i o n in t h i s d e f i n i t i o n is a r e f e r e n c e to the e n t r y  *car*  in a general d i c t i o n a r y which d e f i n e s a t t r i b u t e s of generic obj e c t s such as c a r s   and t h e i r uses in c e r t a i n c o n t e x t s . thus a n y t h i n g that sam knows about cars it now also knows about f l i v v e r s . f u r t h e r more  i t i s l i k e l y t h a t the term   f l i v v e r   r e f e r s to a s p e c i f i c subset of a l l c a r s     e . g .   s e d a n     
  j e e p     . t h e r e f o r e   the term is saved  and foul-up gives the term to sam's generator program  see goldman  1  to use when r e f e r r i n g to the car i n t h i s s t o r y . 
1. 	verbs 
a . 	s t r u c t u r e - b u i l d e r s v s . 	s l o t - f i l l e r s 
	consider 	the 	s t o r y 
        a car swerved o f f route 1. the car hied i n t o a t r e e .   
the unknown word in the sentence      h i e d       is recognized as being a verb by eli e x p e c t a t i o n s and by the f a c t t h a t it ends in a r e g u l a r verb e n d i n g . a simple p l a c e - h o l d e r cannot be s t r a i g h t f o r w a r d l y c o n s t r u c t e d f o r the word  as was the case f o r nouns. this is because the verb in a sentence determines most of the s t r u c t u r e of the conceptual dependency r e p r e s e n t a t i o n f o r t h a t sentence.  see schank  1  and riesbeck & schank  1  e s s e n t i a l l y   the verb b u i l d s the framework o u t l i n e f o r the cd  and sets up most of the e x p e c t a t i o n s as to what w i l l come n e x t . then the nouns b u i l d s t r u c t u r e s which f i l l s l o t s i n that v e r b - f r a m e . this can be i l l u s t r a t e d by l o o k i n g at a parse of a sample sentence   john went to new y o r k   . p a r t i a l l y   k e r n e l i z e d   cd r e p r e s e n t a t i o n s f o r sentences w i l l be used f o r convenience  t o f a c i l i t a t e references t o s p e c i f i c pieces of the c o n c e p t u a l i z a t i o n . the i n t e r n a l r e p r e s e n t a t i o n s of cds in eli are e n t i r e l y   k e r n e l i z e d   i n t h i s f a s h i o n . a p a r t i a l l y k e r n e l i z e d cd f o r the above sentence f o l l o w s : 
k l : 	  actor  k1   -  	 ptrans  
object  k1  to  k1    
k1: 	 //person firstname  john   
k1: 	 //locale state 	 *ny*   
the word  went  b u i l d s the s t r u c t u r e k l   w i t h empty s l o t s in the actor  object and to p o s i t i o n s . the word  john  b u i l d s the s t r u c t u r e k1  
which simply f i l l s in the actor and object s l o t s in k l   and  new york  b u i l d s k1  which f i l l s the to s l o t in k l . although these c o n s t r u c t s may look about the same size and c o m p l e x i t y   it is in f a c t k l   the v e r b - f r a m e   which d r i v e s the parse of the r e s t of the sentence. the verb i t s e l f sets up the e x p e c t a t i o n s that a //person should l i l l the actor and object s l o t s   and t h a t a //locale should f i l l the to s l o t . then when the words  john  and  new york  b u i l d such s t r u c t u r e s   those e x p e c t a t i o n s d i c t a t e how they are incorporated i n t o the cd. by c o n t r a s t   the cd r e p r e s e n t a t i o n f o r the sentence  john hied to new y o r k     assuming the unknown word   h i e d   is i g nored  would simply be: 
k l : 	 //person firstname  john   
k1: 	 //locale state 	 *ny*   
this r e p r e s e n t a t i o n is simply an unordered bag of noun groups  l a c k i n g the s t r u c t u r e u s u a l l y i m posed upon it by the v e r b . assuming that t h i s kind of s t r u c t u r e was b u i l t in the event of a verb f o u l - u p   the l a t e r stages of processing would be q u i t e d i f f i c u l t . this unstructured bag of noun groups cannot be matched i n t o a s c r i p t   at l e a s t not by the usual methods. the foul-up program performs a f o u r - s t e p process to enable undefined verbs to be c o r r e c t l y defined in terms of the context in which they appear. 
b. 	step 1: 	a   c a t c h - a l l   verb frame 
natural 	languafce-1: nran*er 1        in the event t h a t the unknown word in a 
       sentence is a v e r b   foul-up must create a v e r b frame which is capable of expecting a l l the subsequent noun groups or other s l o t - f i l l e r s t h a t may occur. such a   c a t c h - a l l   verb frame looks l i k e the f o l l o w i n g : 
  actor  nil   -  	 nil  object  nil  to  nil  
from   n i l     time  nil   
furthermore  each of the s l o t s in t h i s cd-frame has a s s o c i a t e d w i t h it a set of e x p e c t a t i o n s t h a t w i l l accept v i r t u a l l y any conceptual class o f noun t h a t may appear. this ensures t h a t a l l words in the sentence w i l l at l e a s t be assigned some p o s i t i o n in the cd. note t h a t the r e s u l t i n g cd  b u i l t by eli and foul-up  w i l l become input to apply's p a t t e r n - m a t e h e r   when it attempts to 
match the cd i n t o the s c r i p t . thus  it is c r u c i a l t h a t the noun groups are put i n t o the c o r r e c t s l o t s w i t h i n the c o n c e p t u a l i z a t i o n   i f the cd is to be recognized c o r r e c t l y by apply's p a t t e r n - m a t c h e r . 
	step 1: 	p r e p o s i t i o n matching 
       this step c o n s i s t s of using knowledge of p r e p o s i t i o n s to t e n t a t i v e l y place nouns i n t o t h e i r a p p r o p r i a t e s l o t s . thus the p r e p o s i t i o n s to  towards  into  at expect to f i l l the to s l o t in the cd  w h i l e from  off  out expect to f i l l the from s l o t . f i n a l l y   if no p r e p o s i t i o n is p r e s e n t   the object s l o t is assumed. this heuri s t i c is dependable up to a p o i n t   but d i f f i c u l t i e s a r i s e when i d i o m a t i c uses of p r e p o s i t i o n s occur. as an example  assume the second sentence in the above s t o r y had read  the car caromed o f f 
a t r e e     where  caromed  is unknown to sam. then the c o n c e p t u a l i z a t i o n f o r   t r e e   would be put i n t o the from s l o t in the cd  by the h e u r i s t i c j u s t stated f o r the p r e p o s i t i o n   o f f   . however  t h e s c r i p t p a t t e r n w i l l b e l o o k i n g f o r the obs t r u c t i o n   t r e e   in the object s l o t   corresponding to the normal c o n s t r u c t i o n  the car s t r u c k a t r e e   . thus the p o s i t i o n of the nouns in the cd must be thought of as t e n t a t i v e   and apply w i l l o f t e n have to search more than one c o n c e p t u a l i z a t i o n before i t f i n d s the a p p r o p r i a t e match. 
d. 	step 1: 	act preference 
       the apply search can be l i m i t e d to those c o n c e p t u a l i z a t i o n s in the s c r i p t which c o n t a i n at l e a s t the same noun groups as the input concept u a l i z a t i o n   even i f t h e y ' r e not i n the c o r r e c t s l o t s . there are s t i l l l i k e l y to be two or more such p o t e n t i a l matches in the s c r i p t   which apply can not dependably decide between. thus foul-up uses an a d d i t i o n a l h e u r i s t i c to aid the search  t h a t of  act p r e f e r e n c e   . based on the p r e p o s i t i o n a l phrase t h a t appears in the sentence  t h e r e is q u i t e o f t e n a unique p r i m i t i v e act i m p l i e d   along w i t h a set of e x p e c t a t i o n s f o r the s l o t f i l l e r s . thus if we see a sentence l i k e  john hied to new y o r k     we e a s i l y i n f e r   even in the absence of a s c r i p t or other l a r g e c o n t e x t   t h a t the act in the cd f o r t h i s sentence w i l l probably be a ptrans  because of the p r e p o s i t i o n   t o   f o l l o w e d by a l o c a t i o n . the p r e p o s i t i o n a l phrases considered are those which c o n t a i n a p r e p o s i t i o n f o l l o w e d by a noun group. the sam system is a b l e to c l a s s i f y noun groups i n t o conceptual c l a s s e s   such as #physobj   p h y s i c a l o b j e c t     #person  human b e i n g     #concept  subc l a u s e     #locale   p l a c e     e t c . when c e r t a i n p r e p o s i t i o n s occur in a p r e p o s i t i o n a l phrase combined w i t h c e r t a i n conceptual classes of nouns  the p r i m i t i v e act in the sentence can o f ten be p r e d i c t e d simply from t h i s i n f o r m a t i o n . the f o l l o w i n g t a b l e is a segment of a t a b l e of such c o r r e l a t i o n s   used in foul-up to help p r e d i c t what the act in the sentence w i l l b e . given in the t a b l e are common p r e p o s i t i o n s on one a x i s   and common conceptual classes of nouns along the o t h e r a x i s . for each p o s s i b l e combination of p r e p o s i t i o n and noun in a p r e p o s i t i o n a l phrase 
  e . g .   t o   and  //person  in  he gave the book  to m a r y       the corresponding p r e f e r r e d act is looked up in the t a b l e   e . g . atrans   as w e l l as the p r e d i c t e d s l o t in the cd f o r the noun to f i l l  the to s l o t   . 
| //physobj //person //locale //concept //bodypart 
off 	ptrans  
from 
by 	| s c r i p t   
| instr 
i 
to 	|   
instr 
atrans ptrans from 
ptrans loc 
ptrans mtrans mobject 
  
instr   
instr to to into| propel propel ptrans mtrans ingest i to to to mobject to for each of these pairs of 	categories  preposi-t i o n / noun c l a s s     sample sentences are abundant. for example  the pair  off / //locale  could arise from the sentence  the man jumped off the b u i l d i n g     and the pair  into / //concept  occur in the sentence  he looked into the i n c i dent . the idea of   p r e f e r r i n g   a certain set of a t t r i b u t e s when in the presence of p a r t i a l i n formation has been used in other systems  see wilks  1 . note that the table is incomplete  and thus can not always provide enough information to allow the correct conceptualization to be chosen from the s c r i p t . further work is being done in this area. 
e. 	step 1: 	matching 
	recall the story that 	began 	this 	section. 
based 	on 	the 	above table  the second sentence  
 the car hied into a t r e e     would be represented as follows: 
k l : 	  actor  k1   -   bogus-act lexval  hied  
prefer  propel   to  k1   
k1: 	 //physobj type  *car*   
k1: 	 #physobj type  *tree*   
natural language-1: granger note that the act  propel  is preferred  and the conceptualization for the noun   t r e e   is put in the  to  s l o t . when apply attempts to match t h i s conceptualization into the s c r i p t   it discovers one tentative match  which has the same noun conceptualizations  corresponding to  car  and   t r e e     but the one for   t r e e   is in the object s l o t in the script conceptualization  and in the to s l o t in the cd  so the match can only be cons i d e r e d t e n t a t i v e .  this is an example of the i d i o m a t i c usage of v e r b - p r e p o s i t i o n p a i r s ment i o n e d e a r l i e r .   apply now looks at the i n f o r m a t i o n in the prefer s l o t of the  bogus-act  p l a c e - h o l d e r   which says t h a t the act should be a propel. since t h i s is in f a c t the act in the s c r i p t c o n c e p t u a l i z a t i o n   the match i s considered s u c c e s s f u l   and the word   h i e d   is d e f i n e d as b u i l d i n g a propel in t h i s c o n t e x t   the d e f i n i t i o n t h a t foul-up c r e a t e s f o r   h i e d   looks like the f o l l o w i n g : 
 prog nil 
	 defprop hied t verb  	 1  
 defprop hied *concept* isa  
 dc hied 
	 t 	 nil 	 bogactframe  nil 	 1  
actorsugg bysugg tosugg 
 object conreq  timesugg modesugg 
 from conreq   to conreq   
 nil  threeframe  quote hied   nil  1  subjsugg  obj synreq  recipsugg    
a g a i n   the d e f i n i t i o n i s i n 	three 	p a r t s : 	p a r t 
 1  puts the a p p r o p r i a t e i n t e r n a l p r o p e r t i e s   v e r b   and  concept  on the word; p a r t  1  def i n e s the conceptual  semantic  s t r u c t u r e b u i l d e r s and the e x p e c t a t i o n s f o r the subsequent s l o t - f i l l e r s ; and  1  d e f i n e s the s y n t a c t i c exp e c t a t i o n s and s l o t - f i l l e r s  see riesbeck and schank  1 . note that a l l the i n f o r m a t i o n provided by the f i r s t three steps   v e r b - f r a m e   p r e p o s i t i o n match and act preference  was in f a c t r e q u i r e d by the matching process b e f o r e the conc e p t u a l i z a t i o n could be recognized as a form of the p a t t e r n i n the s c r i p t . 
f. 	notes on how hard 	t h i s a l l 	is 
       the process j u s t described depends on the c u r r e n t s t a t e of knowledge of  1  p r e p o s i t i o n s and  1  conceptual classes of nouns. the theor i e s behind each of these are q u i t e p r i m i t i v e  no pun i n t e n d e d     and the above process f o r f o u l - u p s of verbs is at a c o r r e s p o n d i n g l y e a r l y stage of development. the problem of r e s o l v i n g the case ambiguity o f t e x t p r e p o s i t i o n s has proved i n t r a c t a b l e in many n a t u r a l language systems. general r u l e s f o r p r e p o s i t i o n s are r i d d l e d w i t h exceptions and s p e c i a l cases  and every p r e p o s i t i o n seems to have a myriad d i f f e r e n t uses. for an example of the d i v e r s i t y of uses of a s i n g l e p r e p o s i t i o n     f o r       see   h e m p h i l l   1 . simi l a r l y   the theory behind conceptual classes i n sam is c o n s i d e r a b l y l e s s developed than t h a t of p r i m i t i v e acts. other sets of conceptual classes and o b j e c t p r i m i t i v e s have been proposed in the p a s t   and perhaps the sam system  and foul-up  would b e n e f i t from a r e - e x a m i n a t i o n of the c u r r e n t c l a s s i f i c a t i o n system f o r nouns.  see weber  1  and l e h n e r t   1 . 
1. a d j e c t i v e s consider the s t o r y : 
         f r i d a y   a car swerved o f f route 1. the f l i b b y v e h i c l e s t r u c k a t r e e .   
the meaning of the word   f l i b b y   in the second sentence is not at a l l c l e a r   nor can it be e a s i l y f i g u r e d out from the c o n t e x t . i n f a c t   i t is not c l e a r whether or not the a d j e c t i v e even changes the meaning of the sentence at a l l   s i n c e the sentence can be understood in t h i s case by i g n o r i n g the unknown word. in f a c t   foul-up a t tempts to ignore unknown a d j e c t i v e s wherever p o s s i b l e   and cannot guess meanings f o r them in g e n e r a l . the methods used f o r nouns and verbs t o t a l l y break down when applied to a d j e c t i v e s . there are three c l o s e l y r e l a t e d reasons f o r t h i s : 
 1  a d j e c t i v e s are not expected in a sentence  in the sense of e x p e c t a t i o n we have been d e a l i n g w i t h . rather an a d j e c t i v e appears as a m o d i f i e r   a f f e c t i n g the meaning of the noun f o l l o w i n g i t . 
 1  there e x i s t no p r i m i t i v e s f o r a d j e c t i v e s corresponding to the r e l a t i v e l y comprehensive sets of p r i m i t i v e s w i t h i n the realms of nouns and 
verbs in cd r e p r e s e n t a t i o n . 
 1  the c o n c e p t u a l i z a t i o n b u i l t by an a d j e c t i v e u s u a l l y occupies an   e x t r a   s l o t in a cd  a t tached to the s l o t f i l l e d by the noun which the a d j e c t i v e m o d i f i e s . thus there is no purely  top-down  way to guess a meaning f o r an unknown a d j e c t i v e   s i n c e i t i s i n h e r e n t l y unexpected. 
       note t hat the ideas of e x p e c t a t i o n   conceptual c l a s s e s   and s l o t - f i l l i n g are a l l c l o s e l y r e l a t e d . the e x p e c t a t i o n s in both eli and apply are based on d i f f e r e n t i a t i o n between v a r i o u s cone e p t u a l classes of o b j e c t s   and the s l o t s are f i l l e d on the basis of the expectat i o n s . thus the l a c k of conceptual classes of 
a d j e c t i v e s causes the other d i f f i c u l t i e s   and they should not be viewed as independent problems. 
conclusion: limiting cases 
*  	s y n t a c t i c class l i m i t a t i o n s 
natural 	language-1: granger        it was s t a t e d e a r l i e r t h a t there might be no t h e o r e t i c a l l i m i t a t i o n on the classes of words t h a t foul-up could f i g u r e out from c o n t e x t   as long as there e x i s t e d eli and apply e x p e c t a t i o n s f o r the c o n c e p t u a l i z a t i o n s b u i l t by a word. we have now seen  however  t h a t d i f f e r e n t s y n t a c t i c classes of words present v a r y i n g degrees of d i f f i c u l t y to the foul-up program. the d i f f i c u l t i e s a r i s e depending on  1  the consistency and completeness of the e x i s t i n g r e p r e s e n t a t i o n a l schemes f o r a g i v e n s y n t a c t i c c l a s s   and  1  the amount of i n f o r m a t i o n contained in the s t r u c t u r e s t y p i c a l l y b u i l t b y words i n that s y n t a c t i c c l a s s . furthermore  we have seen t h a t the issues of exp e c t a t i o n on the one hand  and conceptual class on the o t h e r   cannot be e a s i l y s e p a r a t e d . thus the expectations f o r the members of c e r t a i n synt a c t i c classes are s t r o n g e r than f o r o t h e r s   depending on the r e l a t i v e thoroughness of the r e p r e s e n t a t i o n schemes f o r those c l a s s e s . thus s t r e n g t h of e x p e c t a t i o n is a l s o a  dependent  f a c t o r c o n t r i b u t i n g to the ease or d i f f i c u l t y of the foul-up task w i t h i n a given s y n t a c t i c c l a s s . 
       nouns are typically s l o t - f i l l e r s   builders of small structures containing relatively l i t t l e of the overall information present in a given conceptualization. they also have a reasonably consistent and complete representation in terms of conceptual classes. thus the process for figuring out unknown nouns from context is relatively straightforward. verbs are builders of large structures which contain most of the expectations for a given sentence  and which supply most of the structure to conceptualizations. they also have a consistent and complete representation in terms of primitive acts. thus they are more d i f f i c u l t to figure out from context than nouns. adjectives are not well defined or consistently represented in cd  and they build structures of varying size and complexity. furthermore  being conceptual modifiers  they lack 
pre-defined slots to f i l l in a conceptualization. thus 	it is natural that they should be most diff i c u l t   if not impossible  	to 	figure 	out 	from context. 
1. 	conceptual class limitations 
       assuming that a l l words can e v e n t u a l l y have t h e i r meanings represented in something akin to conceptual dependency r e p r e s e n t a t i o n   then there would s t i l l be l i m i t a t i o n s on foul-up's a b i l i t y to f i g u r e out words from c o n t e x t . to perform the process  a strong top-down c o n t e x t   l i k e a s c r i p t   is needed to provide the expected a t t r i b u t e s of unknown words. other l a r g e top-down frameworks  such as plans  see schank & abelson  1  or b e l i e f systems  see abelson  1   should t h e o r e t i c a l l y p r o v i d e enough context to enable words to be f i g u r e d out from those cont e x t s . for example  consider the f o l l o w i n g   p l a n n y   s t o r y : 
        john saw a menacing f i g u r e approaching h i s s t o r e . he reached i n t o the desk drawer and p u l l e d out a magnum.  
the word  magnum  in t h i s s t o r y is h i g h l y expected to be some kind of weapon or other prot e c t i v e device. that e x p e c t a t i o n could be set up by a p l a n - a p p l i e r mechanism  pam   see wilensky  1   and a v e r s i o n of foul-up could t h e o r e t i c a l l y use such e x p e c t a t i o n s to guess the meaning of the unknown word. however  s c r i p t s are very e x p l i c i t l y defined sequences o f a c t i o n s   w h i l e plans are much less e x p l i c i t l y sequenced  and b e l i e f systems s t i l l less so. i t i s t o b e expected that the a b i l i t y to f i g u r e out words from context w i l l d i m i n i s h a s the s t r i c t l y episodic nature  and thus the s t r e n g t h of the expectat i o n s   of the knowledge database d i m i n i s h e s . thus s c r i p t y s t o r i e s are i d e a l l y constructed f o r f i g u r i n g out words from c o n t e x t   plans are less so  and b e l i e f systems s t i l l l e s s . i t i s w o r t h -
w h i l e to r e i t e r a t e that the r e p r e s e n t a t i o n s being discussed are intended as models of the human understanding process  and thus t h a t the a b i l i t i e s and l i m i t a t i o n s of the programs are modelled a f t e r analogous processes in people. the foul-up program was designed to simulate a known human a b i l i t y   and to add t h i s a b i l i t y to the already e x i s t i n g sam system. since sam is intended to model the human understanding process w i t h i n the realm o f s c r i p t - b a s e d s t o r i e s   i t i s encouraging to note that the l i m i t a t i o n s of the foul-up seem t o c l o s e l y p a r a l l e l the l i m i t a t i o n s o f p e o p l e ' s a b i l i t y to perform the same task. c e r t a i n l y a program intended to model humans w i l l not be able to out-perform them  but r a t h e r should show the same s o r t s of a b i l i t i e s and shortcomings t h a t people show. in t h a t sense  the foul-up program has demonstrated some p s y c h o l o g i c a l v a l i d i t y f o r the sam system  and f o r conceptual dependency 
r e p r e s e n t a t i o n 	i t s e l f . 
