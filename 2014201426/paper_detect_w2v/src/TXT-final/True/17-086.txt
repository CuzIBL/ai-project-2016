 
we are exploring a system  called prompt  that will be capable of reasoning from first principles and high level knowledge in complex  physical domains. such problem-solving calls for a representation that will support the different analyses techniques required  e.g. differential  asymptotic  perturbation etc. . efficiency considerations require that the representation also support heuristic control of reasoning techniques. this paper lays the ground work for our effort by briefly describing the ontology and the representation scheme of prompt. our ontology allows reasoning about multiple pasts and different happenings in the same space-time. the ontology provides important distinctions between materials  objects  bulk and distributed abstractions among physical entities. we organise world knowledge into  prototypes  that are used to focus the reasoning process. problem-solving involves reasoning with and modifying prototypes. 
1 	introduction 
prompt  physical reasoning by the organisation and modification of prototypes  is a problem-solver operating in the world of devices: power supplies  printers  pens etc. the pilot study is in the world of pens and prompt is aimed at producing solutions to tasks such as: 
  design a pen that can write upside down. 
  why is my pen not writing on glass  
  what will happen to a pen at 1deg.f.  
solving such problems requires reasoning from fundamental knowledge of the world  first principles  deep knowledge  basics etc. . consider the task of designing a pen that writes upside down  i.e. on the ceiling . the solution to this problem requires fundamental reasoning about the effects of gravity on the ink and about forces that can reverse these effects. 
although pure forward chaining from first principles is an essential part of design verification  it is highly inefficient  as is pure backward chaining in open worlds. an efficient problem solver must heuristically control  and mix  fundamental and higher level reasoning to achieve reasonable performance. a powerful approach to effectively controlling fundamental and high-level reasoning is to provide a common substrate for the two by organising knowledge of the world  from first principles to higher level existing solutions  into hierarchies of structures called  prototypes . 
prototypes in prompt are descriptions of classes of elements rather than default structures  and solutions to problems often involve creating new prototypes by merging or modifying existing prototypes. the primary function of the prototype structure is to allow the heuristic control algorithms in prompt to focus the search and to index into the knowledge base. for example  assuming the system has a prototype for a ball-point pen  a heuristic algorithm for design might consist of: 
1. decide that the ball-point pen prototype is a reasonable starting point. 
1. diagnose why the ball-point pen prototype will not work upside down. 
1. solve the sub-goals  the defects noted above  by modifying the ball-point pen prototype. 
each of these steps is non-trivial and the focusing and indexing capabilities of the prototype structure are clearly advantageous.   addanki and davis 1a  contains more details of this algorithm  
the idea of prototypes organising knowledge has a venerable history; the basic notion crops up under various guises: schema  frames 
 minsky 1  winston 1  roberts and goldstein 1  bobrow and winograd 1  etc.1.   natural kinds  rosch 1   scripts  schank and abelson 1   templates  mccarty and sridharan 1  etc.. of these  only a few refer to modifications of prototypes   winston 1  in learning and  mccarty and sridharan 1  in problem solving. the work most closely related to ours is  mccarty and sridharan 1   in which a fixed set of transforms is used to generate modifications of prototypes in legal reasoning. however  expert problem solving often requires creating new modifications of prototypes and prompt is capable of generating transforms of prototypes from first principles. 
problem-solving in physical domains also requires an ontology that supports the different kinds of analyses required  e.g. differential  asymptotic  perturbation etc. . these analyses are greatly aided by an ontology that highlights the features of the elements appropriate to their roles in the analyses. our ontology extends current ontologies of time and physical entities to provide such a framework. 
the purpose of this paper is to briefly describe the foundations of our work in physical reasoning  namely  the ontology and representation of prompt. 
1 the ontology. 
our ontology of the world consists of time  entities  relations  and processes. entities  relations  and processes are represented in prototype form. this section briefly sketches our ontology; a more complete account of our characterisation of time may be found in  addanki and davis 1a . 
time 
our temporal logic is based on the idea of mapping the continuous time line  isomorphic to r1  into the states of the world. the approach is similar to  hayes 1 and mcdermott 1 . a  state  is a snapshot of the world at a fixed time  specifying all the extant entities  their properties  including spatial properties   the relations between them  and the processes that affect them. a  scene  is a partial description of a state. a  history  is a function from an interval of time to scenes. in other words  a history specifies some of what is going on during some time period. defining a history in this manner allows the system to reason about different  happenings  in the same space and time  e.g. current flow and heating in a resistor . a  chronicle  is a function from the real line to states; that is  a chronicle specifies all of what happens throughout time. in problem solving it is necessary to reason about alternative sequences of past and future states  diagnosis and planning . hence we allow reasoning about 
1 	s. addanki and e. davis 
multiple chronicles. an important predicate on chronicles is  physical possibility ; a chronicle is physically-possible if it observes known scientific laws. 
physical entities. 
physical entities are the actual  things  that exist in the world  that take part in relations and processes. entities are either generic or individual. 
generic entities include the following: 
1.  any solid  liquid  or gaseous material which can be considered homogeneous at some scale of material  e.g. copper  water  mud etc. . the knowledge stored includes the physical properties of materials. 
1.  simple homogeneous objects are those that are composed entirely of the same material and are typically solid simple homogeneous objects  e.g. a screw  a cam etc. . while it is possible to reason about 1cc. of water as a simple homogeneous object  reasoning about locc. of oxygen introduces the necessity to specify the temperature and pressure of the gas  a compexity that we avoid for the present. knowledge here includes shape  size  cost  etc.. 
1.  an assemblage is an entitiy that is composed of solid  liquid  or gaseous simple homogeneous objects. a subclass of assemblages is the class of solid objects  hayes 1   that consists of those objects that are either uniform in material  or are composed of connected sub-parts that are themselves solid objects. apart from shape  size  and decompositional information  assemblages point to functions and proofs of the functions served by the assemblage. assemblages also point to the histories in which they take part. for example  the assemblage pen points to the statement and proof that pen's are used in the controlled deposition of ink on a surface. the assemblage also points to the description of the writing history. 
1.  types of physical entities that are associated with an assemblage as a whole  e.g. energy  momentum  mass  entropy  etc. . knowledge here includes equations that help compute necessary parameter values. 
1.  physical entities defined at each point in a region  e.g. fields  temperature  density  etc. . 
the systems entire knowledge of basic physics is stored under entities of the form 1  1  or 1. for example  newton's laws are indexed under force in 1 and the material properties of copper are stored under copper in 1. higher level  more specific knowledge is indexed under 1 and 1. 
the categories of individual entities correspond to the kinds of generic entities. they include:  1  infinitesimal pieces of solids  liquids  or gases  e.g. water1 ;  1  individual simple objects  e.g. cam1 ; individual assemblages  e.g. the sun ; individual physical abstractioni  e.g. kinetic energy pen1  ; individual distributions  temperature  inside box1   . individual entities are individuated by their parameter values and positions as a function of time. 
relations  
relations are predicates and properties of entities that hold between individual entities in a given state. for example two objects abut  a reservoir contains a liquid and a force applies to an object. all our relations are generic. 
processes. 
in principle  given the starting state of a system  it is possible to predict all subsequent behaviour from basic laws of physics. in practice  the need for efficiency in such prediction dictates the need to  precan  many known types of behaviours. such pre-canned histories have been termed processes  forbus 1 ; examples are rolling  boiling   liquid flow and bouncing. the knowledge associated with these processes includes the entities involved  the dynamics of the history  what the entities do etc.   the conditions needed to start the history  the conditions needed to maintain the history  the effects of the history  and any equations associated with the history. finally  we store a proof  from basic physics  that if the starting and maintenance conditions are met  the history will take place and have the stated effects. 
our representation of processes extends previous efforts by explicitly specifying the behaviour of the entities involved. in liquid flow  for example  part of this knowledge states that pieces of liquid translate along a channel. such knowledge is essential in first principles reasoning about interactions such as the one between liquid flow and a turbine or strain-guage pressure sensor. the analysis of impulse and the consequent transfer of momentum is easy if liquid-flow is thought of as many pieces of liquid  each of which has a mass and velocity  impinging on the turbine or sensor. allowing the size of the piece of liquid go to zero in such reasoning leads to the powerful techniques of differential calculus and analysis. while such techniques may not be necessary in  naive  reasoning  they are invaluable in the kinds of problem solving prompt is meant to do. 
1 the prototype representation. 
a prototype is a named chunk of information about an entity  relation  or process. prototypes are organised into is.a and part.of hierarchies. the knowledge inside a prototype is grouped into categories to allow rapid access to the different types of knowledge  e.g. preconditional  computational  etc.  required by a problem solver. the structure of a prototype consists of a tag that identifies the prototype as that of an entity  relation  or history  the name of the prototype  pointers to proofs and histories  and a selection of categories of knowledge about the element. the prototype of an element need not contain all the information about the element; elements may take part in descriptions that are specified only in prototypes of other elements. 
 entities  relations  and histories  collectively 
called elements  either exist at the beginning of the universe or they come into existence during some part of each chronicle. this history is the core of generating the entity  relation  or history and is a part of preconditional knowledge. for example  the precondition of a bpen is: if  x  is a bpen at time  t  in a physically-possiblechronicle  chr   then it must have been the case that the process pen-manufacture took place during an interval in that chronicle and the end of the interval preceeded  t . 
definitions of elements often include constraints that must be satisfied if the element is to exist. for example  if sliding-friction is to exist between x and y  it is required that x and y be solid and in contact  and that the relative motion and normal force between x and y be greater than zero. 
preconditions may be necessary  e.g. bpen  or necessary and sufficient  e.g. sliding-friction  or just sufficient. 
given a state of the world  the existence of an element constrains  through its preconditions  possible histories that led to this state. also  given a state of the world  the existence of sufficient preconditions implies the existence of the element. 
definitional knowledge: abstract entities and relations are described by relations on parts of entities for example  
strictly-space-connected is described by the fact that the opening of one of the objects is contained in the opening of the other  that the boundary of one of the openings is flush with the surface of the other  and the objects do not otherwise intersect. rigid-attached says that the two objects maintain a fixed spatial relationship to each other and that a force on one object is transmitted to the other and that the two can be treated as one object.  note the redundancy here. this is common in our prototype representation and desirable in problem solving.  
processes are defined by the essential change during the process. for example  the essential change in liquid flow is that a piece of liquid changes position along a channel. this is one major extension we make to the representation of  forbus 1 ; the benefits of the extension were discussed earlier. 
physical knowledge: the counterpart of definitional knowledge for assemblages is the description of the physical properties of the objects. physical descriptions of objects include properties such as size  shape  material  weight  and so on. the prototype of bpen describes it to be solid  made of many materials  generally cylindrical  within a given mass range and so on. 
an important gap in our system is the representation of shape. any system that reasons about designs of devices must be able to represent and reason about shape  particularly if the devices are in any way mechanical. shape representations are traditionally a hard problem and we have no easy solution  see  davis 1  for some of the issues involved . 
physical knowledge is essential in any reasoning about objects. for example  attempting to determine if a component fits into a given space  or determining if a component can withstand a given physical load  requires physical knowledge of the component. 
structure: entities bear structural relationships to other entities. for example  the reservoir of a cartridge contains ink  and the reservoir is attached to the tip. these relations form hierarchies of detail: at the next level of detail  the reservoir and tip-casing are glued  along a surface with a given glue . processes can also bear structural relationships to each other. gas-flow interacts with turbine-spin in the design of turbo-jets  and the destination of liquid-flow in the cartridge is the surface of a ball in ball-roll. 
although 	it 	is 	possible 	to 	infer 	the 	interaction 	between 
liquid-flow and ball-rolls from geometric knowledge  we see no reason to make the system artificially ignorant. structural knowledge permits rapid deduction of many of the interactions within a device 
functional knowledge: components of devices take part in processes; i.e. they are bound to variables in the process definitions. functional knowledge about a component is this binding information. for example  a piece of paper might be bound to the variable  surface  on which the ball rolls in the process ball-rolls. 
modifying components of a device requires knowledge of the roles of the component in the functioning of the device. functional knowledge allows the problem solver to identify those existing contraints that must continue to be met by the modified component by highlighting the processes in which the component participates. 
decompositional knowledge: elements of each of the primitive classes form part.of herarchies and this category of knowledge describes the place of the element in its part.of hierarchy. 
hirarchical 	knowledge: 	elements 	of 	the 	classes 	form 	is.a 
 specialisation  hierarchies  and the place of an element within its hierachy is described by hierarchical knowledge. again the examples are straightforward. 
continuation conditions: relations and processes continue to exist provided certain conditions are not violated. for example  attached continues to hold provided the force on the fastener is less than the strength of the fastener. similarly  heat-flow continues as long as there is a temparature difference and a path for the flow of heat. note that while continuation conditions appear similar to preconditions  they are not the fame. it might be a precondition to a wood fire that a match be held to firewood. it is certainly not a continuation condition that a match be held to the wood. 
	s. addanki and e. davis 	1 
continuation conditions are very useful in  limit critical point analysis  : a process ceases when one of its continuation conditions is false and the values of the variables involved in the condition being false are  critical points  of the variables with respect to this process. given that a process is in execution   critical point analysis  consists of analysing the behaviours of variables to see which  critical points  are reached and when they are reached.  this is an extension of  limit value analysis  of  forbus 1 .  
computational knowledge. computational knowledge consists of declarative representation of equations and algorithms that are used in various computations with entities. for example  we often use f = ma and friction = un in mechanical computations. more complicated computations are those in fluid flow  navier-stokes equations  or thermodynamics  the laws . 
expert problem solving in physical domains requires numerical solutions of many problems; having a declarative representation of the computations admits the capability for a future system to change its theories of the world! 
1 conclusions. 
initial efforts at implementing an envisioning system  the critiquer in 
prompt  addanki and davis 1b   have clearly demonstrated the efficacy of the ontology and the prototype representation system in the heuristic control of reasoning. briefly  our envisioning system consists of several weakly coupled analysers operating in parallel  that exchange results and newly-discovered information in order to constrain search. our prototypes greatly simplify the required tight control of forward chaining and the ontology is very helpful in deciding how some newly discoverd piece of knowledge is to be disseminated. 
comparisons of prompt to qpt  forbus 1  and envisionment  dekleer and brown 1  are unfair to all systems because the purpose of prompt is different from that of the others. while qpt and envisionment seek to reason at the naive level within  closed  worlds  prompt seeks to reason at the expert level from first principles in a world where these principles themselves may be changed by prompt. although the current version of prompt does not change the basic rules  these rules are themselves prototypes and can be be modified! worth pointing out however  is the explicit description of the behaviour of entities and the continuation conditions in prompt's processes. these two allow prompt to analyse unanticipated interactions and to deduce  limit points   forbus 1  on the fly. 
the first principles reasoning and the possible  openness  of the world resulted in important extensions to current ontologies. one thrust of the extensions was to provide a substrate for the analyses techniques required  e.g. differential analysis . the ability to reason about different happenings in the same space-time allows the system to reason about interacting/overlapping sub-systems separately  and later consider their interactions. reasoning about multiple pasts is essential to prompt's critiquing and diagnosing abilities. further  we believe that the distinctions in the different types of physical entities  materials  assemblages  bulk  and distributed abstractions  will prove crucial to our work in physical reasoning. 

1 	s. addanki and e. davis 
addanki  s. and davis  e.s.  prompt: physical reasoning from prototypes   in prep. . 
addanki  s. and davis  e.s.  envisioning in parallel   in prep.  
davis  e.s.  shape and function of solid objects: some examples.  tr xx the courant institute  new york university  1. 
dekleer  j. and brown  j.s.  a qualitative physics based on confluences.  ai journal  1-1. 1. 
bobrow  d.g. and winograd  t.  an overview of krl-1  a know* ledge representation language. cognitive science 1 1. 
forbus  k.d.  qualitative process theory. ai journal  1-1  1. 
hayes  p j.  the naive physics manifesto. 1 
mcdennott  d.  a temporal logic for reasoning about processes and plans. cognitive science  1  1  1. 
minsky  m.  a framework for representing knowledge. mcgraw 
hill  1. 
roberts  r.b. and goldstein  i.p.  the frl primer. ai memo 1  mit 1. 
roach  e. and lloyd  b.b.  cognition and categorisation. lawrence erlbaum associates  1. 
schank  r.c. and abelson  r.p.. scripts  plans  goals  and understanding. lawrence erlbaum associates  1. 
mccarty  l.t. and sridharan  n.s.  the representation of an evolving system of legal concepts. ijcai 1  vol. 1  pp1. 
winston  p.h.. learning by creating and justifying transfer frames. artificial intelligence  1  1  1. 
appendix: the pen world 
an ordinary bic-like pen has about eight parts  yet its function involves interactions between gravity  viscosity  cohesion  adhesion  friction  and simple forces; not to mention constraints on rigid objects and geometry. this property of incorporating complicated phenomena without having to represent a multiplicity of parts makes the pen world particularly attractive for investigations of physical reasoning. 
the bic-like pen. 
we assume that our pen consists of seven parts. the housing consists of three parts and the cartridge of four. the housing consists of a main body  a hollow truncated cone attached at the lower end  and a cap that is a disk with a cylindrical indentation. the cartridge consists of a main body  a shaft of narrower diameter and the tip. the cartridge is held in the housing because the indentation in the cap holds the upper end of the main body of the cartridge and while the shaft fits through the hole in truncated cone of the housing the main body of the cartridge does not  see fig. 1.  the tip of the cartridge consists of a hollow truncated cone that contains the ball. the ball is restrained on the upper end by the restraint. 
the functioning of the pen  with little idealisation  is as follows: gravity pulls the ink in the cartridge down into the tip and into contact with the ball. when the ball is pressed against a rough surface  by a force on the housing  and moved in the horizontal plane the ball rolls because the friction between ball and surface is greater than the friction between ball and tip.  abo the ink tends to provide a certain measure of lubrication.  a layer of ink in contact with the ball sticks to the ball because the adhesion between ball and ink is greater than the cohesion of the ink. this ink is transferred  by the rolling ball  through the gaps between ball and tip  to the paper.  under normal circumstances the ink does not leak through these gaps because the viscosity of the ink is too high to allow the ink to flow through the small gaps.  
